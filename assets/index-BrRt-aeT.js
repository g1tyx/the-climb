(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ha(e,t){const n=new Set(e.split(","));return s=>n.has(s)}const ht={},po=[],un=()=>{},qu=()=>!1,Or=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Pa=e=>e.startsWith("onUpdate:"),Ft=Object.assign,Aa=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Fu=Object.prototype.hasOwnProperty,We=(e,t)=>Fu.call(e,t),Ee=Array.isArray,_o=e=>Wr(e)==="[object Map]",mc=e=>Wr(e)==="[object Set]",Me=e=>typeof e=="function",$t=e=>typeof e=="string",Ds=e=>typeof e=="symbol",Et=e=>e!==null&&typeof e=="object",pc=e=>(Et(e)||Me(e))&&Me(e.then)&&Me(e.catch),_c=Object.prototype.toString,Wr=e=>_c.call(e),Uu=e=>Wr(e).slice(8,-1),hc=e=>Wr(e)==="[object Object]",Ba=e=>$t(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Go=Ha(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Lu=/-(\w)/g,Pn=Gr(e=>e.replace(Lu,(t,n)=>n?n.toUpperCase():"")),Ou=/\B([A-Z])/g,bo=Gr(e=>e.replace(Ou,"-$1").toLowerCase()),Kr=Gr(e=>e.charAt(0).toUpperCase()+e.slice(1)),na=Gr(e=>e?`on${Kr(e)}`:""),ss=(e,t)=>!Object.is(e,t),xr=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},yc=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},wa=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let nl;const vc=()=>nl||(nl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function jr(e){if(Ee(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=$t(s)?ju(s):jr(s);if(o)for(const a in o)t[a]=o[a]}return t}else if($t(e)||Et(e))return e}const Wu=/;(?![^(]*\))/g,Gu=/:([^]+)/,Ku=/\/\*[^]*?\*\//g;function ju(e){const t={};return e.replace(Ku,"").split(Wu).forEach(n=>{if(n){const s=n.split(Gu);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function se(e){let t="";if($t(e))t=e;else if(Ee(e))for(let n=0;n<e.length;n++){const s=se(e[n]);s&&(t+=s+" ")}else if(Et(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Nu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Vu=Ha(Nu);function wc(e){return!!e||e===""}const H=e=>$t(e)?e:e==null?"":Ee(e)||Et(e)&&(e.toString===_c||!Me(e.toString))?JSON.stringify(e,kc,2):String(e),kc=(e,t)=>t&&t.__v_isRef?kc(e,t.value):_o(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],a)=>(n[sa(s,a)+" =>"]=o,n),{})}:mc(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>sa(n))}:Ds(t)?sa(t):Et(t)&&!Ee(t)&&!hc(t)?String(t):t,sa=(e,t="")=>{var n;return Ds(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _n;class Qu{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=_n,!t&&_n&&(this.index=(_n.scopes||(_n.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=_n;try{return _n=this,t()}finally{_n=n}}}on(){_n=this}off(){_n=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function Yu(e,t=_n){t&&t.active&&t.effects.push(e)}function Ju(){return _n}let Rs;class qa{constructor(t,n,s,o){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Yu(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,os();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(zu(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),rs()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=ts,n=Rs;try{return ts=!0,Rs=this,this._runnings++,sl(this),this.fn()}finally{il(this),this._runnings--,Rs=n,ts=t}}stop(){this.active&&(sl(this),il(this),this.onStop&&this.onStop(),this.active=!1)}}function zu(e){return e.value}function sl(e){e._trackId++,e._depsLength=0}function il(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)bc(e.deps[t],e);e.deps.length=e._depsLength}}function bc(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let ts=!0,ka=0;const Ec=[];function os(){Ec.push(ts),ts=!1}function rs(){const e=Ec.pop();ts=e===void 0?!0:e}function Fa(){ka++}function Ua(){for(ka--;!ka&&ba.length;)ba.shift()()}function Ic(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&bc(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const ba=[];function Sc(e,t,n){Fa();for(const s of e.keys()){let o;s._dirtyLevel<t&&(o??(o=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(o??(o=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&ba.push(s.scheduler)))}Ua()}const xc=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Ea=new WeakMap,Ts=Symbol(""),Ia=Symbol("");function Jt(e,t,n){if(ts&&Rs){let s=Ea.get(e);s||Ea.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=xc(()=>s.delete(n))),Ic(Rs,o)}}function Wn(e,t,n,s,o,a){const d=Ea.get(e);if(!d)return;let f=[];if(t==="clear")f=[...d.values()];else if(n==="length"&&Ee(e)){const _=Number(s);d.forEach((b,I)=>{(I==="length"||!Ds(I)&&I>=_)&&f.push(b)})}else switch(n!==void 0&&f.push(d.get(n)),t){case"add":Ee(e)?Ba(n)&&f.push(d.get("length")):(f.push(d.get(Ts)),_o(e)&&f.push(d.get(Ia)));break;case"delete":Ee(e)||(f.push(d.get(Ts)),_o(e)&&f.push(d.get(Ia)));break;case"set":_o(e)&&f.push(d.get(Ts));break}Fa();for(const _ of f)_&&Sc(_,4);Ua()}const Xu=Ha("__proto__,__v_isRef,__isVue"),Mc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ds)),ol=Zu();function Zu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=Ke(this);for(let a=0,d=this.length;a<d;a++)Jt(s,"get",a+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(Ke)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){os(),Fa();const s=Ke(this)[t].apply(this,n);return Ua(),rs(),s}}),e}function ed(e){Ds(e)||(e=String(e));const t=Ke(this);return Jt(t,"has",e),t.hasOwnProperty(e)}class Rc{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){const o=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return a;if(n==="__v_raw")return s===(o?a?fd:Cc:a?Dc:$c).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const d=Ee(t);if(!o){if(d&&We(ol,n))return Reflect.get(ol,n,s);if(n==="hasOwnProperty")return ed}const f=Reflect.get(t,n,s);return(Ds(n)?Mc.has(n):Xu(n))||(o||Jt(t,"get",n),a)?f:Dt(f)?d&&Ba(n)?f:f.value:Et(f)?o?Hc(f):nr(f):f}}class Tc extends Rc{constructor(t=!1){super(!1,t)}set(t,n,s,o){let a=t[n];if(!this._isShallow){const _=Yo(a);if(!Pr(s)&&!Yo(s)&&(a=Ke(a),s=Ke(s)),!Ee(t)&&Dt(a)&&!Dt(s))return _?!1:(a.value=s,!0)}const d=Ee(t)&&Ba(n)?Number(n)<t.length:We(t,n),f=Reflect.set(t,n,s,o);return t===Ke(o)&&(d?ss(s,a)&&Wn(t,"set",n,s):Wn(t,"add",n,s)),f}deleteProperty(t,n){const s=We(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&Wn(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!Ds(n)||!Mc.has(n))&&Jt(t,"has",n),s}ownKeys(t){return Jt(t,"iterate",Ee(t)?"length":Ts),Reflect.ownKeys(t)}}class td extends Rc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const nd=new Tc,sd=new td,id=new Tc(!0);const La=e=>e,Nr=e=>Reflect.getPrototypeOf(e);function dr(e,t,n=!1,s=!1){e=e.__v_raw;const o=Ke(e),a=Ke(t);n||(ss(t,a)&&Jt(o,"get",t),Jt(o,"get",a));const{has:d}=Nr(o),f=s?La:n?Ga:Jo;if(d.call(o,t))return f(e.get(t));if(d.call(o,a))return f(e.get(a));e!==o&&e.get(t)}function gr(e,t=!1){const n=this.__v_raw,s=Ke(n),o=Ke(e);return t||(ss(e,o)&&Jt(s,"has",e),Jt(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function fr(e,t=!1){return e=e.__v_raw,!t&&Jt(Ke(e),"iterate",Ts),Reflect.get(e,"size",e)}function rl(e){e=Ke(e);const t=Ke(this);return Nr(t).has.call(t,e)||(t.add(e),Wn(t,"add",e,e)),this}function al(e,t){t=Ke(t);const n=Ke(this),{has:s,get:o}=Nr(n);let a=s.call(n,e);a||(e=Ke(e),a=s.call(n,e));const d=o.call(n,e);return n.set(e,t),a?ss(t,d)&&Wn(n,"set",e,t):Wn(n,"add",e,t),this}function ll(e){const t=Ke(this),{has:n,get:s}=Nr(t);let o=n.call(t,e);o||(e=Ke(e),o=n.call(t,e)),s&&s.call(t,e);const a=t.delete(e);return o&&Wn(t,"delete",e,void 0),a}function cl(){const e=Ke(this),t=e.size!==0,n=e.clear();return t&&Wn(e,"clear",void 0,void 0),n}function mr(e,t){return function(s,o){const a=this,d=a.__v_raw,f=Ke(d),_=t?La:e?Ga:Jo;return!e&&Jt(f,"iterate",Ts),d.forEach((b,I)=>s.call(o,_(b),_(I),a))}}function pr(e,t,n){return function(...s){const o=this.__v_raw,a=Ke(o),d=_o(a),f=e==="entries"||e===Symbol.iterator&&d,_=e==="keys"&&d,b=o[e](...s),I=n?La:t?Ga:Jo;return!t&&Jt(a,"iterate",_?Ia:Ts),{next(){const{value:$,done:j}=b.next();return j?{value:$,done:j}:{value:f?[I($[0]),I($[1])]:I($),done:j}},[Symbol.iterator](){return this}}}}function Qn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function od(){const e={get(a){return dr(this,a)},get size(){return fr(this)},has:gr,add:rl,set:al,delete:ll,clear:cl,forEach:mr(!1,!1)},t={get(a){return dr(this,a,!1,!0)},get size(){return fr(this)},has:gr,add:rl,set:al,delete:ll,clear:cl,forEach:mr(!1,!0)},n={get(a){return dr(this,a,!0)},get size(){return fr(this,!0)},has(a){return gr.call(this,a,!0)},add:Qn("add"),set:Qn("set"),delete:Qn("delete"),clear:Qn("clear"),forEach:mr(!0,!1)},s={get(a){return dr(this,a,!0,!0)},get size(){return fr(this,!0)},has(a){return gr.call(this,a,!0)},add:Qn("add"),set:Qn("set"),delete:Qn("delete"),clear:Qn("clear"),forEach:mr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=pr(a,!1,!1),n[a]=pr(a,!0,!1),t[a]=pr(a,!1,!0),s[a]=pr(a,!0,!0)}),[e,n,t,s]}const[rd,ad,ld,cd]=od();function Oa(e,t){const n=t?e?cd:ld:e?ad:rd;return(s,o,a)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(We(n,o)&&o in s?n:s,o,a)}const ud={get:Oa(!1,!1)},dd={get:Oa(!1,!0)},gd={get:Oa(!0,!1)};const $c=new WeakMap,Dc=new WeakMap,Cc=new WeakMap,fd=new WeakMap;function md(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pd(e){return e.__v_skip||!Object.isExtensible(e)?0:md(Uu(e))}function nr(e){return Yo(e)?e:Wa(e,!1,nd,ud,$c)}function _d(e){return Wa(e,!1,id,dd,Dc)}function Hc(e){return Wa(e,!0,sd,gd,Cc)}function Wa(e,t,n,s,o){if(!Et(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=o.get(e);if(a)return a;const d=pd(e);if(d===0)return e;const f=new Proxy(e,d===2?s:n);return o.set(e,f),f}function Ko(e){return Yo(e)?Ko(e.__v_raw):!!(e&&e.__v_isReactive)}function Yo(e){return!!(e&&e.__v_isReadonly)}function Pr(e){return!!(e&&e.__v_isShallow)}function Pc(e){return e?!!e.__v_raw:!1}function Ke(e){const t=e&&e.__v_raw;return t?Ke(t):e}function le(e){return Object.isExtensible(e)&&yc(e,"__v_skip",!0),e}const Jo=e=>Et(e)?nr(e):e,Ga=e=>Et(e)?Hc(e):e;class Ac{constructor(t,n,s,o){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new qa(()=>t(this._value),()=>Mr(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const t=Ke(this);return(!t._cacheable||t.effect.dirty)&&ss(t._value,t._value=t.effect.run())&&Mr(t,4),Bc(t),t.effect._dirtyLevel>=2&&Mr(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function hd(e,t,n=!1){let s,o;const a=Me(e);return a?(s=e,o=un):(s=e.get,o=e.set),new Ac(s,o,a||!o,n)}function Bc(e){var t;ts&&Rs&&(e=Ke(e),Ic(Rs,(t=e.dep)!=null?t:e.dep=xc(()=>e.dep=void 0,e instanceof Ac?e:void 0)))}function Mr(e,t=4,n){e=Ke(e);const s=e.dep;s&&Sc(s,t)}function Dt(e){return!!(e&&e.__v_isRef===!0)}function nt(e){return yd(e,!1)}function yd(e,t){return Dt(e)?e:new vd(e,t)}class vd{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ke(t),this._value=n?t:Jo(t)}get value(){return Bc(this),this._value}set value(t){const n=this.__v_isShallow||Pr(t)||Yo(t);t=n?t:Ke(t),ss(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Jo(t),Mr(this,4))}}function r(e){return Dt(e)?e.value:e}const wd={get:(e,t,n)=>r(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return Dt(o)&&!Dt(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function qc(e){return Ko(e)?e:new Proxy(e,wd)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ns(e,t,n,s){try{return s?e(...s):e()}catch(o){Vr(o,t,n)}}function kn(e,t,n,s){if(Me(e)){const o=ns(e,t,n,s);return o&&pc(o)&&o.catch(a=>{Vr(a,t,n)}),o}if(Ee(e)){const o=[];for(let a=0;a<e.length;a++)o.push(kn(e[a],t,n,s));return o}}function Vr(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let a=t.parent;const d=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const b=a.ec;if(b){for(let I=0;I<b.length;I++)if(b[I](e,d,f)===!1)return}a=a.parent}const _=t.appContext.config.errorHandler;if(_){os(),ns(_,null,10,[e,d,f]),rs();return}}kd(e,n,o,s)}function kd(e,t,n,s=!0){console.error(e)}let zo=!1,Sa=!1;const Ut=[];let Hn=0;const ho=[];let Xn=null,xs=0;const Fc=Promise.resolve();let Ka=null;function ja(e){const t=Ka||Fc;return e?t.then(this?e.bind(this):e):t}function bd(e){let t=Hn+1,n=Ut.length;for(;t<n;){const s=t+n>>>1,o=Ut[s],a=Xo(o);a<e||a===e&&o.pre?t=s+1:n=s}return t}function Na(e){(!Ut.length||!Ut.includes(e,zo&&e.allowRecurse?Hn+1:Hn))&&(e.id==null?Ut.push(e):Ut.splice(bd(e.id),0,e),Uc())}function Uc(){!zo&&!Sa&&(Sa=!0,Ka=Fc.then(Oc))}function Ed(e){const t=Ut.indexOf(e);t>Hn&&Ut.splice(t,1)}function Id(e){Ee(e)?ho.push(...e):(!Xn||!Xn.includes(e,e.allowRecurse?xs+1:xs))&&ho.push(e),Uc()}function ul(e,t,n=zo?Hn+1:0){for(;n<Ut.length;n++){const s=Ut[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;Ut.splice(n,1),n--,s()}}}function Lc(e){if(ho.length){const t=[...new Set(ho)].sort((n,s)=>Xo(n)-Xo(s));if(ho.length=0,Xn){Xn.push(...t);return}for(Xn=t,xs=0;xs<Xn.length;xs++)Xn[xs]();Xn=null,xs=0}}const Xo=e=>e.id==null?1/0:e.id,Sd=(e,t)=>{const n=Xo(e)-Xo(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Oc(e){Sa=!1,zo=!0,Ut.sort(Sd);try{for(Hn=0;Hn<Ut.length;Hn++){const t=Ut[Hn];t&&t.active!==!1&&ns(t,null,14)}}finally{Hn=0,Ut.length=0,Lc(),zo=!1,Ka=null,(Ut.length||ho.length)&&Oc()}}function xd(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ht;let o=n;const a=t.startsWith("update:"),d=a&&t.slice(7);if(d&&d in s){const I=`${d==="modelValue"?"model":d}Modifiers`,{number:$,trim:j}=s[I]||ht;j&&(o=n.map(re=>$t(re)?re.trim():re)),$&&(o=n.map(wa))}let f,_=s[f=na(t)]||s[f=na(Pn(t))];!_&&a&&(_=s[f=na(bo(t))]),_&&kn(_,e,6,o);const b=s[f+"Once"];if(b){if(!e.emitted)e.emitted={};else if(e.emitted[f])return;e.emitted[f]=!0,kn(b,e,6,o)}}function Wc(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const a=e.emits;let d={},f=!1;if(!Me(e)){const _=b=>{const I=Wc(b,t,!0);I&&(f=!0,Ft(d,I))};!n&&t.mixins.length&&t.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}return!a&&!f?(Et(e)&&s.set(e,null),null):(Ee(a)?a.forEach(_=>d[_]=null):Ft(d,a),Et(e)&&s.set(e,d),d)}function Qr(e,t){return!e||!Or(t)?!1:(t=t.slice(2).replace(/Once$/,""),We(e,t[0].toLowerCase()+t.slice(1))||We(e,bo(t))||We(e,t))}let Bt=null,Yr=null;function Ar(e){const t=Bt;return Bt=e,Yr=e&&e.type.__scopeId||null,t}function lt(e){Yr=e}function ct(){Yr=null}function sr(e,t=Bt,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&kl(-1);const a=Ar(t);let d;try{d=e(...o)}finally{Ar(a),s._d&&kl(1)}return d};return s._n=!0,s._c=!0,s._d=!0,s}function ia(e){const{type:t,vnode:n,proxy:s,withProxy:o,propsOptions:[a],slots:d,attrs:f,emit:_,render:b,renderCache:I,props:$,data:j,setupState:re,ctx:De,inheritAttrs:ge}=e,st=Ar(e);let _t,yt;try{if(n.shapeFlag&4){const dt=o||s,xt=dt;_t=Cn(b.call(xt,dt,I,$,re,j,De)),yt=f}else{const dt=t;_t=Cn(dt.length>1?dt($,{attrs:f,slots:d,emit:_}):dt($,null)),yt=t.props?f:Md(f)}}catch(dt){Qo.length=0,Vr(dt,e,1),_t=J(is)}let Be=_t;if(yt&&ge!==!1){const dt=Object.keys(yt),{shapeFlag:xt}=Be;dt.length&&xt&7&&(a&&dt.some(Pa)&&(yt=Rd(yt,a)),Be=vo(Be,yt,!1,!0))}return n.dirs&&(Be=vo(Be,null,!1,!0),Be.dirs=Be.dirs?Be.dirs.concat(n.dirs):n.dirs),n.transition&&(Be.transition=n.transition),_t=Be,Ar(st),_t}const Md=e=>{let t;for(const n in e)(n==="class"||n==="style"||Or(n))&&((t||(t={}))[n]=e[n]);return t},Rd=(e,t)=>{const n={};for(const s in e)(!Pa(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Td(e,t,n){const{props:s,children:o,component:a}=e,{props:d,children:f,patchFlag:_}=t,b=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&_>=0){if(_&1024)return!0;if(_&16)return s?dl(s,d,b):!!d;if(_&8){const I=t.dynamicProps;for(let $=0;$<I.length;$++){const j=I[$];if(d[j]!==s[j]&&!Qr(b,j))return!0}}}else return(o||f)&&(!f||!f.$stable)?!0:s===d?!1:s?d?dl(s,d,b):!0:!!d;return!1}function dl(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const a=s[o];if(t[a]!==e[a]&&!Qr(n,a))return!0}return!1}function $d({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Dd="components",Gc=Symbol.for("v-ndc");function Eo(e){return $t(e)?Cd(Dd,e,!1)||e:e||Gc}function Cd(e,t,n=!0,s=!1){const o=Bt||Lt;if(o){const a=o.type;{const f=Ig(a,!1);if(f&&(f===t||f===Pn(t)||f===Kr(Pn(t))))return a}const d=gl(o[e]||a[e],t)||gl(o.appContext[e],t);return!d&&s?a:d}}function gl(e,t){return e&&(e[t]||e[Pn(t)]||e[Kr(Pn(t))])}const Hd=e=>e.__isSuspense;function Pd(e,t){t&&t.pendingBranch?Ee(e)?t.effects.push(...e):t.effects.push(e):Id(e)}const Ad=Symbol.for("v-scx"),Bd=()=>Rr(Ad),_r={};function yo(e,t,n){return Kc(e,t,n)}function Kc(e,t,{immediate:n,deep:s,flush:o,once:a,onTrack:d,onTrigger:f}=ht){if(t&&a){const Te=t;t=(...Ht)=>{Te(...Ht),xt()}}const _=Lt,b=Te=>s===!0?Te:Ms(Te,s===!1?1:void 0);let I,$=!1,j=!1;if(Dt(e)?(I=()=>e.value,$=Pr(e)):Ko(e)?(I=()=>b(e),$=!0):Ee(e)?(j=!0,$=e.some(Te=>Ko(Te)||Pr(Te)),I=()=>e.map(Te=>{if(Dt(Te))return Te.value;if(Ko(Te))return b(Te);if(Me(Te))return ns(Te,_,2)})):Me(e)?t?I=()=>ns(e,_,2):I=()=>(re&&re(),kn(e,_,3,[De])):I=un,t&&s){const Te=I;I=()=>Ms(Te())}let re,De=Te=>{re=Be.onStop=()=>{ns(Te,_,4),re=Be.onStop=void 0}},ge;if(Xr)if(De=un,t?n&&kn(t,_,3,[I(),j?[]:void 0,De]):I(),o==="sync"){const Te=Bd();ge=Te.__watcherHandles||(Te.__watcherHandles=[])}else return un;let st=j?new Array(e.length).fill(_r):_r;const _t=()=>{if(!(!Be.active||!Be.dirty))if(t){const Te=Be.run();(s||$||(j?Te.some((Ht,Ct)=>ss(Ht,st[Ct])):ss(Te,st)))&&(re&&re(),kn(t,_,3,[Te,st===_r?void 0:j&&st[0]===_r?[]:st,De]),st=Te)}else Be.run()};_t.allowRecurse=!!t;let yt;o==="sync"?yt=_t:o==="post"?yt=()=>Qt(_t,_&&_.suspense):(_t.pre=!0,_&&(_t.id=_.uid),yt=()=>Na(_t));const Be=new qa(I,un,yt),dt=Ju(),xt=()=>{Be.stop(),dt&&Aa(dt.effects,Be)};return t?n?_t():st=Be.run():o==="post"?Qt(Be.run.bind(Be),_&&_.suspense):Be.run(),ge&&ge.push(xt),xt}function qd(e,t,n){const s=this.proxy,o=$t(e)?e.includes(".")?jc(s,e):()=>s[e]:e.bind(s,s);let a;Me(t)?a=t:(a=t.handler,n=t);const d=ir(this),f=Kc(o,a.bind(s),n);return d(),f}function jc(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function Ms(e,t=1/0,n){if(t<=0||!Et(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Dt(e))Ms(e.value,t,n);else if(Ee(e))for(let s=0;s<e.length;s++)Ms(e[s],t,n);else if(mc(e)||_o(e))e.forEach(s=>{Ms(s,t,n)});else if(hc(e))for(const s in e)Ms(e[s],t,n);return e}function Nc(e,t){if(Bt===null)return e;const n=Zr(Bt)||Bt.proxy,s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[a,d,f,_=ht]=t[o];a&&(Me(a)&&(a={mounted:a,updated:a}),a.deep&&Ms(d),s.push({dir:a,instance:n,value:d,oldValue:void 0,arg:f,modifiers:_}))}return e}function _s(e,t,n,s){const o=e.dirs,a=t&&t.dirs;for(let d=0;d<o.length;d++){const f=o[d];a&&(f.oldValue=a[d].value);let _=f.dir[s];_&&(os(),kn(_,n,8,[e.el,f,e,t]),rs())}}const jo=e=>!!e.type.__asyncLoader,Vc=e=>e.type.__isKeepAlive;function Fd(e,t){Qc(e,"a",t)}function Ud(e,t){Qc(e,"da",t)}function Qc(e,t,n=Lt){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Jr(t,s,n),n){let o=n.parent;for(;o&&o.parent;)Vc(o.parent.vnode)&&Ld(s,t,n,o),o=o.parent}}function Ld(e,t,n,s){const o=Jr(t,e,s,!0);as(()=>{Aa(s[t],o)},n)}function Jr(e,t,n=Lt,s=!1){if(n){const o=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...d)=>{if(n.isUnmounted)return;os();const f=ir(n),_=kn(t,n,e,d);return f(),rs(),_});return s?o.unshift(a):o.push(a),a}}const jn=e=>(t,n=Lt)=>(!Xr||e==="sp")&&Jr(e,(...s)=>t(...s),n),Od=jn("bm"),Nn=jn("m"),Wd=jn("bu"),Va=jn("u"),Yc=jn("bum"),as=jn("um"),Gd=jn("sp"),Kd=jn("rtg"),jd=jn("rtc");function Nd(e,t=Lt){Jr("ec",e,t)}function oe(e,t,n,s){let o;const a=n;if(Ee(e)||$t(e)){o=new Array(e.length);for(let d=0,f=e.length;d<f;d++)o[d]=t(e[d],d,void 0,a)}else if(typeof e=="number"){o=new Array(e);for(let d=0;d<e;d++)o[d]=t(d+1,d,void 0,a)}else if(Et(e))if(e[Symbol.iterator])o=Array.from(e,(d,f)=>t(d,f,void 0,a));else{const d=Object.keys(e);o=new Array(d.length);for(let f=0,_=d.length;f<_;f++){const b=d[f];o[f]=t(e[b],b,f,a)}}else o=[];return o}function Vd(e,t,n={},s,o){if(Bt.isCE||Bt.parent&&jo(Bt.parent)&&Bt.parent.isCE)return J("slot",n,s);let a=e[t];a&&a._c&&(a._d=!1),g();const d=a&&Jc(a(n)),f=xe(B,{key:n.key||d&&d.key||`_${t}`},d||[],d&&e._===1?64:-2);return a&&a._c&&(a._d=!0),f}function Jc(e){return e.some(t=>uu(t)?!(t.type===is||t.type===B&&!Jc(t.children)):!0)?e:null}const xa=e=>e?gu(e)?Zr(e)||e.proxy:xa(e.parent):null,No=Ft(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>xa(e.parent),$root:e=>xa(e.root),$emit:e=>e.emit,$options:e=>Qa(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Na(e.update)}),$nextTick:e=>e.n||(e.n=ja.bind(e.proxy)),$watch:e=>qd.bind(e)}),oa=(e,t)=>e!==ht&&!e.__isScriptSetup&&We(e,t),Qd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:o,props:a,accessCache:d,type:f,appContext:_}=e;let b;if(t[0]!=="$"){const re=d[t];if(re!==void 0)switch(re){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return a[t]}else{if(oa(s,t))return d[t]=1,s[t];if(o!==ht&&We(o,t))return d[t]=2,o[t];if((b=e.propsOptions[0])&&We(b,t))return d[t]=3,a[t];if(n!==ht&&We(n,t))return d[t]=4,n[t];Ma&&(d[t]=0)}}const I=No[t];let $,j;if(I)return t==="$attrs"&&Jt(e.attrs,"get",""),I(e);if(($=f.__cssModules)&&($=$[t]))return $;if(n!==ht&&We(n,t))return d[t]=4,n[t];if(j=_.config.globalProperties,We(j,t))return j[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:a}=e;return oa(o,t)?(o[t]=n,!0):s!==ht&&We(s,t)?(s[t]=n,!0):We(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:a}},d){let f;return!!n[d]||e!==ht&&We(e,d)||oa(t,d)||(f=a[0])&&We(f,d)||We(s,d)||We(No,d)||We(o.config.globalProperties,d)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:We(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function fl(e){return Ee(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ma=!0;function Yd(e){const t=Qa(e),n=e.proxy,s=e.ctx;Ma=!1,t.beforeCreate&&ml(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:d,watch:f,provide:_,inject:b,created:I,beforeMount:$,mounted:j,beforeUpdate:re,updated:De,activated:ge,deactivated:st,beforeDestroy:_t,beforeUnmount:yt,destroyed:Be,unmounted:dt,render:xt,renderTracked:Te,renderTriggered:Ht,errorCaptured:Ct,serverPrefetch:zt,expose:ve,inheritAttrs:Vt,components:Xt,directives:gt,filters:fs}=t;if(b&&Jd(b,s,null),d)for(const ft in d){const Xe=d[ft];Me(Xe)&&(s[ft]=Xe.bind(n))}if(o){const ft=o.call(n,n);Et(ft)&&(e.data=nr(ft))}if(Ma=!0,a)for(const ft in a){const Xe=a[ft],En=Me(Xe)?Xe.bind(n,n):Me(Xe.get)?Xe.get.bind(n,n):un,ms=!Me(Xe)&&Me(Xe.set)?Xe.set.bind(n):un,In=R({get:En,set:ms});Object.defineProperty(s,ft,{enumerable:!0,configurable:!0,get:()=>In.value,set:Zt=>In.value=Zt})}if(f)for(const ft in f)zc(f[ft],s,n,ft);if(_){const ft=Me(_)?_.call(n):_;Reflect.ownKeys(ft).forEach(Xe=>{ng(Xe,ft[Xe])})}I&&ml(I,e,"c");function Je(ft,Xe){Ee(Xe)?Xe.forEach(En=>ft(En.bind(n))):Xe&&ft(Xe.bind(n))}if(Je(Od,$),Je(Nn,j),Je(Wd,re),Je(Va,De),Je(Fd,ge),Je(Ud,st),Je(Nd,Ct),Je(jd,Te),Je(Kd,Ht),Je(Yc,yt),Je(as,dt),Je(Gd,zt),Ee(ve))if(ve.length){const ft=e.exposed||(e.exposed={});ve.forEach(Xe=>{Object.defineProperty(ft,Xe,{get:()=>n[Xe],set:En=>n[Xe]=En})})}else e.exposed||(e.exposed={});xt&&e.render===un&&(e.render=xt),Vt!=null&&(e.inheritAttrs=Vt),Xt&&(e.components=Xt),gt&&(e.directives=gt)}function Jd(e,t,n=un){Ee(e)&&(e=Ra(e));for(const s in e){const o=e[s];let a;Et(o)?"default"in o?a=Rr(o.from||s,o.default,!0):a=Rr(o.from||s):a=Rr(o),Dt(a)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:d=>a.value=d}):t[s]=a}}function ml(e,t,n){kn(Ee(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function zc(e,t,n,s){const o=s.includes(".")?jc(n,s):()=>n[s];if($t(e)){const a=t[e];Me(a)&&yo(o,a)}else if(Me(e))yo(o,e.bind(n));else if(Et(e))if(Ee(e))e.forEach(a=>zc(a,t,n,s));else{const a=Me(e.handler)?e.handler.bind(n):t[e.handler];Me(a)&&yo(o,a,e)}}function Qa(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:a,config:{optionMergeStrategies:d}}=e.appContext,f=a.get(t);let _;return f?_=f:!o.length&&!n&&!s?_=t:(_={},o.length&&o.forEach(b=>Br(_,b,d,!0)),Br(_,t,d)),Et(t)&&a.set(t,_),_}function Br(e,t,n,s=!1){const{mixins:o,extends:a}=t;a&&Br(e,a,n,!0),o&&o.forEach(d=>Br(e,d,n,!0));for(const d in t)if(!(s&&d==="expose")){const f=zd[d]||n&&n[d];e[d]=f?f(e[d],t[d]):t[d]}return e}const zd={data:pl,props:_l,emits:_l,methods:Oo,computed:Oo,beforeCreate:Kt,created:Kt,beforeMount:Kt,mounted:Kt,beforeUpdate:Kt,updated:Kt,beforeDestroy:Kt,beforeUnmount:Kt,destroyed:Kt,unmounted:Kt,activated:Kt,deactivated:Kt,errorCaptured:Kt,serverPrefetch:Kt,components:Oo,directives:Oo,watch:Zd,provide:pl,inject:Xd};function pl(e,t){return t?e?function(){return Ft(Me(e)?e.call(this,this):e,Me(t)?t.call(this,this):t)}:t:e}function Xd(e,t){return Oo(Ra(e),Ra(t))}function Ra(e){if(Ee(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Kt(e,t){return e?[...new Set([].concat(e,t))]:t}function Oo(e,t){return e?Ft(Object.create(null),e,t):t}function _l(e,t){return e?Ee(e)&&Ee(t)?[...new Set([...e,...t])]:Ft(Object.create(null),fl(e),fl(t??{})):t}function Zd(e,t){if(!e)return t;if(!t)return e;const n=Ft(Object.create(null),e);for(const s in t)n[s]=Kt(e[s],t[s]);return n}function Xc(){return{app:null,config:{isNativeTag:qu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let eg=0;function tg(e,t){return function(s,o=null){Me(s)||(s=Ft({},s)),o!=null&&!Et(o)&&(o=null);const a=Xc(),d=new WeakSet;let f=!1;const _=a.app={_uid:eg++,_component:s,_props:o,_container:null,_context:a,_instance:null,version:xg,get config(){return a.config},set config(b){},use(b,...I){return d.has(b)||(b&&Me(b.install)?(d.add(b),b.install(_,...I)):Me(b)&&(d.add(b),b(_,...I))),_},mixin(b){return a.mixins.includes(b)||a.mixins.push(b),_},component(b,I){return I?(a.components[b]=I,_):a.components[b]},directive(b,I){return I?(a.directives[b]=I,_):a.directives[b]},mount(b,I,$){if(!f){const j=J(s,o);return j.appContext=a,$===!0?$="svg":$===!1&&($=void 0),I&&t?t(j,b):e(j,b,$),f=!0,_._container=b,b.__vue_app__=_,Zr(j.component)||j.component.proxy}},unmount(){f&&(e(null,_._container),delete _._container.__vue_app__)},provide(b,I){return a.provides[b]=I,_},runWithContext(b){const I=Vo;Vo=_;try{return b()}finally{Vo=I}}};return _}}let Vo=null;function ng(e,t){if(Lt){let n=Lt.provides;const s=Lt.parent&&Lt.parent.provides;s===n&&(n=Lt.provides=Object.create(s)),n[e]=t}}function Rr(e,t,n=!1){const s=Lt||Bt;if(s||Vo){const o=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Vo._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Me(t)?t.call(s&&s.proxy):t}}const Zc={},eu=()=>Object.create(Zc),tu=e=>Object.getPrototypeOf(e)===Zc;function sg(e,t,n,s=!1){const o={},a=eu();e.propsDefaults=Object.create(null),nu(e,t,o,a);for(const d in e.propsOptions[0])d in o||(o[d]=void 0);n?e.props=s?o:_d(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function ig(e,t,n,s){const{props:o,attrs:a,vnode:{patchFlag:d}}=e,f=Ke(o),[_]=e.propsOptions;let b=!1;if((s||d>0)&&!(d&16)){if(d&8){const I=e.vnode.dynamicProps;for(let $=0;$<I.length;$++){let j=I[$];if(Qr(e.emitsOptions,j))continue;const re=t[j];if(_)if(We(a,j))re!==a[j]&&(a[j]=re,b=!0);else{const De=Pn(j);o[De]=Ta(_,f,De,re,e,!1)}else re!==a[j]&&(a[j]=re,b=!0)}}}else{nu(e,t,o,a)&&(b=!0);let I;for(const $ in f)(!t||!We(t,$)&&((I=bo($))===$||!We(t,I)))&&(_?n&&(n[$]!==void 0||n[I]!==void 0)&&(o[$]=Ta(_,f,$,void 0,e,!0)):delete o[$]);if(a!==f)for(const $ in a)(!t||!We(t,$))&&(delete a[$],b=!0)}b&&Wn(e.attrs,"set","")}function nu(e,t,n,s){const[o,a]=e.propsOptions;let d=!1,f;if(t)for(let _ in t){if(Go(_))continue;const b=t[_];let I;o&&We(o,I=Pn(_))?!a||!a.includes(I)?n[I]=b:(f||(f={}))[I]=b:Qr(e.emitsOptions,_)||(!(_ in s)||b!==s[_])&&(s[_]=b,d=!0)}if(a){const _=Ke(n),b=f||ht;for(let I=0;I<a.length;I++){const $=a[I];n[$]=Ta(o,_,$,b[$],e,!We(b,$))}}return d}function Ta(e,t,n,s,o,a){const d=e[n];if(d!=null){const f=We(d,"default");if(f&&s===void 0){const _=d.default;if(d.type!==Function&&!d.skipFactory&&Me(_)){const{propsDefaults:b}=o;if(n in b)s=b[n];else{const I=ir(o);s=b[n]=_.call(null,t),I()}}else s=_}d[0]&&(a&&!f?s=!1:d[1]&&(s===""||s===bo(n))&&(s=!0))}return s}function su(e,t,n=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const a=e.props,d={},f=[];let _=!1;if(!Me(e)){const I=$=>{_=!0;const[j,re]=su($,t,!0);Ft(d,j),re&&f.push(...re)};!n&&t.mixins.length&&t.mixins.forEach(I),e.extends&&I(e.extends),e.mixins&&e.mixins.forEach(I)}if(!a&&!_)return Et(e)&&s.set(e,po),po;if(Ee(a))for(let I=0;I<a.length;I++){const $=Pn(a[I]);hl($)&&(d[$]=ht)}else if(a)for(const I in a){const $=Pn(I);if(hl($)){const j=a[I],re=d[$]=Ee(j)||Me(j)?{type:j}:Ft({},j);if(re){const De=wl(Boolean,re.type),ge=wl(String,re.type);re[0]=De>-1,re[1]=ge<0||De<ge,(De>-1||We(re,"default"))&&f.push($)}}}const b=[d,f];return Et(e)&&s.set(e,b),b}function hl(e){return e[0]!=="$"&&!Go(e)}function yl(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function vl(e,t){return yl(e)===yl(t)}function wl(e,t){return Ee(t)?t.findIndex(n=>vl(n,e)):Me(t)&&vl(t,e)?0:-1}const iu=e=>e[0]==="_"||e==="$stable",Ya=e=>Ee(e)?e.map(Cn):[Cn(e)],og=(e,t,n)=>{if(t._n)return t;const s=sr((...o)=>Ya(t(...o)),n);return s._c=!1,s},ou=(e,t,n)=>{const s=e._ctx;for(const o in e){if(iu(o))continue;const a=e[o];if(Me(a))t[o]=og(o,a,s);else if(a!=null){const d=Ya(a);t[o]=()=>d}}},ru=(e,t)=>{const n=Ya(t);e.slots.default=()=>n},rg=(e,t)=>{const n=e.slots=eu();if(e.vnode.shapeFlag&32){const s=t._;s?(Ft(n,t),yc(n,"_",s,!0)):ou(t,n)}else t&&ru(e,t)},ag=(e,t,n)=>{const{vnode:s,slots:o}=e;let a=!0,d=ht;if(s.shapeFlag&32){const f=t._;f?n&&f===1?a=!1:(Ft(o,t),!n&&f===1&&delete o._):(a=!t.$stable,ou(t,o)),d=t}else t&&(ru(e,t),d={default:1});if(a)for(const f in o)!iu(f)&&d[f]==null&&delete o[f]};function $a(e,t,n,s,o=!1){if(Ee(e)){e.forEach((j,re)=>$a(j,t&&(Ee(t)?t[re]:t),n,s,o));return}if(jo(s)&&!o)return;const a=s.shapeFlag&4?Zr(s.component)||s.component.proxy:s.el,d=o?null:a,{i:f,r:_}=e,b=t&&t.r,I=f.refs===ht?f.refs={}:f.refs,$=f.setupState;if(b!=null&&b!==_&&($t(b)?(I[b]=null,We($,b)&&($[b]=null)):Dt(b)&&(b.value=null)),Me(_))ns(_,f,12,[d,I]);else{const j=$t(_),re=Dt(_);if(j||re){const De=()=>{if(e.f){const ge=j?We($,_)?$[_]:I[_]:_.value;o?Ee(ge)&&Aa(ge,a):Ee(ge)?ge.includes(a)||ge.push(a):j?(I[_]=[a],We($,_)&&($[_]=I[_])):(_.value=[a],e.k&&(I[e.k]=_.value))}else j?(I[_]=d,We($,_)&&($[_]=d)):re&&(_.value=d,e.k&&(I[e.k]=d))};d?(De.id=-1,Qt(De,n)):De()}}}const Qt=Pd;function lg(e){return cg(e)}function cg(e,t){const n=vc();n.__VUE__=!0;const{insert:s,remove:o,patchProp:a,createElement:d,createText:f,createComment:_,setText:b,setElementText:I,parentNode:$,nextSibling:j,setScopeId:re=un,insertStaticContent:De}=e,ge=(v,E,D,F=null,L=null,Y=null,Z=void 0,V=null,z=!!E.dynamicChildren)=>{if(v===E)return;v&&!Do(v,E)&&(F=ps(v),Zt(v,L,Y,!0),v=null),E.patchFlag===-2&&(z=!1,E.dynamicChildren=null);const{type:W,ref:te,shapeFlag:_e}=E;switch(W){case zr:st(v,E,D,F);break;case is:_t(v,E,D,F);break;case aa:v==null&&yt(E,D,F,Z);break;case B:Xt(v,E,D,F,L,Y,Z,V,z);break;default:_e&1?xt(v,E,D,F,L,Y,Z,V,z):_e&6?gt(v,E,D,F,L,Y,Z,V,z):(_e&64||_e&128)&&W.process(v,E,D,F,L,Y,Z,V,z,To)}te!=null&&L&&$a(te,v&&v.ref,Y,E||v,!E)},st=(v,E,D,F)=>{if(v==null)s(E.el=f(E.children),D,F);else{const L=E.el=v.el;E.children!==v.children&&b(L,E.children)}},_t=(v,E,D,F)=>{v==null?s(E.el=_(E.children||""),D,F):E.el=v.el},yt=(v,E,D,F)=>{[v.el,v.anchor]=De(v.children,E,D,F,v.el,v.anchor)},Be=({el:v,anchor:E},D,F)=>{let L;for(;v&&v!==E;)L=j(v),s(v,D,F),v=L;s(E,D,F)},dt=({el:v,anchor:E})=>{let D;for(;v&&v!==E;)D=j(v),o(v),v=D;o(E)},xt=(v,E,D,F,L,Y,Z,V,z)=>{E.type==="svg"?Z="svg":E.type==="math"&&(Z="mathml"),v==null?Te(E,D,F,L,Y,Z,V,z):zt(v,E,L,Y,Z,V,z)},Te=(v,E,D,F,L,Y,Z,V)=>{let z,W;const{props:te,shapeFlag:_e,transition:fe,dirs:Ie}=v;if(z=v.el=d(v.type,Y,te&&te.is,te),_e&8?I(z,v.children):_e&16&&Ct(v.children,z,null,F,L,ra(v,Y),Z,V),Ie&&_s(v,null,F,"created"),Ht(z,v,v.scopeId,Z,F),te){for(const it in te)it!=="value"&&!Go(it)&&a(z,it,null,te[it],Y,v.children,F,L,on);"value"in te&&a(z,"value",null,te.value,Y),(W=te.onVnodeBeforeMount)&&xn(W,F,v)}Ie&&_s(v,null,F,"beforeMount");const Pe=ug(L,fe);Pe&&fe.beforeEnter(z),s(z,E,D),((W=te&&te.onVnodeMounted)||Pe||Ie)&&Qt(()=>{W&&xn(W,F,v),Pe&&fe.enter(z),Ie&&_s(v,null,F,"mounted")},L)},Ht=(v,E,D,F,L)=>{if(D&&re(v,D),F)for(let Y=0;Y<F.length;Y++)re(v,F[Y]);if(L){let Y=L.subTree;if(E===Y){const Z=L.vnode;Ht(v,Z,Z.scopeId,Z.slotScopeIds,L.parent)}}},Ct=(v,E,D,F,L,Y,Z,V,z=0)=>{for(let W=z;W<v.length;W++){const te=v[W]=V?Zn(v[W]):Cn(v[W]);ge(null,te,E,D,F,L,Y,Z,V)}},zt=(v,E,D,F,L,Y,Z)=>{const V=E.el=v.el;let{patchFlag:z,dynamicChildren:W,dirs:te}=E;z|=v.patchFlag&16;const _e=v.props||ht,fe=E.props||ht;let Ie;if(D&&hs(D,!1),(Ie=fe.onVnodeBeforeUpdate)&&xn(Ie,D,E,v),te&&_s(E,v,D,"beforeUpdate"),D&&hs(D,!0),W?ve(v.dynamicChildren,W,V,D,F,ra(E,L),Y):Z||Xe(v,E,V,null,D,F,ra(E,L),Y,!1),z>0){if(z&16)Vt(V,E,_e,fe,D,F,L);else if(z&2&&_e.class!==fe.class&&a(V,"class",null,fe.class,L),z&4&&a(V,"style",_e.style,fe.style,L),z&8){const Pe=E.dynamicProps;for(let it=0;it<Pe.length;it++){const vt=Pe[it],Pt=_e[vt],pn=fe[vt];(pn!==Pt||vt==="value")&&a(V,vt,Pt,pn,L,v.children,D,F,on)}}z&1&&v.children!==E.children&&I(V,E.children)}else!Z&&W==null&&Vt(V,E,_e,fe,D,F,L);((Ie=fe.onVnodeUpdated)||te)&&Qt(()=>{Ie&&xn(Ie,D,E,v),te&&_s(E,v,D,"updated")},F)},ve=(v,E,D,F,L,Y,Z)=>{for(let V=0;V<E.length;V++){const z=v[V],W=E[V],te=z.el&&(z.type===B||!Do(z,W)||z.shapeFlag&70)?$(z.el):D;ge(z,W,te,null,F,L,Y,Z,!0)}},Vt=(v,E,D,F,L,Y,Z)=>{if(D!==F){if(D!==ht)for(const V in D)!Go(V)&&!(V in F)&&a(v,V,D[V],null,Z,E.children,L,Y,on);for(const V in F){if(Go(V))continue;const z=F[V],W=D[V];z!==W&&V!=="value"&&a(v,V,W,z,Z,E.children,L,Y,on)}"value"in F&&a(v,"value",D.value,F.value,Z)}},Xt=(v,E,D,F,L,Y,Z,V,z)=>{const W=E.el=v?v.el:f(""),te=E.anchor=v?v.anchor:f("");let{patchFlag:_e,dynamicChildren:fe,slotScopeIds:Ie}=E;Ie&&(V=V?V.concat(Ie):Ie),v==null?(s(W,D,F),s(te,D,F),Ct(E.children||[],D,te,L,Y,Z,V,z)):_e>0&&_e&64&&fe&&v.dynamicChildren?(ve(v.dynamicChildren,fe,D,L,Y,Z,V),(E.key!=null||L&&E===L.subTree)&&au(v,E,!0)):Xe(v,E,D,te,L,Y,Z,V,z)},gt=(v,E,D,F,L,Y,Z,V,z)=>{E.slotScopeIds=V,v==null?E.shapeFlag&512?L.ctx.activate(E,D,F,Z,z):fs(E,D,F,L,Y,Z,z):Ye(v,E,z)},fs=(v,E,D,F,L,Y,Z)=>{const V=v.component=vg(v,F,L);if(Vc(v)&&(V.ctx.renderer=To),wg(V),V.asyncDep){if(L&&L.registerDep(V,Je),!v.el){const z=V.subTree=J(is);_t(null,z,E,D)}}else Je(V,v,E,D,L,Y,Z)},Ye=(v,E,D)=>{const F=E.component=v.component;if(Td(v,E,D))if(F.asyncDep&&!F.asyncResolved){ft(F,E,D);return}else F.next=E,Ed(F.update),F.effect.dirty=!0,F.update();else E.el=v.el,F.vnode=E},Je=(v,E,D,F,L,Y,Z)=>{const V=()=>{if(v.isMounted){let{next:te,bu:_e,u:fe,parent:Ie,vnode:Pe}=v;{const Ps=lu(v);if(Ps){te&&(te.el=Pe.el,ft(v,te,Z)),Ps.asyncDep.then(()=>{v.isUnmounted||V()});return}}let it=te,vt;hs(v,!1),te?(te.el=Pe.el,ft(v,te,Z)):te=Pe,_e&&xr(_e),(vt=te.props&&te.props.onVnodeBeforeUpdate)&&xn(vt,Ie,te,Pe),hs(v,!0);const Pt=ia(v),pn=v.subTree;v.subTree=Pt,ge(pn,Pt,$(pn.el),ps(pn),v,L,Y),te.el=Pt.el,it===null&&$d(v,Pt.el),fe&&Qt(fe,L),(vt=te.props&&te.props.onVnodeUpdated)&&Qt(()=>xn(vt,Ie,te,Pe),L)}else{let te;const{el:_e,props:fe}=E,{bm:Ie,m:Pe,parent:it}=v,vt=jo(E);if(hs(v,!1),Ie&&xr(Ie),!vt&&(te=fe&&fe.onVnodeBeforeMount)&&xn(te,it,E),hs(v,!0),_e&&Xa){const Pt=()=>{v.subTree=ia(v),Xa(_e,v.subTree,v,L,null)};vt?E.type.__asyncLoader().then(()=>!v.isUnmounted&&Pt()):Pt()}else{const Pt=v.subTree=ia(v);ge(null,Pt,D,F,v,L,Y),E.el=Pt.el}if(Pe&&Qt(Pe,L),!vt&&(te=fe&&fe.onVnodeMounted)){const Pt=E;Qt(()=>xn(te,it,Pt),L)}(E.shapeFlag&256||it&&jo(it.vnode)&&it.vnode.shapeFlag&256)&&v.a&&Qt(v.a,L),v.isMounted=!0,E=D=F=null}},z=v.effect=new qa(V,un,()=>Na(W),v.scope),W=v.update=()=>{z.dirty&&z.run()};W.id=v.uid,hs(v,!0),W()},ft=(v,E,D)=>{E.component=v;const F=v.vnode.props;v.vnode=E,v.next=null,ig(v,E.props,F,D),ag(v,E.children,D),os(),ul(v),rs()},Xe=(v,E,D,F,L,Y,Z,V,z=!1)=>{const W=v&&v.children,te=v?v.shapeFlag:0,_e=E.children,{patchFlag:fe,shapeFlag:Ie}=E;if(fe>0){if(fe&128){ms(W,_e,D,F,L,Y,Z,V,z);return}else if(fe&256){En(W,_e,D,F,L,Y,Z,V,z);return}}Ie&8?(te&16&&on(W,L,Y),_e!==W&&I(D,_e)):te&16?Ie&16?ms(W,_e,D,F,L,Y,Z,V,z):on(W,L,Y,!0):(te&8&&I(D,""),Ie&16&&Ct(_e,D,F,L,Y,Z,V,z))},En=(v,E,D,F,L,Y,Z,V,z)=>{v=v||po,E=E||po;const W=v.length,te=E.length,_e=Math.min(W,te);let fe;for(fe=0;fe<_e;fe++){const Ie=E[fe]=z?Zn(E[fe]):Cn(E[fe]);ge(v[fe],Ie,D,null,L,Y,Z,V,z)}W>te?on(v,L,Y,!0,!1,_e):Ct(E,D,F,L,Y,Z,V,z,_e)},ms=(v,E,D,F,L,Y,Z,V,z)=>{let W=0;const te=E.length;let _e=v.length-1,fe=te-1;for(;W<=_e&&W<=fe;){const Ie=v[W],Pe=E[W]=z?Zn(E[W]):Cn(E[W]);if(Do(Ie,Pe))ge(Ie,Pe,D,null,L,Y,Z,V,z);else break;W++}for(;W<=_e&&W<=fe;){const Ie=v[_e],Pe=E[fe]=z?Zn(E[fe]):Cn(E[fe]);if(Do(Ie,Pe))ge(Ie,Pe,D,null,L,Y,Z,V,z);else break;_e--,fe--}if(W>_e){if(W<=fe){const Ie=fe+1,Pe=Ie<te?E[Ie].el:F;for(;W<=fe;)ge(null,E[W]=z?Zn(E[W]):Cn(E[W]),D,Pe,L,Y,Z,V,z),W++}}else if(W>fe)for(;W<=_e;)Zt(v[W],L,Y,!0),W++;else{const Ie=W,Pe=W,it=new Map;for(W=Pe;W<=fe;W++){const en=E[W]=z?Zn(E[W]):Cn(E[W]);en.key!=null&&it.set(en.key,W)}let vt,Pt=0;const pn=fe-Pe+1;let Ps=!1,Za=0;const $o=new Array(pn);for(W=0;W<pn;W++)$o[W]=0;for(W=Ie;W<=_e;W++){const en=v[W];if(Pt>=pn){Zt(en,L,Y,!0);continue}let Sn;if(en.key!=null)Sn=it.get(en.key);else for(vt=Pe;vt<=fe;vt++)if($o[vt-Pe]===0&&Do(en,E[vt])){Sn=vt;break}Sn===void 0?Zt(en,L,Y,!0):($o[Sn-Pe]=W+1,Sn>=Za?Za=Sn:Ps=!0,ge(en,E[Sn],D,null,L,Y,Z,V,z),Pt++)}const el=Ps?dg($o):po;for(vt=el.length-1,W=pn-1;W>=0;W--){const en=Pe+W,Sn=E[en],tl=en+1<te?E[en+1].el:F;$o[W]===0?ge(null,Sn,D,tl,L,Y,Z,V,z):Ps&&(vt<0||W!==el[vt]?In(Sn,D,tl,2):vt--)}}},In=(v,E,D,F,L=null)=>{const{el:Y,type:Z,transition:V,children:z,shapeFlag:W}=v;if(W&6){In(v.component.subTree,E,D,F);return}if(W&128){v.suspense.move(E,D,F);return}if(W&64){Z.move(v,E,D,To);return}if(Z===B){s(Y,E,D);for(let _e=0;_e<z.length;_e++)In(z[_e],E,D,F);s(v.anchor,E,D);return}if(Z===aa){Be(v,E,D);return}if(F!==2&&W&1&&V)if(F===0)V.beforeEnter(Y),s(Y,E,D),Qt(()=>V.enter(Y),L);else{const{leave:_e,delayLeave:fe,afterLeave:Ie}=V,Pe=()=>s(Y,E,D),it=()=>{_e(Y,()=>{Pe(),Ie&&Ie()})};fe?fe(Y,Pe,it):it()}else s(Y,E,D)},Zt=(v,E,D,F=!1,L=!1)=>{const{type:Y,props:Z,ref:V,children:z,dynamicChildren:W,shapeFlag:te,patchFlag:_e,dirs:fe}=v;if(V!=null&&$a(V,null,D,v,!0),te&256){E.ctx.deactivate(v);return}const Ie=te&1&&fe,Pe=!jo(v);let it;if(Pe&&(it=Z&&Z.onVnodeBeforeUnmount)&&xn(it,E,v),te&6)ur(v.component,D,F);else{if(te&128){v.suspense.unmount(D,F);return}Ie&&_s(v,null,E,"beforeUnmount"),te&64?v.type.remove(v,E,D,L,To,F):W&&(Y!==B||_e>0&&_e&64)?on(W,E,D,!1,!0):(Y===B&&_e&384||!L&&te&16)&&on(z,E,D),F&&Ro(v)}(Pe&&(it=Z&&Z.onVnodeUnmounted)||Ie)&&Qt(()=>{it&&xn(it,E,v),Ie&&_s(v,null,E,"unmounted")},D)},Ro=v=>{const{type:E,el:D,anchor:F,transition:L}=v;if(E===B){cr(D,F);return}if(E===aa){dt(v);return}const Y=()=>{o(D),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(v.shapeFlag&1&&L&&!L.persisted){const{leave:Z,delayLeave:V}=L,z=()=>Z(D,Y);V?V(v.el,Y,z):z()}else Y()},cr=(v,E)=>{let D;for(;v!==E;)D=j(v),o(v),v=D;o(E)},ur=(v,E,D)=>{const{bum:F,scope:L,update:Y,subTree:Z,um:V}=v;F&&xr(F),L.stop(),Y&&(Y.active=!1,Zt(Z,v,E,D)),V&&Qt(V,E),Qt(()=>{v.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},on=(v,E,D,F=!1,L=!1,Y=0)=>{for(let Z=Y;Z<v.length;Z++)Zt(v[Z],E,D,F,L)},ps=v=>v.shapeFlag&6?ps(v.component.subTree):v.shapeFlag&128?v.suspense.next():j(v.anchor||v.el);let qn=!1;const Hs=(v,E,D)=>{v==null?E._vnode&&Zt(E._vnode,null,null,!0):ge(E._vnode||null,v,E,null,null,null,D),qn||(qn=!0,ul(),Lc(),qn=!1),E._vnode=v},To={p:ge,um:Zt,m:In,r:Ro,mt:fs,mc:Ct,pc:Xe,pbc:ve,n:ps,o:e};let za,Xa;return{render:Hs,hydrate:za,createApp:tg(Hs,za)}}function ra({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function hs({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function ug(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function au(e,t,n=!1){const s=e.children,o=t.children;if(Ee(s)&&Ee(o))for(let a=0;a<s.length;a++){const d=s[a];let f=o[a];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=o[a]=Zn(o[a]),f.el=d.el),n||au(d,f)),f.type===zr&&(f.el=d.el)}}function dg(e){const t=e.slice(),n=[0];let s,o,a,d,f;const _=e.length;for(s=0;s<_;s++){const b=e[s];if(b!==0){if(o=n[n.length-1],e[o]<b){t[s]=o,n.push(s);continue}for(a=0,d=n.length-1;a<d;)f=a+d>>1,e[n[f]]<b?a=f+1:d=f;b<e[n[a]]&&(a>0&&(t[s]=n[a-1]),n[a]=s)}}for(a=n.length,d=n[a-1];a-- >0;)n[a]=d,d=t[d];return n}function lu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:lu(t)}const gg=e=>e.__isTeleport,B=Symbol.for("v-fgt"),zr=Symbol.for("v-txt"),is=Symbol.for("v-cmt"),aa=Symbol.for("v-stc"),Qo=[];let vn=null;function g(e=!1){Qo.push(vn=e?null:[])}function fg(){Qo.pop(),vn=Qo[Qo.length-1]||null}let Zo=1;function kl(e){Zo+=e}function cu(e){return e.dynamicChildren=Zo>0?vn||po:null,fg(),Zo>0&&vn&&vn.push(e),e}function m(e,t,n,s,o,a){return cu(l(e,t,n,s,o,a,!0))}function xe(e,t,n,s,o){return cu(J(e,t,n,s,o,!0))}function uu(e){return e?e.__v_isVNode===!0:!1}function Do(e,t){return e.type===t.type&&e.key===t.key}const du=({key:e})=>e??null,Tr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?$t(e)||Dt(e)||Me(e)?{i:Bt,r:e,k:t,f:!!n}:e:null);function l(e,t=null,n=null,s=0,o=null,a=e===B?0:1,d=!1,f=!1){const _={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&du(t),ref:t&&Tr(t),scopeId:Yr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Bt};return f?(Ja(_,n),a&128&&e.normalize(_)):n&&(_.shapeFlag|=$t(n)?8:16),Zo>0&&!d&&vn&&(_.patchFlag>0||a&6)&&_.patchFlag!==32&&vn.push(_),_}const J=mg;function mg(e,t=null,n=null,s=0,o=null,a=!1){if((!e||e===Gc)&&(e=is),uu(e)){const f=vo(e,t,!0);return n&&Ja(f,n),Zo>0&&!a&&vn&&(f.shapeFlag&6?vn[vn.indexOf(e)]=f:vn.push(f)),f.patchFlag|=-2,f}if(Sg(e)&&(e=e.__vccOpts),t){t=pg(t);let{class:f,style:_}=t;f&&!$t(f)&&(t.class=se(f)),Et(_)&&(Pc(_)&&!Ee(_)&&(_=Ft({},_)),t.style=jr(_))}const d=$t(e)?1:Hd(e)?128:gg(e)?64:Et(e)?4:Me(e)?2:0;return l(e,t,n,s,o,d,a,!0)}function pg(e){return e?Pc(e)||tu(e)?Ft({},e):e:null}function vo(e,t,n=!1,s=!1){const{props:o,ref:a,patchFlag:d,children:f,transition:_}=e,b=t?_g(o||{},t):o,I={__v_isVNode:!0,__v_skip:!0,type:e.type,props:b,key:b&&du(b),ref:t&&t.ref?n&&a?Ee(a)?a.concat(Tr(t)):[a,Tr(t)]:Tr(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:f,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==B?d===-1?16:d|16:d,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:_,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&vo(e.ssContent),ssFallback:e.ssFallback&&vo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return _&&s&&(I.transition=_.clone(I)),I}function ne(e=" ",t=0){return J(zr,null,e,t)}function T(e="",t=!1){return t?(g(),xe(is,null,e)):J(is,null,e)}function Cn(e){return e==null||typeof e=="boolean"?J(is):Ee(e)?J(B,null,e.slice()):typeof e=="object"?Zn(e):J(zr,null,String(e))}function Zn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:vo(e)}function Ja(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Ee(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),Ja(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!tu(t)?t._ctx=Bt:o===3&&Bt&&(Bt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Me(t)?(t={default:t,_ctx:Bt},n=32):(t=String(t),s&64?(n=16,t=[ne(t)]):n=8);e.children=t,e.shapeFlag|=n}function _g(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=se([t.class,s.class]));else if(o==="style")t.style=jr([t.style,s.style]);else if(Or(o)){const a=t[o],d=s[o];d&&a!==d&&!(Ee(a)&&a.includes(d))&&(t[o]=a?[].concat(a,d):d)}else o!==""&&(t[o]=s[o])}return t}function xn(e,t,n,s=null){kn(e,t,7,[n,s])}const hg=Xc();let yg=0;function vg(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||hg,a={uid:yg++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Qu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:su(s,o),emitsOptions:Wc(s,o),emit:null,emitted:null,propsDefaults:ht,inheritAttrs:s.inheritAttrs,ctx:ht,data:ht,props:ht,attrs:ht,slots:ht,refs:ht,setupState:ht,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=xd.bind(null,a),e.ce&&e.ce(a),a}let Lt=null,qr,Da;{const e=vc(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),a=>{o.length>1?o.forEach(d=>d(a)):o[0](a)}};qr=t("__VUE_INSTANCE_SETTERS__",n=>Lt=n),Da=t("__VUE_SSR_SETTERS__",n=>Xr=n)}const ir=e=>{const t=Lt;return qr(e),e.scope.on(),()=>{e.scope.off(),qr(t)}},bl=()=>{Lt&&Lt.scope.off(),qr(null)};function gu(e){return e.vnode.shapeFlag&4}let Xr=!1;function wg(e,t=!1){t&&Da(t);const{props:n,children:s}=e.vnode,o=gu(e);sg(e,n,o,t),rg(e,s);const a=o?kg(e,t):void 0;return t&&Da(!1),a}function kg(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Qd);const{setup:s}=n;if(s){const o=e.setupContext=s.length>1?Eg(e):null,a=ir(e);os();const d=ns(s,e,0,[e.props,o]);if(rs(),a(),pc(d)){if(d.then(bl,bl),t)return d.then(f=>{El(e,f,t)}).catch(f=>{Vr(f,e,0)});e.asyncDep=d}else El(e,d,t)}else fu(e,t)}function El(e,t,n){Me(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Et(t)&&(e.setupState=qc(t)),fu(e,n)}let Il;function fu(e,t,n){const s=e.type;if(!e.render){if(!t&&Il&&!s.render){const o=s.template||Qa(e).template;if(o){const{isCustomElement:a,compilerOptions:d}=e.appContext.config,{delimiters:f,compilerOptions:_}=s,b=Ft(Ft({isCustomElement:a,delimiters:f},d),_);s.render=Il(o,b)}}e.render=s.render||un}{const o=ir(e);os();try{Yd(e)}finally{rs(),o()}}}const bg={get(e,t){return Jt(e,"get",""),e[t]}};function Eg(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,bg),slots:e.slots,emit:e.emit,expose:t}}function Zr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(qc(le(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in No)return No[n](e)},has(t,n){return n in t||n in No}}))}function Ig(e,t=!0){return Me(e)?e.displayName||e.name:e.name||t&&e.__name}function Sg(e){return Me(e)&&"__vccOpts"in e}const R=(e,t)=>hd(e,t,Xr),xg="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Mg="http://www.w3.org/2000/svg",Rg="http://www.w3.org/1998/Math/MathML",es=typeof document<"u"?document:null,Sl=es&&es.createElement("template"),Tg={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?es.createElementNS(Mg,e):t==="mathml"?es.createElementNS(Rg,e):es.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>es.createTextNode(e),createComment:e=>es.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>es.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,a){const d=n?n.previousSibling:t.lastChild;if(o&&(o===a||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===a||!(o=o.nextSibling)););else{Sl.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const f=Sl.content;if(s==="svg"||s==="mathml"){const _=f.firstChild;for(;_.firstChild;)f.appendChild(_.firstChild);f.removeChild(_)}t.insertBefore(f,n)}return[d?d.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},$g=Symbol("_vtc");function Dg(e,t,n){const s=e[$g];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const xl=Symbol("_vod"),Cg=Symbol("_vsh"),Hg=Symbol(""),Pg=/(^|;)\s*display\s*:/;function Ag(e,t,n){const s=e.style,o=$t(n);let a=!1;if(n&&!o){if(t)if($t(t))for(const d of t.split(";")){const f=d.slice(0,d.indexOf(":")).trim();n[f]==null&&$r(s,f,"")}else for(const d in t)n[d]==null&&$r(s,d,"");for(const d in n)d==="display"&&(a=!0),$r(s,d,n[d])}else if(o){if(t!==n){const d=s[Hg];d&&(n+=";"+d),s.cssText=n,a=Pg.test(n)}}else t&&e.removeAttribute("style");xl in e&&(e[xl]=a?s.display:"",e[Cg]&&(s.display="none"))}const Ml=/\s*!important$/;function $r(e,t,n){if(Ee(n))n.forEach(s=>$r(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Bg(e,t);Ml.test(n)?e.setProperty(bo(s),n.replace(Ml,""),"important"):e[s]=n}}const Rl=["Webkit","Moz","ms"],la={};function Bg(e,t){const n=la[t];if(n)return n;let s=Pn(t);if(s!=="filter"&&s in e)return la[t]=s;s=Kr(s);for(let o=0;o<Rl.length;o++){const a=Rl[o]+s;if(a in e)return la[t]=a}return t}const Tl="http://www.w3.org/1999/xlink";function qg(e,t,n,s,o){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Tl,t.slice(6,t.length)):e.setAttributeNS(Tl,t,n);else{const a=Vu(t);n==null||a&&!wc(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}function Fg(e,t,n,s,o,a,d){if(t==="innerHTML"||t==="textContent"){s&&d(s,o,a),e[t]=n??"";return}const f=e.tagName;if(t==="value"&&f!=="PROGRESS"&&!f.includes("-")){const b=f==="OPTION"?e.getAttribute("value")||"":e.value,I=n??"";(b!==I||!("_value"in e))&&(e.value=I),n==null&&e.removeAttribute(t),e._value=n;return}let _=!1;if(n===""||n==null){const b=typeof e[t];b==="boolean"?n=wc(n):n==null&&b==="string"?(n="",_=!0):b==="number"&&(n=0,_=!0)}try{e[t]=n}catch{}_&&e.removeAttribute(t)}function fo(e,t,n,s){e.addEventListener(t,n,s)}function Ug(e,t,n,s){e.removeEventListener(t,n,s)}const $l=Symbol("_vei");function Lg(e,t,n,s,o=null){const a=e[$l]||(e[$l]={}),d=a[t];if(s&&d)d.value=s;else{const[f,_]=Og(t);if(s){const b=a[t]=Kg(s,o);fo(e,f,b,_)}else d&&(Ug(e,f,d,_),a[t]=void 0)}}const Dl=/(?:Once|Passive|Capture)$/;function Og(e){let t;if(Dl.test(e)){t={};let s;for(;s=e.match(Dl);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):bo(e.slice(2)),t]}let ca=0;const Wg=Promise.resolve(),Gg=()=>ca||(Wg.then(()=>ca=0),ca=Date.now());function Kg(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;kn(jg(s,n.value),t,5,[s])};return n.value=e,n.attached=Gg(),n}function jg(e,t){if(Ee(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const Cl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ng=(e,t,n,s,o,a,d,f,_)=>{const b=o==="svg";t==="class"?Dg(e,s,b):t==="style"?Ag(e,n,s):Or(t)?Pa(t)||Lg(e,t,n,s,d):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Vg(e,t,s,b))?Fg(e,t,s,a,d,f,_):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),qg(e,t,s,b))};function Vg(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Cl(t)&&Me(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Cl(t)&&$t(n)?!1:t in e}const Hl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ee(t)?n=>xr(t,n):t};function Qg(e){e.target.composing=!0}function Pl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ua=Symbol("_assign"),mu={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[ua]=Hl(o);const a=s||o.props&&o.props.type==="number";fo(e,t?"change":"input",d=>{if(d.target.composing)return;let f=e.value;n&&(f=f.trim()),a&&(f=wa(f)),e[ua](f)}),n&&fo(e,"change",()=>{e.value=e.value.trim()}),t||(fo(e,"compositionstart",Qg),fo(e,"compositionend",Pl),fo(e,"change",Pl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:o}},a){if(e[ua]=Hl(a),e.composing)return;const d=(o||e.type==="number")&&!/^0\d/.test(e.value)?wa(e.value):e.value,f=t??"";d!==f&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===f)||(e.value=f))}},Yg=["ctrl","shift","alt","meta"],Jg={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Yg.some(n=>e[`${n}Key`]&&!t.includes(n))},At=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(o,...a)=>{for(let d=0;d<t.length;d++){const f=Jg[t[d]];if(f&&f(o,t))return}return e(o,...a)})},zg=Ft({patchProp:Ng},Tg);let Al;function Xg(){return Al||(Al=lg(zg))}const Zg=(...e)=>{const t=Xg().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=tf(s);if(!o)return;const a=t._component;!Me(a)&&!a.render&&!a.template&&(a.template=o.innerHTML),o.innerHTML="";const d=n(o,!1,ef(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),d},t};function ef(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function tf(e){return $t(e)?document.querySelector(e):e}const y=function(e){return{slug:e.slug,name:e.name,description:e.description,canBeUnlocked:e.canBeUnlocked||function(){return!1},getEffects:e.getEffects||function(){return[]},getRewards:e.getRewards||function(){return[]},getIcon:e.getIcon||function(){return this.slug},getEffectDescriptions:function(){return this.getEffects().map(t=>t.effect.getDescription(t.value))}}},ls=function(e){return{stat:e.stat,description:e.description,up:e.up||function(){},down:e.down||function(){},percentageSuffix:e.percentageSuffix||!1,getDescription:e.getDescription||function(t){return this.description+t+(this.percentageSuffix?"%":"")}}},nf=function(e){return{__proto__:ls(e),caster:e.caster,target:e.target,statusEffect:e.statusEffect,durationMultiplier:e.durationMultiplier||1,eachTick:e.eachTick||!0,eachTickChance:e.eachTickChance||100,effectDescriptions:e.effectDescriptions||[],up:function(){return rt.statusEffectApplied(this,this.target),this.target==="player"?A.addStatusEffect(this):we.addStatusEffect(this)},getDescription:function(){let t=this.statusEffect.duration*this.durationMultiplier,n=t===1?" ("+t+" second)":" ("+t+" seconds)";return[...this.effectDescriptions,n].join("<br>")}}},er=(e,t)=>e+"_"+t,kt=function(e){return{__proto__:ls(e),valueType:e.valueType||"flat",up:function(t,n,s,o){t.stats[this.stat].modifiers[er(s,this.valueType)]={sourceType:o,value:n,valueType:this.valueType}},down:function(t,n){delete t.stats[this.stat].modifiers[er(n,this.valueType)]}}},hr=function(e){return e.valueType="percentage",e.percentageSuffix=!0,{__proto__:kt(e)}},sf=function(){return{maxHp:kt({stat:"maxHp",description:"<span class='c-hp'>MAX HP</span> + "}),maxHpPercentage:hr({stat:"maxHp",description:"<span class='c-hp'>MAX HP</span> + "}),maxMp:kt({stat:"maxMp",description:"<span class='c-mp'>MAX MP</span> + "}),maxMpPercentage:hr({stat:"maxMp",description:"<span class='c-mp'>MAX MP</span> + "}),str:kt({stat:"str",description:"<span class='c-str'>STR</span> + "}),strPercentage:hr({stat:"str",description:"<span class='c-str'>STR</span> + "}),dex:kt({stat:"dex",description:"<span class='c-dex'>DEX</span> + "}),int:kt({stat:"int",description:"<span class='c-int'>INT</span> + "}),intPercentage:hr({stat:"int",description:"<span class='c-int'>INT</span> + "}),def:kt({stat:"def",description:"<span class='c-def'>DEF</span> + "}),mdef:kt({stat:"mdef",description:"<span class='c-mdef'>MDEF</span> + "}),dr:kt({stat:"dr",description:"<span class='c-dr'>DR</span> + "}),bleedingResistance:kt({stat:"bleedingResistance",description:"<span class='c-red'>Bleeding Resistance</span> + ",percentageSuffix:!0}),burningResistance:kt({stat:"burningResistance",description:"<span class='c-fire'>Burning Resistance</span> + ",percentageSuffix:!0}),poisonResistance:kt({stat:"poisonResistance",description:"<span class='c-green'>Poison Resistance</span> + ",percentageSuffix:!0}),critPower:kt({stat:"critPower",description:"<span class='c-crit-power'>Crit Power</span> + "}),hpRegen:kt({stat:"hpRegen",description:"<span class='c-hp'>HP Regeneration</span> + "}),mpRegen:kt({stat:"mpRegen",description:"<span class='c-mp'>MP Regeneration</span> + "}),hpRegenPercentage:kt({stat:"hpRegenPercentage",description:"<span class='c-hp'>HP Regeneration</span> + ",percentageSuffix:!0}),mpRegenPercentage:kt({stat:"mpRegenPercentage",description:"<span class='c-mp'>MP Regeneration</span> + ",percentageSuffix:!0}),expModifier:kt({stat:"expModifier",description:"<span class='c-exp'>EXP Rate</span> + ",percentageSuffix:!0}),dropModifier:kt({stat:"dropModifier",description:"<span class='c-drop'>Drop Rate</span> + ",percentageSuffix:!0}),studyingSpeed:kt({stat:"studyingSpeed",description:"<span class='c-studying-speed'>Studying speed</span> + ",percentageSuffix:!0}),manaEfficiency:kt({stat:"manaEfficiency",description:"<span class='c-mana-efficiency'>Mana Efficiency</span> + ",percentageSuffix:!0}),discount:kt({stat:"discount",description:"<span class='c-discount'>Discount</span> + ",percentageSuffix:!0}),startingReputation:ls({description:"<span class='c-reputation'>Starting Reputation</span> = "}),createMaxHp:e=>i.createEffect(i.maxHp,e),createMaxHpPercentage:e=>i.createEffect(i.maxHpPercentage,e),createMaxMp:e=>i.createEffect(i.maxMp,e),createMaxMpPercentage:e=>i.createEffect(i.maxMpPercentage,e),createStr:e=>i.createEffect(i.str,e),createStrPercentage:e=>i.createEffect(i.strPercentage,e),createDex:e=>i.createEffect(i.dex,e),createInt:e=>i.createEffect(i.int,e),createIntPercentage:e=>i.createEffect(i.intPercentage,e),createDef:e=>i.createEffect(i.def,e),createMdef:e=>i.createEffect(i.mdef,e),createDr:e=>i.createEffect(i.dr,e),createBleedingResistance:e=>i.createEffect(i.bleedingResistance,e),createPoisonResistance:e=>i.createEffect(i.poisonResistance,e),createBurningResistance:e=>i.createEffect(i.burningResistance,e),createCritPower:e=>i.createEffect(i.critPower,e),createHpRegen:e=>i.createEffect(i.hpRegen,e),createHpRegenPercentage:e=>i.createEffect(i.hpRegenPercentage,e),createMpRegen:e=>i.createEffect(i.mpRegen,e),createMpRegenPercentage:e=>i.createEffect(i.mpRegenPercentage,e),createExpModifier:e=>i.createEffect(i.expModifier,e),createDropModifier:e=>i.createEffect(i.dropModifier,e),createStudyingSpeed:e=>i.createEffect(i.studyingSpeed,e),createManaEfficiency:e=>i.createEffect(i.manaEfficiency,e),createDiscount:e=>i.createEffect(i.discount,e),createStartingReputation:e=>i.createEffect(i.startingReputation,e)}},be=function(e){return{__proto__:ls(e),statType:e.statType,up:function(t,n,s,o){t.stats[this.statType][this.stat].modifiers[er(s,this.valueType)]={sourceType:o,value:n,valueType:"flat"}},down:function(t,n){delete t.stats[this.statType][this.stat].modifiers[er(n,this.valueType)]},getDescription:e.getDescription||function(t){return this.description+t+"%"}}},of=function(){return{blacksmithingExpModifier:be({stat:"blacksmithing",statType:"skillExpModifiers",description:"Blacksmithing EXP + "}),tailoringExpModifier:be({stat:"tailoring",statType:"skillExpModifiers",description:"Tailoring EXP + "}),createTailoringExpModifier:e=>i.createEffect(i.tailoringExpModifier,e),createBlacksmithingExpModifier:e=>i.createEffect(i.blacksmithingExpModifier,e)}},rf=function(){return{neutralHatred:be({stat:"neutral",statType:"elementHatreds",description:"<span class='c-neutral'>Neutral Hatred</span> + "}),fireHatred:be({stat:"fire",statType:"elementHatreds",description:"<span class='c-fire'>Fire Hatred</span> + "}),waterHatred:be({stat:"water",statType:"elementHatreds",description:"<span class='c-water'>Water Hatred</span> + "}),earthHatred:be({stat:"earth",statType:"elementHatreds",description:"<span class='c-earth'>Earth Hatred</span> + "}),windHatred:be({stat:"wind",statType:"elementHatreds",description:"<span class='c-wind'>Wind Hatred</span> + "}),holyHatred:be({stat:"holy",statType:"elementHatreds",description:"<span class='c-holy'>Holy Hatred</span> + "}),shadowHatred:be({stat:"shadow",statType:"elementHatreds",description:"<span class='c-shadow'>Shadow Hatred</span> + "}),createNeutralHatred:e=>i.createEffect(i.neutralHatred,e),createFireHatred:e=>i.createEffect(i.fireHatred,e),createWaterHatred:e=>i.createEffect(i.waterHatred,e),createEarthHatred:e=>i.createEffect(i.earthHatred,e),createWindHatred:e=>i.createEffect(i.windHatred,e),createHolyHatred:e=>i.createEffect(i.holyHatred,e),createShadowHatred:e=>i.createEffect(i.shadowHatred,e)}},af=function(){return{neutralPower:be({stat:"neutral",statType:"elementPowers",description:"<span class='c-neutral'>Neutral Power</span> + "}),firePower:be({stat:"fire",statType:"elementPowers",description:"<span class='c-fire'>Fire Power</span> + "}),waterPower:be({stat:"water",statType:"elementPowers",description:"<span class='c-water'>Water Power</span> + "}),earthPower:be({stat:"earth",statType:"elementPowers",description:"<span class='c-earth'>Earth Power</span> + "}),windPower:be({stat:"wind",statType:"elementPowers",description:"<span class='c-wind'>Wind Power</span> + "}),holyPower:be({stat:"holy",statType:"elementPowers",description:"<span class='c-holy'>Holy Power</span> + "}),shadowPower:be({stat:"shadow",statType:"elementPowers",description:"<span class='c-shadow'>Shadow Power</span> + "}),createNeutralPower:e=>i.createEffect(i.neutralPower,e),createFirePower:e=>i.createEffect(i.firePower,e),createWaterPower:e=>i.createEffect(i.waterPower,e),createEarthPower:e=>i.createEffect(i.earthPower,e),createWindPower:e=>i.createEffect(i.windPower,e),createHolyPower:e=>i.createEffect(i.holyPower,e),createShadowPower:e=>i.createEffect(i.shadowPower,e)}},lf=function(){return{neutralResistance:be({stat:"neutral",statType:"elementResistances",description:"<span class='c-neutral'>Neutral Resistance</span> + "}),fireResistance:be({stat:"fire",statType:"elementResistances",description:"<span class='c-fire'>Fire Resistance</span> + "}),waterResistance:be({stat:"water",statType:"elementResistances",description:"<span class='c-water'>Water Resistance</span> + "}),earthResistance:be({stat:"earth",statType:"elementResistances",description:"<span class='c-earth'>Earth Resistance</span> + "}),windResistance:be({stat:"wind",statType:"elementResistances",description:"<span class='c-wind'>Wind Resistance</span> + "}),holyResistance:be({stat:"holy",statType:"elementResistances",description:"<span class='c-holy'>Holy Resistance</span> + "}),shadowResistance:be({stat:"shadow",statType:"elementResistances",description:"<span class='c-shadow'>Shadow Resistance</span> + "}),createNeutralResistance:e=>i.createEffect(i.neutralResistance,e),createFireResistance:e=>i.createEffect(i.fireResistance,e),createWaterResistance:e=>i.createEffect(i.waterResistance,e),createEarthResistance:e=>i.createEffect(i.earthResistance,e),createWindResistance:e=>i.createEffect(i.windResistance,e),createHolyResistance:e=>i.createEffect(i.holyResistance,e),createShadowResistance:e=>i.createEffect(i.shadowResistance,e)}},cf=function(e){return{__proto__:ls(e),up:function(t,n,s){let o=t[this.stat]-n;t[this.stat]=o<0?0:o,ee.commonMessage(s+" hit for "+n),this.stat==="hp"&&o<=0&&(t.type==="player"?q.handlePlayerDeath():q.handleEnemyDeath())}}},uf=function(){return{takeHp:cf({stat:"hp",description:"<span class='c-hp'>HP</span> - "}),createTakeHp:e=>i.createEffect(i.takeHp,e)}},df=function(){return{humanoidHatred:be({stat:"humanoid",statType:"raceHatreds",description:"Humanoid Hatred + "}),beastHatred:be({stat:"beast",statType:"raceHatreds",description:"Beast Hatred + "}),angelHatred:be({stat:"angel",statType:"raceHatreds",description:"Angel Hatred + "}),demonHatred:be({stat:"demon",statType:"raceHatreds",description:"Demon Hatred + "}),dragonHatred:be({stat:"dragon",statType:"raceHatreds",description:"Dragon Hatred + "}),fishHatred:be({stat:"fish",statType:"raceHatreds",description:"Fish Hatred + "}),insectHatred:be({stat:"insect",statType:"raceHatreds",description:"Insect Hatred + "}),plantHatred:be({stat:"plant",statType:"raceHatreds",description:"Plant Hatred + "}),undeadHatred:be({stat:"undead",statType:"raceHatreds",description:"Undead Hatred + "}),constructHatred:be({stat:"construct",statType:"raceHatreds",description:"Construct Hatred + "}),formlessHatred:be({stat:"formless",statType:"raceHatreds",description:"Formless Hatred + "}),createHumanoidHatred:e=>i.createEffect(i.humanoidHatred,e),createBeastHatred:e=>i.createEffect(i.beastHatred,e),createAngelHatred:e=>i.createEffect(i.angelHatred,e),createDemonHatred:e=>i.createEffect(i.demonHatred,e),createDragonHatred:e=>i.createEffect(i.dragonHatred,e),createFishHatred:e=>i.createEffect(i.fishHatred,e),createInsectHatred:e=>i.createEffect(i.insectHatred,e),createPlantHatred:e=>i.createEffect(i.plantHatred,e),createUndeadHatred:e=>i.createEffect(i.undeadHatred,e),createConstructHatred:e=>i.createEffect(i.constructHatred,e),createFormlessHatred:e=>i.createEffect(i.formlessHatred,e)}},He=e=>e.charAt(0).toUpperCase()+e.slice(1),Bl=function(e){return{__proto__:ls(e),percentageSuffix:!0,up:function(t,n){const o=(t.type==="player"?A:we)["getMax"+He(this.stat)]();t[this.stat]+=o*n/100,$s(t)}}},ql=function(e){return{__proto__:ls(e),up:function(t,n){t[this.stat]+=n,$s(t)}}},gf=function(){return{recoverHp:ql({stat:"hp",description:"<span class='c-hp'>HP</span> + "}),recoverHpPercentage:Bl({stat:"hp",description:"<span class='c-hp'>HP</span> + "}),recoverMp:ql({stat:"mp",description:"<span class='c-mp'>MP</span> + "}),recoverMpPercentage:Bl({stat:"mp",description:"<span class='c-mp'>MP</span> + "}),createRecoverHp:e=>i.createEffect(i.recoverHp,e),createRecoverHpPercentage:e=>i.createEffect(i.recoverHpPercentage,e),createRecoverMp:e=>i.createEffect(i.recoverMp,e),createRecoverMpPercentage:e=>i.createEffect(i.recoverMpPercentage,e)}},ff=function(e,t,n){let s=e==="enemy"?we:A,o=0;if(e==="enemy"){let a=t.split("|")[1];o=ae[a][n]}else{let a="get"+He(n);o=s[a]()}return o},mf=function(e,t){let n=e.type==="enemy"?we:A,s="get"+He(t);return n[s]()},da=function(e){return{__proto__:kt(e),scaling:e.scaling,scalingStat:e.scalingStat,resistanceStat:e.resistanceStat,getDescription:e.getDescription||function(){return this.description},up:function(t,n,s,o,a){t.stats[this.stat].modifiers[er(s,this.valueType)]={sourceType:o,value:this.getPower(t,a,s)*-1,valueType:"flat"}},getPower:function(t,n,s){let d=ff(n,s,this.scalingStat)*(this.scaling/100)*(1-mf(t,this.resistanceStat)/100);return at(fn(d,0),0)}}},w=nr({visible:!1,props:{rank:0,title:"",inventoryItemId:null,descriptions:{description:"",effects:[],type:""}}}),Q=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},pf=["innerHTML"],_f={class:"descriptions"},hf=["innerHTML"],yf={key:1,class:"description effects"},vf=["innerHTML"],wf={key:2,class:"duration"},kf={__name:"StatusEffectTooltip",setup(e){return(t,n)=>{var s;return g(),m(B,null,[l("div",{class:"title",innerHTML:r(Nt)(r(w).props.title,r(w).props.rank)},null,8,pf),l("div",_f,[r(w).props.descriptions.description?(g(),m("div",{key:0,class:"description",innerHTML:r(w).props.descriptions.description},null,8,hf)):T("",!0),r(w).props.showEffectDescriptions&&((s=r(w).props.descriptions.effects)!=null&&s.length)?(g(),m("div",yf,[(g(!0),m(B,null,oe(r(w).props.descriptions.effects,o=>(g(),m("div",{innerHTML:o},null,8,vf))),256))])):T("",!0),r(w).props.duration?(g(),m("div",wf," Duration: "+H(r(w).props.doesNotExpire?"":r(w).props.duration),1)):T("",!0)])],64)}}},bf=Q(kf,[["__scopeId","data-v-a3848da3"]]),On=function(e,t){return e===void 0?t:e},It=function(e){return{slug:e.slug,name:e.name,duration:e.duration,doesNotExpire:e.doesNotExpire||!1,description:e.description,showEffectDescriptionsInTooltip:On(e.showEffectDescriptionsInTooltip,!0),getIcon:e.getIcon||function(){return this.slug},getName:function(){return this.name},getDescription:function(){return this.description},getEffects:e.getEffects||function(){return[]},getTooltipProps:e.getTooltipProps||function(t){return{component:le(bf),identifier:t.identifier,effectTarget:t.target,title:this.getName(),duration:t.duration,doesNotExpire:this.doesNotExpire,showEffectDescriptions:this.showEffectDescriptionsInTooltip,descriptions:{description:this.getDescription(),effects:this.getEffectDescriptions()}}},getEffectDescriptions:e.getEffectDescriptions||function(){return this.getEffects().map(t=>t.effect.getDescription(t.value))}}},Ef=function(){return{book_blacksmithing_buff:It({slug:"book_blacksmithing_buff",name:"Blacksmithing Theory",duration:300,getEffects:()=>[i.createBlacksmithingExp(100)]}),book_tailoring_buff:It({slug:"book_tailoring_buff",name:"Tailoring Theory",duration:300,getEffects:()=>[i.createTailoringExp(100)]}),book_enchanting_buff:It({slug:"book_enchanting_buff",name:"Enchanting Theory",duration:300,getEffects:()=>[i.createEnchantingExp(100)]}),book_woodworking_buff:It({slug:"book_woodworking_buff",name:"Woodworking Theory",duration:300,getEffects:()=>[i.createWoodworkingExp(100)]}),book_cooking_buff:It({slug:"book_cooking_buff",name:"Cooking Theory",duration:300,getEffects:()=>[i.createCookingExp(100)]}),book_alchemy_buff:It({slug:"book_alchemy_buff",name:"Alchemy Theory",duration:300,getEffects:()=>[i.createAlchemyExp(100)]}),book_scrollcrafting_buff:It({slug:"book_scrollcrafting_buff",name:"Scrollcrafting Theory",duration:300,getEffects:()=>[i.createScrollcraftingExp(100)]}),book_runecarving_buff:It({slug:"book_runecarving_buff",name:"Runecarving Theory",duration:300,getEffects:()=>[i.createRunecarvingExp(100)]}),book_leatherworking_buff:It({slug:"book_leatherworking_buff",name:"Leatherworking Theory",duration:300,getEffects:()=>[i.createLeatherworkingExp(100)]}),book_jewelcrafting_buff:It({slug:"book_jewelcrafting_buff",name:"Jewelcrafting Theory",duration:300,getEffects:()=>[i.createJewelcraftingExp(100)]})}},If=function(){return{kathryn_novice_buff:It({slug:"kathryn_novice_buff",name:"Companion - Kathryn",duration:1,doesNotExpire:!0,description:"Improves physical defense and offense.",getEffects:()=>[i.createStr(30),i.createDef(25),i.createDr(20)]})}},pe={...Ef(),...If(),water:It({slug:"water",name:"Water",duration:60,getEffects:()=>[i.createMpRegen(1)]}),dry_bread:It({slug:"dry_bread",name:"Dry Bread",duration:60,getEffects:()=>[i.createHpRegen(.5)]}),cooked_rat_meat:It({slug:"cooked_rat_meat",name:"Cooked Rat Meat",duration:60,getEffects:()=>[i.createHpRegen(1)]}),cooked_meat:It({slug:"cooked_meat",name:"Cooked Meat",duration:60,getEffects:()=>[i.createHpRegen(2)]}),kacadu_blessing:It({slug:"kacadu_blessing",name:"Kacadu's blessing",duration:50,description:"ZUPA POWAH",getEffects:()=>[i.createStr(10),i.createDef(10)]}),bleeding:It({slug:"bleeding",name:"Bleeding",duration:30,description:"Periodically lose health. Better put a bandage on it.",showEffectDescriptionsInTooltip:!1,getEffects:()=>[i.createBleeding()],getEffectDescriptions:()=>["Causes <span class='c-red'>Bleeding</span>"]}),poison:It({slug:"poison",name:"Poison",duration:30,description:"Periodically lose health. Take an antidote.",showEffectDescriptionsInTooltip:!1,getEffects:()=>[i.createPoison()],getEffectDescriptions:()=>["Causes <span class='c-green'>Poison</span>"]}),burning:It({slug:"burning",name:"Burning",duration:30,description:"Periodically lose health. Pour enchanted water on yourself.",showEffectDescriptionsInTooltip:!1,getEffects:()=>[i.createBurning()],getEffectDescriptions:()=>["Causes <span class='c-fire'>Burning</span>"]}),stun:It({slug:"stun",name:"Stun",duration:1,description:"Cannot perform any actions.",showEffectDescriptionsInTooltip:!1,getEffects:()=>[],getEffectDescriptions:()=>["Causes <span class='c-highlight'>Stun</span>"]}),silence:It({slug:"silence",name:"Silence",duration:1,description:"Cannot cast any spells.",showEffectDescriptionsInTooltip:!1,getEffects:()=>[],getEffectDescriptions:()=>["Causes <span class='c-highlight'>Silence</span>"]}),second_wind:It({slug:"second_wind",name:"Second Wind",duration:600,description:"Not today!",getEffects:()=>[i.createRecoverHpPercentage(50),i.createRecoverMpPercentage(50),i.createStrPercentage(25),i.createIntPercentage(25),i.createDex(200),i.createDef(25),i.createMdef(25)]})},je={maxDuration:600,getIdentifier:function(e){return e.statusEffect.slug+"|"+(e.caster==="enemy"?we.getEntityState().slug:"player")},getTooltipProps:function(e,t){return e.statusEffect.getTooltipProps({identifier:e.identifier,target:t,duration:e.duration})},updateTooltip:function(e){w.visible&&w.props.identifier===e.identifier&&Lr(je.getTooltipProps(e,w.props.effectTarget))},hasStatusEffect:function(e,t){return!!t.statusEffects.find(n=>n.statusEffect===e)},addStatusEffect:function(e,t){let n=t.statusEffects.find(s=>s.identifier===je.getIdentifier(e));if(n){n.duration=bn(n.duration+at(e.statusEffect.duration*e.durationMultiplier,0),je.maxDuration);return}t.statusEffects.push({identifier:je.getIdentifier(e),statusEffect:e.statusEffect.slug,duration:at(e.statusEffect.duration*e.durationMultiplier,0)}),e.statusEffect.getEffects().forEach(s=>s.effect.up(t,s.value,je.getIdentifier(e),"statusEffect",e.caster))},tickStatusEffects:function(e){e.length!==0&&(e.statusEffects.forEach(t=>{pe[t.statusEffect].doesNotExpire||(t.duration=t.duration-c.get().gameSpeed),rt.statusEffectTick(e,t)}),je.removeExpiredStatusEffects(e),je.getStatusEffects(e).forEach(t=>{je.updateTooltip(t)}))},removeExpiredStatusEffects:function(e){e.statusEffects.forEach(t=>{t.duration<=0&&je.removeStatusEffectEffects(t,e)}),e.statusEffects=e.statusEffects.filter(t=>t.duration>0)},removeStatusEffect:function(e,t){t=t||A.getEntityState(),t.statusEffects!==void 0&&(t.statusEffects.forEach(n=>{n.statusEffect===e&&je.removeStatusEffectEffects(n,t)}),t.statusEffects=t.statusEffects.filter(n=>n.statusEffect!==e))},removeStatusEffectEffects:function(e,t){pe[e.statusEffect].getEffects().forEach(s=>s.effect.down(t,e.identifier)),w.visible&&w.props.identifier===e.identifier&&(w.visible=!1)},getStatusEffects:function(e){return e.statusEffects.map(t=>({identifier:t.identifier,statusEffect:pe[t.statusEffect],duration:t.duration}))},reApplyAllStatusEffectsEffects:function(){je.getStatusEffects(A.getEntityState()).forEach(e=>{const t=je.extractCasterTypeFromStatusEffectState(e);e.statusEffect.getEffects().forEach(n=>n.effect.up(A.getEntityState(),n.value,e.identifier,"statusEffect",t))})},extractCasterTypeFromStatusEffectState:function(e){return e.identifier.split("|").pop()==="player"?"player":"enemy"},instantlyApplyStatusEffectOnPlayer:function(e,t){i.createStatusEffectTriggerEffect({statusEffect:e,caster:"player",target:"player",durationMultiplier:t||1}).effect.up()},instantlyRemoveStatusEffectFromPlayer:function(e){je.removeStatusEffect(e.slug,A.getEntityState())}},ga=function(e){return{__proto__:ls(e),statusEffect:e.statusEffect,effectColor:e.effectColor,up:function(t){je.removeStatusEffect(this.statusEffect.slug,t)},getDescription:function(){return"Removes <span class='"+this.effectColor+"'>"+this.statusEffect.name+"</span>"}}},Sf=function(){return{bleeding:da({stat:"hpRegen",scaling:20,scalingStat:"str",resistanceStat:"bleedingResistance",description:"<span class='c-red'>Bleeding</span>"}),poison:da({stat:"hpRegen",scaling:2,scalingStat:"dex",resistanceStat:"poisonResistance",description:"<span class='c-green'>Poisoned</span>"}),burning:da({stat:"hpRegen",scaling:20,scalingStat:"int",resistanceStat:"burningResistance",description:"<span class='c-fire'>Burning</span>"}),removeBleeding:ga({statusEffect:pe.bleeding,effectColor:"c-red"}),removePoison:ga({statusEffect:pe.poison,effectColor:"c-green"}),removeBurning:ga({statusEffect:pe.burning,effectColor:"c-fire"}),createBleeding:()=>i.createEffect(i.bleeding),createPoison:()=>i.createEffect(i.poison),createBurning:()=>i.createEffect(i.burning),createRemoveBleeding:()=>i.createEffect(i.removeBleeding),createRemovePoison:()=>i.createEffect(i.removePoison),createRemoveBurning:()=>i.createEffect(i.removeBurning)}},xf=function(){return{blacksmithingProficiency:be({stat:"blacksmithing",statType:"craftingProficiencies",description:"Blacksmithing Proficiency + "}),tailoringProficiency:be({stat:"tailoring",statType:"craftingProficiencies",description:"Tailoring Proficiency + "}),enchantingProficiency:be({stat:"enchanting",statType:"craftingProficiencies",description:"Enchanting Proficiency + "}),woodworkingProficiency:be({stat:"woodworking",statType:"craftingProficiencies",description:"Woodworking Proficiency + "}),cookingProficiency:be({stat:"cooking",statType:"craftingProficiencies",description:"Cooking Proficiency + "}),alchemyProficiency:be({stat:"alchemy",statType:"craftingProficiencies",description:"Alchemy Proficiency + "}),scrollcraftingProficiency:be({stat:"scrollcrafting",statType:"craftingProficiencies",description:"Scrollcrafting Proficiency + "}),runecarvingProficiency:be({stat:"runecarving",statType:"craftingProficiencies",description:"Runecarving Proficiency + "}),leatherworkingProficiency:be({stat:"leatherworking",statType:"craftingProficiencies",description:"Leatherworking Proficiency + "}),jewelcraftingProficiency:be({stat:"jewelcrafting",statType:"craftingProficiencies",description:"Jewelcrafting Proficiency + "}),createBlacksmithingProficiency:e=>i.createEffect(i.blacksmithingProficiency,e),createTailoringProficiency:e=>i.createEffect(i.tailoringProficiency,e),createEnchantingProficiency:e=>i.createEffect(i.enchantingProficiency,e),createWoodworkingProficiency:e=>i.createEffect(i.woodworkingProficiency,e),createCookingProficiency:e=>i.createEffect(i.cookingProficiency,e),createAlchemyProficiency:e=>i.createEffect(i.alchemyProficiency,e),createScrollcraftingProficiency:e=>i.createEffect(i.scrollcraftingProficiency,e),createRunecarvingProficiency:e=>i.createEffect(i.runecarvingProficiency,e),createLeatherworkingProficiency:e=>i.createEffect(i.leatherworkingProficiency,e),createJewelcraftingProficiency:e=>i.createEffect(i.jewelcraftingProficiency,e)}},mt=function(e){const t=e.stat.split("_").map(n=>He(n)).join(" ");return{__proto__:be({stat:e.stat,statType:"skillExpModifiers",description:"<span class='c-highlight'>"+t+" Experience</span> + "})}},Mf=function(){return{studyingExp:mt({stat:"studying"}),tradingExp:mt({stat:"trading"}),gluttonyExp:mt({stat:"gluttony"}),combatMasteryExp:mt({stat:"combat_mastery"}),tenacityExp:mt({stat:"tenacity"}),mutilationExp:mt({stat:"mutilation"}),manaControlExp:mt({stat:"mana_control"}),fireAffinityExp:mt({stat:"fire_affinity"}),waterAffinityExp:mt({stat:"water_affinity"}),earthAffinityExp:mt({stat:"earth_affinity"}),windAffinityExp:mt({stat:"wind_affinity"}),holyAffinityExp:mt({stat:"holy_affinity"}),shadowAffinityExp:mt({stat:"shadow_affinity"}),blacksmithingExp:mt({stat:"blacksmithing"}),tailoringExp:mt({stat:"tailoring"}),enchantingExp:mt({stat:"enchanting"}),woodworkingExp:mt({stat:"woodworking"}),cookingExp:mt({stat:"cooking"}),alchemyExp:mt({stat:"alchemy"}),scrollcraftingExp:mt({stat:"scrollcrafting"}),runecarvingExp:mt({stat:"runecarving"}),leatherworkingExp:mt({stat:"leatherworking"}),jewelcraftingExp:mt({stat:"jewelcrafting"}),woodcuttingExp:mt({stat:"woodcutting"}),herbalismExp:mt({stat:"herbalism"}),miningExp:mt({stat:"mining"}),createStudyingExp:e=>i.createEffect(i.studyingExp,e),createTradingExp:e=>i.createEffect(i.tradingExp,e),createGluttonyExp:e=>i.createEffect(i.gluttonyExp,e),createCombatMasteryExp:e=>i.createEffect(i.combatMasteryExp,e),createTenacityExp:e=>i.createEffect(i.tenacityExp,e),createMutilationExp:e=>i.createEffect(i.mutilationExp,e),createManaControlExp:e=>i.createEffect(i.manaControlExp,e),createFireAffinityExp:e=>i.createEffect(i.fireAffinityExp,e),createWaterAffinityExp:e=>i.createEffect(i.waterAffinityExp,e),createEarthAffinityExp:e=>i.createEffect(i.earthAffinityExp,e),createWindAffinityExp:e=>i.createEffect(i.windAffinityExp,e),createHolyAffinityExp:e=>i.createEffect(i.holyAffinityExp,e),createShadowAffinityExp:e=>i.createEffect(i.shadowAffinityExp,e),createBlacksmithingExp:e=>i.createEffect(i.blacksmithingExp,e),createTailoringExp:e=>i.createEffect(i.tailoringExp,e),createEnchantingExp:e=>i.createEffect(i.enchantingExp,e),createWoodworkingExp:e=>i.createEffect(i.woodworkingExp,e),createCookingExp:e=>i.createEffect(i.cookingExp,e),createAlchemyExp:e=>i.createEffect(i.alchemyExp,e),createScrollcraftingExp:e=>i.createEffect(i.scrollcraftingExp,e),createRunecarvingExp:e=>i.createEffect(i.runecarvingExp,e),createLeatherworkingExp:e=>i.createEffect(i.leatherworkingExp,e),createJewelcraftingExp:e=>i.createEffect(i.jewelcraftingExp,e),createWoodcuttingExp:e=>i.createEffect(i.woodcuttingExp,e),createHerbalismExp:e=>i.createEffect(i.herbalismExp,e),createMiningExp:e=>i.createEffect(i.miningExp,e)}},k={neutral:{slug:"neutral",getWeaknesses:()=>[]},fire:{slug:"fire",getWeaknesses:()=>[k.water]},water:{slug:"water",getWeaknesses:()=>[k.wind]},wind:{slug:"wind",getWeaknesses:()=>[k.earth]},earth:{slug:"earth",getWeaknesses:()=>[k.fire]},shadow:{slug:"shadow",getWeaknesses:()=>[k.holy]},holy:{slug:"holy",getWeaknesses:()=>[k.shadow]}},As=function(e){return{element:e.element,description:(e==null?void 0:e.description)||"Changes weapon element to ",up:function(){A.getEntityState().weaponElement=this.element.slug},down:function(){A.getEntityState().weaponElement=k.neutral.slug,c.applyStatModifiers()},getDescription:function(){return this.description+"<span class='c-"+this.element.slug+"'>"+He(this.element.slug)+"</span>"}}},Rf=function(){return{fireWeaponElementEffect:As({element:k.fire}),waterWeaponElementEffect:As({element:k.water}),windWeaponElementEffect:As({element:k.wind}),earthWeaponElementEffect:As({element:k.earth}),holyWeaponElementEffect:As({element:k.holy}),shadowWeaponElementEffect:As({element:k.shadow}),createFireWeaponElement:()=>i.createEffect(i.fireWeaponElementEffect),createWaterWeaponElement:()=>i.createEffect(i.waterWeaponElementEffect),createWindWeaponElement:()=>i.createEffect(i.windWeaponElementEffect),createEarthWeaponElement:()=>i.createEffect(i.earthWeaponElementEffect),createHolyWeaponElement:()=>i.createEffect(i.holyWeaponElementEffect),createShadowWeaponElement:()=>i.createEffect(i.shadowWeaponElementEffect)}},Bs=function(e){return{element:e.element,description:(e==null?void 0:e.description)||"Changes armor element to ",up:function(){A.getEntityState().armorElement=this.element.slug},down:function(){A.getEntityState().armorElement=k.neutral.slug,c.applyStatModifiers()},getDescription:function(){return this.description+"<span class='c-"+this.element.slug+"'>"+He(this.element.slug)+"</span>"}}},Tf=function(){return{fireArmorElementEffect:Bs({element:k.fire}),waterArmorElementEffect:Bs({element:k.water}),windArmorElementEffect:Bs({element:k.wind}),earthArmorElementEffect:Bs({element:k.earth}),holyArmorElementEffect:Bs({element:k.holy}),shadowArmorElementEffect:Bs({element:k.shadow}),createFireArmorElement:()=>i.createEffect(i.fireArmorElementEffect),createWaterArmorElement:()=>i.createEffect(i.waterArmorElementEffect),createWindArmorElement:()=>i.createEffect(i.windArmorElementEffect),createEarthArmorElement:()=>i.createEffect(i.earthArmorElementEffect),createHolyArmorElement:()=>i.createEffect(i.holyArmorElementEffect),createShadowArmorElement:()=>i.createEffect(i.shadowArmorElementEffect)}},i={...sf(),...gf(),...Sf(),...rf(),...af(),...lf(),...df(),...of(),...xf(),...uf(),...Mf(),...Rf(),...Tf(),createStatusEffectTriggerEffect:e=>({effect:nf({statusEffect:e.statusEffect,caster:e.caster,target:e.target,durationMultiplier:e.durationMultiplier,effectDescriptions:e.statusEffect.getEffectDescriptions()})}),createEffect:(e,t)=>({effect:e,value:t})},ke={item:"item",money:"money",reputation:"reputation",experience:"experience",title:"title"},Yn=function(e){return{slug:e.slug,name:e.name,description:e.description}},wn={unremarkable:Yn({slug:"unremarkable",name:"Unremarkable",description:"Spotting you in a crowd is quite the challenge, not that anyone would look for you."}),enemies_killed_1:Yn({slug:"enemies_killed_1",name:"Slayer",description:"Kill 1000 enemies."}),chickens_killed_1:Yn({slug:"chickens_killed_1",name:"The Chicken Slayer",description:"Kill some chickens."}),determined:Yn({slug:"determined",name:"The Determined",description:"Just like the poor lad, you kept swinging, honing your craft while decimating hordes of training dummies."}),relentless:Yn({slug:"relentless",name:"The Relentless",description:"Rain? Chopping.<br> Snow? Chopping.<br> Scorching heat? Chopping.<br> Bleeding? Chopping.<br><br><strong><span class='c-red'>Dying?!</span> Chopping!</strong>"}),fool:Yn({slug:"fool",name:"The Fool",description:"A smart person learns from his own mistakes, wise person from the mistakes of others.<br><br> You? Neither."}),avenger:Yn({slug:"avenger",name:"The Avenger",description:"You have corrected the mistake of Kylee.<br><br> The mistake of being arrogant without sufficient power to back it up.<br><br> Definitely not your case."}),money_gained:Yn({slug:"money_gained",name:"Rich Kid",description:"What are you going to do with all that money, hmmm?"})},h={logEnemyKill:function(e){const t=c.get().statistics;t.enemiesKilled++,e.isBoss&&t.bossesKilled++,t.raceKilled[e.race]++,t.elementKilled[e.armorElement.slug]++},logSpellCast:function(e){c.get().statistics.spellsCast++},logScrollUsed:function(){c.get().statistics.scrollsUsed++},logManaUsed:function(e){c.get().statistics.manaUsed+=e},logFoodUsed:function(){c.get().statistics.foodUsed++},logDrinkUsed:function(){c.get().statistics.drinksUsed++},logHealthPotionUsed:function(){c.get().statistics.healthPotionsUsed++},logManaPotionUsed:function(){c.get().statistics.manaPotionsUsed++},logReadableRead:function(){c.get().statistics.readablesRead++},logDeathCount:function(){c.get().statistics.deathCount++},logQuestFinished:function(){c.get().statistics.questsFinished++},logScenesEntered:function(){c.get().statistics.scenesEntered++},logItemsObtained:function(e){c.get().statistics.itemsObtained+=e},logItemsBought:function(e){c.get().statistics.itemsBought+=e},logEnchantsApplied:function(){c.get().statistics.enchantsApplied++},logEnchantsOverwritten:function(){c.get().statistics.enchantsOverwritten++},logCardsObtained:function(){c.get().statistics.cardsObtained++},logStatusEffectReceived:function(){c.get().statistics.statusEffectsReceived++},logStatusEffectApplied:function(){c.get().statistics.statusEffectsApplied++},logItemsCrafted:function(e){c.get().statistics.itemsCrafted+=e},logTotalSkillLevelUps:function(){c.get().statistics.totalSkillLevelUps++},logMoneyGained:function(e){c.get().statistics.moneyGained+=e},logMoneySpent:function(e){c.get().statistics.moneySpent+=e},logSleepingTime:function(e){c.get().statistics.sleepingTime+=e},logBleedingDamageReceived:function(e){c.get().statistics.bleedingDamageReceived+=e},logBleedingDamageDealt:function(e){c.get().statistics.bleedingDamageDealt+=e},logPoisonDamageReceived:function(e){c.get().statistics.poisonDamageReceived+=e},logPoisonDamageDealt:function(e){c.get().statistics.poisonDamageDealt+=e},logBurningDamageReceived:function(e){c.get().statistics.burningDamageReceived+=e},logBurningDamageDealt:function(e){c.get().statistics.burningDamageDealt+=e},logTimeSpentStunned:function(){c.get().statistics.timeSpentStunned++},logAfflictedStunTime:function(){c.get().statistics.afflictedStunTime++},logTimeSpentSilenced:function(){c.get().statistics.timeSpentSilenced++},logAfflictedSilenceTime:function(){c.get().statistics.afflictedSilenceTime++},logPhysicalDamageReceived:function(e){c.get().statistics.physicalDamageReceived+=e},logPhysicalDamageDealt:function(e){c.get().statistics.physicalDamageDealt+=e},logMagicalDamageReceived:function(e){c.get().statistics.magicalDamageReceived+=e},logMagicalDamageDealt:function(e){c.get().statistics.magicalDamageDealt+=e},logElementalDamageDealt:function(e,t){c.get().statistics.elementalDamageDealt[t]+=e},logElementalDamageReceived:function(e,t){c.get().statistics.elementalDamageReceived[t]+=e},logRebirthCount:function(){c.get().statistics.rebirthCount++},getEnemyKilled:function(){return c.get().statistics.enemiesKilled},getBossesKilled:function(){return c.get().statistics.bossesKilled},getRaceKilled:function(e){return c.get().statistics.raceKilled[e]},getElementKilled:function(e){return c.get().statistics.elementKilled[e]},getSpellsCast:function(){return c.get().statistics.spellsCast},getScrollsUsed:function(){return c.get().statistics.scrollsUsed},getManaUsed:function(){return c.get().statistics.manaUsed},getFoodUsed:function(){return c.get().statistics.foodUsed},getDrinksUsed:function(){return c.get().statistics.drinksUsed},getHealthPotionsUsed:function(){return c.get().statistics.healthPotionsUsed},getManaPotionsUsed:function(){return c.get().statistics.manaPotionsUsed},getReadablesRead:function(){return c.get().statistics.readablesRead},getDeathCount:function(){return c.get().statistics.deathCount},getQuestsFinished:function(){return c.get().statistics.questsFinished},getScenesEntered:function(){return c.get().statistics.scenesEntered},getItemsObtained:function(){return c.get().statistics.itemsObtained},getItemsBought:function(){return c.get().statistics.itemsBought},getEnchantsApplied:function(){return c.get().statistics.enchantsApplied},getEnchantsOverwritten:function(){return c.get().statistics.enchantsOverwritten},getCardsObtained:function(){return c.get().statistics.cardsObtained},getStatusEffectsReceived:function(){return c.get().statistics.statusEffectsReceived},getStatusEffectsApplied:function(){return c.get().statistics.statusEffectsApplied},getItemsCrafted:function(){return c.get().statistics.itemsCrafted},getTotalSkillLevelUps:function(){return c.get().statistics.totalSkillLevelUps},getMoneyGained:function(){return c.get().statistics.moneyGained},getMoneySpent:function(){return c.get().statistics.moneySpent},getSleepingTime:function(){return c.get().statistics.sleepingTime},getBleedingDamageReceived:function(){return c.get().statistics.bleedingDamageReceived},getBleedingDamageDealt:function(){return c.get().statistics.bleedingDamageDealt},getPoisonDamageReceived:function(){return c.get().statistics.poisonDamageReceived},getPoisonDamageDealt:function(){return c.get().statistics.poisonDamageDealt},getBurningDamageReceived:function(){return c.get().statistics.burningDamageReceived},getBurningDamageDealt:function(){return c.get().statistics.burningDamageDealt},getTimeSpentStunned:function(){return c.get().statistics.timeSpentStunned},getAfflictedStunTime:function(){return c.get().statistics.afflictedStunTime},getTimeSpentSilenced:function(){return c.get().statistics.timeSpentSilenced},getAfflictedSilenceTime:function(){return c.get().statistics.afflictedSilenceTime},getPhysicalDamageReceived:function(){return c.get().statistics.physicalDamageReceived},getPhysicalDamageDealt:function(){return c.get().statistics.physicalDamageDealt},getMagicalDamageReceived:function(){return c.get().statistics.magicalDamageReceived},getMagicalDamageDealt:function(){return c.get().statistics.magicalDamageDealt},getTotalDamageReceived:function(){return h.getPhysicalDamageReceived()+h.getMagicalDamageReceived()+h.getBurningDamageReceived()+h.getPoisonDamageReceived()+h.getBleedingDamageReceived()},getTotalDamageDealt:function(){return h.getPhysicalDamageDealt()+h.getMagicalDamageDealt()+h.getBurningDamageDealt()+h.getPoisonDamageDealt()+h.getBleedingDamageDealt()},getElementalDamageDealt:function(e){return c.get().statistics.elementalDamageDealt[e]},getElementalDamageReceived:function(e){return c.get().statistics.elementalDamageReceived[e]},getRebirthCount:function(){return c.get().statistics.rebirthCount}},qs=()=>"iron_sword",rn=2,$f=function(){return{enemies_killed_0:y({slug:"enemies_killed_0",name:"First Blood",description:"Kill 1 enemy.<br>First of many.",canBeUnlocked:()=>h.getEnemyKilled()>=1,getEffects:()=>[i.createStr(rn),i.createStrPercentage(rn)],getIcon:qs}),enemies_killed_1:y({slug:"enemies_killed_1",name:"Slayer I",description:"Kill 100 enemies.",canBeUnlocked:()=>h.getEnemyKilled()>=100,getEffects:()=>[i.createStr(rn),i.createStrPercentage(rn)],getIcon:qs}),enemies_killed_2:y({slug:"enemies_killed_2",name:"Slayer II",description:"Kill 1 000 enemies.",canBeUnlocked:()=>h.getEnemyKilled()>=1e3,getEffects:()=>[i.createStr(rn),i.createStrPercentage(rn)],getIcon:qs}),enemies_killed_3:y({slug:"enemies_killed_3",name:"Slayer III",description:"Kill 10 000 enemies.",canBeUnlocked:()=>h.getEnemyKilled()>=1e4,getEffects:()=>[i.createStr(rn),i.createStrPercentage(rn)],getIcon:qs}),enemies_killed_4:y({slug:"enemies_killed_4",name:"Slayer IV",description:"Kill 100 000 enemies.",canBeUnlocked:()=>h.getEnemyKilled()>=1e5,getEffects:()=>[i.createStr(rn),i.createStrPercentage(rn)],getIcon:qs}),enemies_killed_5:y({slug:"enemies_killed_5",name:"Slayer V",description:"Kill 1 000 000 enemies.",canBeUnlocked:()=>h.getEnemyKilled()>=1e6,getEffects:()=>[i.createStr(rn*5),i.createStrPercentage(rn*5)],getIcon:qs})}},Df=function(){return{training_sword_awakening:y({slug:"training_sword_awakening",name:"Training Sword Awakening",description:"Awakened the Training Sword.",getEffects:()=>[i.createStr(2),i.createStrPercentage(2)],getIcon:()=>"training_sword"}),hunting_bow_awakening:y({slug:"hunting_bow_awakening",name:"Hunting Bow Awakening",description:"Awakened the Hunting Bow.",getEffects:()=>[i.createBeastHatred(10)],getIcon:()=>"hunting_bow"}),novice_staff_awakening:y({slug:"novice_staff_awakening",name:"Novice Staff Awakening",description:"Awakened the Novice Staff.",getEffects:()=>[i.createInt(2),i.createIntPercentage(2),i.createFirePower(10)],getIcon:()=>"novice_staff"}),iron_sword_awakening:y({slug:"iron_sword_awakening",name:"Iron Sword Awakening",description:"Awakened the Iron Sword.",getEffects:()=>[i.createDr(2)],getIcon:()=>"iron_sword"}),felling_axe_awakening:y({slug:"felling_axe_awakening",name:"Felling Axe Awakening",description:"Awakened the Felling Axe.",getEffects:()=>[i.createMaxHp(20),i.createMaxHpPercentage(2)],getIcon:()=>"felling_axe"})}},Fs=()=>"mana",an=2,Cf=function(){return{spells_cast_0:y({slug:"spells_cast_0",name:"It's magic!",description:"Cast your very first spell.",canBeUnlocked:()=>h.getSpellsCast()>=1,getEffects:()=>[i.createInt(an),i.createIntPercentage(an)],getIcon:Fs}),spells_cast_1:y({slug:"spells_cast_1",name:"Spellcaster I",description:"Cast 100 spells.",canBeUnlocked:()=>h.getSpellsCast()>=100,getEffects:()=>[i.createInt(an),i.createIntPercentage(an)],getIcon:Fs}),spells_cast_2:y({slug:"spells_cast_2",name:"Spellcaster II",description:"Cast 1 000 spells.",canBeUnlocked:()=>h.getSpellsCast()>=1e3,getEffects:()=>[i.createInt(an),i.createIntPercentage(an)],getIcon:Fs}),spells_cast_3:y({slug:"spells_cast_3",name:"Spellcaster III",description:"Cast 10 000 spells.",canBeUnlocked:()=>h.getSpellsCast()>=1e4,getEffects:()=>[i.createInt(an),i.createIntPercentage(an)],getIcon:Fs}),spells_cast_4:y({slug:"spells_cast_4",name:"Spellcaster IV",description:"Cast 100 000 spells.",canBeUnlocked:()=>h.getSpellsCast()>=1e5,getEffects:()=>[i.createInt(an),i.createIntPercentage(an)],getIcon:Fs}),spells_cast_5:y({slug:"spells_cast_5",name:"Spellcaster V",description:"Cast 1 000 000 spells.",canBeUnlocked:()=>h.getSpellsCast()>=1e6,getEffects:()=>[i.createInt(an*5),i.createIntPercentage(an*5)],getIcon:Fs})}},Us=()=>"scroll_of_fire_arrow",Ls=1,Hf=function(){return{scrolls_used_0:y({slug:"scrolls_used_0",name:"Paper Burner",description:"Use a scroll for the very first time.",canBeUnlocked:()=>h.getScrollsUsed()>=1,getEffects:()=>[i.createManaEfficiency(Ls)],getIcon:Us}),scrolls_used_1:y({slug:"scrolls_used_1",name:"Paper Burner I",description:"Use 100 scrolls.",canBeUnlocked:()=>h.getScrollsUsed()>=100,getEffects:()=>[i.createManaEfficiency(Ls)],getIcon:Us}),scrolls_used_2:y({slug:"scrolls_used_2",name:"Paper Burner II",description:"Use 1 000 scrolls.",canBeUnlocked:()=>h.getScrollsUsed()>=1e3,getEffects:()=>[i.createManaEfficiency(Ls)],getIcon:Us}),scrolls_used_3:y({slug:"scrolls_used_3",name:"Paper Burner III",description:"Use 5 000 scrolls.",canBeUnlocked:()=>h.getScrollsUsed()>=5e3,getEffects:()=>[i.createManaEfficiency(Ls)],getIcon:Us}),scrolls_used_4:y({slug:"scrolls_used_4",name:"Paper Burner IV",description:"Use 25 000 scrolls.",canBeUnlocked:()=>h.getScrollsUsed()>=25e3,getEffects:()=>[i.createManaEfficiency(Ls)],getIcon:Us}),scrolls_used_5:y({slug:"scrolls_used_5",name:"Paper Burner V",description:"Use 50 000 scrolls.",canBeUnlocked:()=>h.getScrollsUsed()>=5e4,getEffects:()=>[i.createManaEfficiency(Ls*5)],getIcon:Us})}},Os=()=>"mana_2",ln=5,Pf=function(){return{mana_used_0:y({slug:"mana_used_0",name:"Mana!",description:"Use mana for the first time.",canBeUnlocked:()=>h.getManaUsed()>=1,getEffects:()=>[i.createMaxMp(ln),i.createMaxMpPercentage(ln)],getIcon:Os}),mana_used_1:y({slug:"mana_used_1",name:"Mana Usage I",description:"Use 500 mana.",canBeUnlocked:()=>h.getManaUsed()>=500,getEffects:()=>[i.createMaxMp(ln),i.createMaxMpPercentage(ln)],getIcon:Os}),mana_used_2:y({slug:"mana_used_2",name:"Mana Usage II",description:"Use 5 000 mana.",canBeUnlocked:()=>h.getManaUsed()>=5e3,getEffects:()=>[i.createMaxMp(ln),i.createMaxMpPercentage(ln)],getIcon:Os}),mana_used_3:y({slug:"mana_used_3",name:"Mana Usage III",description:"Use 50 000 mana.",canBeUnlocked:()=>h.getManaUsed()>=5e4,getEffects:()=>[i.createMaxMp(ln),i.createMaxMpPercentage(ln)],getIcon:Os}),mana_used_4:y({slug:"mana_used_4",name:"Mana Usage IV",description:"Use 500 000 mana.",canBeUnlocked:()=>h.getManaUsed()>=5e5,getEffects:()=>[i.createMaxMp(ln),i.createMaxMpPercentage(ln)],getIcon:Os}),mana_used_5:y({slug:"mana_used_5",name:"Mana Usage V",description:"Use 5 000 000 mana.",canBeUnlocked:()=>h.getManaUsed()>=5e6,getEffects:()=>[i.createMaxMp(ln*5),i.createMaxMpPercentage(ln*5)],getIcon:Os})}},Ws=()=>"dry_bread",Gs=1,Af=function(){return{food_used_0:y({slug:"food_used_0",name:"Hungry no more",description:"Eat something for the very first time.",canBeUnlocked:()=>h.getFoodUsed()>=1,getEffects:()=>[i.createHpRegen(Gs)],getIcon:Ws}),food_used_1:y({slug:"food_used_1",name:"Connoisseur I",description:"Eat something 100 times.",canBeUnlocked:()=>h.getFoodUsed()>=100,getEffects:()=>[i.createHpRegen(Gs)],getIcon:Ws}),food_used_2:y({slug:"food_used_2",name:"Connoisseur II",description:"Eat something 1 000 times.",canBeUnlocked:()=>h.getFoodUsed()>=1e3,getEffects:()=>[i.createHpRegen(Gs)],getIcon:Ws}),food_used_3:y({slug:"food_used_3",name:"Connoisseur III",description:"Eat something 10 000 times.",canBeUnlocked:()=>h.getFoodUsed()>=1e4,getEffects:()=>[i.createHpRegen(Gs)],getIcon:Ws}),food_used_4:y({slug:"food_used_4",name:"Connoisseur IV",description:"Eat something 100 000 times.",canBeUnlocked:()=>h.getFoodUsed()>=1e5,getEffects:()=>[i.createHpRegen(Gs)],getIcon:Ws}),food_used_5:y({slug:"food_used_5",name:"Connoisseur V",description:"Eat something 1 000 000 times.<br>That probably wasn't healthy.",canBeUnlocked:()=>h.getFoodUsed()>=1e6,getEffects:()=>[i.createHpRegen(Gs*5)],getIcon:Ws})}},Ks=()=>"water",js=.2,Bf=function(){return{drinks_used_0:y({slug:"drinks_used_0",name:"The taste of water",description:"Drink something for the very first time.<br>It was probably water, right?",canBeUnlocked:()=>h.getDrinksUsed()>=1,getEffects:()=>[i.createMpRegen(js)],getIcon:Ks}),drinks_used_1:y({slug:"drinks_used_1",name:"Degustation I",description:"Drink something 100 times.",canBeUnlocked:()=>h.getDrinksUsed()>=100,getEffects:()=>[i.createMpRegen(js)],getIcon:Ks}),drinks_used_2:y({slug:"drinks_used_2",name:"Degustation II",description:"Drink something 1 000 times.",canBeUnlocked:()=>h.getDrinksUsed()>=1e3,getEffects:()=>[i.createMpRegen(js)],getIcon:Ks}),drinks_used_3:y({slug:"drinks_used_3",name:"Degustation III",description:"Drink something 10 000 times.",canBeUnlocked:()=>h.getDrinksUsed()>=1e4,getEffects:()=>[i.createMpRegen(js)],getIcon:Ks}),drinks_used_4:y({slug:"drinks_used_4",name:"Degustation IV",description:"Drink something 100 000 times.",canBeUnlocked:()=>h.getDrinksUsed()>=1e5,getEffects:()=>[i.createMpRegen(js)],getIcon:Ks}),drinks_used_5:y({slug:"drinks_used_5",name:"Degustation V",description:"Drink something 1 000 000 times.<br>You didn't just chug down 1 million bottles of water, right? Right?",canBeUnlocked:()=>h.getDrinksUsed()>=1e6,getEffects:()=>[i.createMpRegen(js*5)],getIcon:Ks})}},Ns=()=>"healing_potion",Vs=5,qf=function(){return{health_potions_used_0:y({slug:"health_potions_used_0",name:"Lifewater",description:"Use a health potion for the very first time.",canBeUnlocked:()=>h.getHealthPotionsUsed()>=1,getEffects:()=>[i.createMaxHpPercentage(Vs)],getIcon:Ns}),health_potions_used_1:y({slug:"health_potions_used_1",name:"Lifewater I",description:"Drink health potion 100 times.",canBeUnlocked:()=>h.getHealthPotionsUsed()>=100,getEffects:()=>[i.createMaxHpPercentage(Vs)],getIcon:Ns}),health_potions_used_2:y({slug:"health_potions_used_2",name:"Lifewater II",description:"Drink health potion 500 times.",canBeUnlocked:()=>h.getHealthPotionsUsed()>=500,getEffects:()=>[i.createMaxHpPercentage(Vs)],getIcon:Ns}),health_potions_used_3:y({slug:"health_potions_used_3",name:"Lifewater III",description:"Drink health potion 1 000 times.",canBeUnlocked:()=>h.getHealthPotionsUsed()>=1e3,getEffects:()=>[i.createMaxHpPercentage(Vs)],getIcon:Ns}),health_potions_used_4:y({slug:"health_potions_used_4",name:"Lifewater IV",description:"Drink health potion 5 000 times.",canBeUnlocked:()=>h.getHealthPotionsUsed()>=5e3,getEffects:()=>[i.createMaxHpPercentage(Vs)],getIcon:Ns}),health_potions_used_5:y({slug:"health_potions_used_5",name:"Lifewater V",description:"Drink health potion 10 000 times.",canBeUnlocked:()=>h.getHealthPotionsUsed()>=1e4,getEffects:()=>[i.createMaxHpPercentage(Vs*5)],getIcon:Ns})}},Qs=()=>"mana_potion",Ys=5,Ff=function(){return{mana_potions_used_0:y({slug:"mana_potions_used_0",name:"Powerwell",description:"Use a mana potion for the very first time.",canBeUnlocked:()=>h.getManaPotionsUsed()>=1,getEffects:()=>[i.createMaxMpPercentage(Ys)],getIcon:Qs}),mana_potions_used_1:y({slug:"mana_potions_used_1",name:"Powerwell I",description:"Drink mana potion 100 times.",canBeUnlocked:()=>h.getManaPotionsUsed()>=100,getEffects:()=>[i.createMaxMpPercentage(Ys)],getIcon:Qs}),mana_potions_used_2:y({slug:"mana_potions_used_2",name:"Powerwell II",description:"Drink mana potion 500 times.",canBeUnlocked:()=>h.getManaPotionsUsed()>=500,getEffects:()=>[i.createMaxMpPercentage(Ys)],getIcon:Qs}),mana_potions_used_3:y({slug:"mana_potions_used_3",name:"Powerwell III",description:"Drink mana potion 1 000 times.",canBeUnlocked:()=>h.getManaPotionsUsed()>=1e3,getEffects:()=>[i.createMaxMpPercentage(Ys)],getIcon:Qs}),mana_potions_used_4:y({slug:"mana_potions_used_4",name:"Powerwell IV",description:"Drink mana potion 5 000 times.",canBeUnlocked:()=>h.getManaPotionsUsed()>=5e3,getEffects:()=>[i.createMaxMpPercentage(Ys)],getIcon:Qs}),mana_potions_used_5:y({slug:"mana_potions_used_5",name:"Powerwell V",description:"Drink mana potion 10 000 times.",canBeUnlocked:()=>h.getManaPotionsUsed()>=1e4,getEffects:()=>[i.createMaxMpPercentage(Ys*5)],getIcon:Qs})}},Js=()=>"book",zs=10,Uf=function(){return{readables_read_0:y({slug:"readables_read_0",name:"Bookworm",description:"Read a book.",canBeUnlocked:()=>h.getReadablesRead()>=1,getEffects:()=>[i.createStudyingSpeed(zs)],getIcon:Js}),readables_read_1:y({slug:"readables_read_1",name:"Bookworm I",description:"Read 10 books.",canBeUnlocked:()=>h.getReadablesRead()>=10,getEffects:()=>[i.createStudyingSpeed(zs)],getIcon:Js}),readables_read_2:y({slug:"readables_read_2",name:"Bookworm II",description:"Read 50 books.",canBeUnlocked:()=>h.getReadablesRead()>=50,getEffects:()=>[i.createStudyingSpeed(zs)],getIcon:Js}),readables_read_3:y({slug:"readables_read_3",name:"Bookworm III",description:"Read 150 books.",canBeUnlocked:()=>h.getReadablesRead()>=150,getEffects:()=>[i.createStudyingSpeed(zs)],getIcon:Js}),readables_read_4:y({slug:"readables_read_4",name:"Bookworm IV",description:"Read 300 books.",canBeUnlocked:()=>h.getReadablesRead()>=300,getEffects:()=>[i.createStudyingSpeed(zs)],getIcon:Js}),readables_read_5:y({slug:"readables_read_5",name:"Bookworm V",description:"Read 500 books.",canBeUnlocked:()=>h.getReadablesRead()>=500,getEffects:()=>[i.createStudyingSpeed(zs)],getIcon:Js})}},Lf=()=>"skull",Of=function(){return{death_count_0:y({slug:"death_count_0",name:"Brush with death",description:"Get knocked out 100 times.",canBeUnlocked:()=>h.getDeathCount()>=100,getEffects:()=>[i.createDr(2)],getIcon:Lf})}},Xs=()=>"quest_achievement",Zs=1,Wf=function(){return{quests_finished_0:y({slug:"quests_finished_0",name:"Laborer",description:"Finish a quest.",canBeUnlocked:()=>h.getQuestsFinished()>=1,getEffects:()=>[i.createDiscount(Zs)],getIcon:Xs}),quests_finished_1:y({slug:"quests_finished_1",name:"Laborer I",description:"Finish 75 quests.",canBeUnlocked:()=>h.getQuestsFinished()>=75,getEffects:()=>[i.createDiscount(Zs)],getIcon:Xs}),quests_finished_2:y({slug:"quests_finished_2",name:"Laborer II",description:"Finish 200 quests.",canBeUnlocked:()=>h.getQuestsFinished()>=200,getEffects:()=>[i.createDiscount(Zs)],getIcon:Xs}),quests_finished_3:y({slug:"quests_finished_3",name:"Laborer III",description:"Finish 500 quests.",canBeUnlocked:()=>h.getQuestsFinished()>=500,getEffects:()=>[i.createDiscount(Zs)],getIcon:Xs}),quests_finished_4:y({slug:"quests_finished_4",name:"Laborer IV",description:"Finish 1250 quests.",canBeUnlocked:()=>h.getQuestsFinished()>=1250,getEffects:()=>[i.createDiscount(Zs)],getIcon:Xs}),quests_finished_5:y({slug:"quests_finished_5",name:"Laborer V",description:"Finish 2500 quests.",canBeUnlocked:()=>h.getQuestsFinished()>=2500,getEffects:()=>[i.createDiscount(Zs*5)],getIcon:Xs})}},Gf=function(){return{studying:"book",trading:"money",gluttony:"raw_meat",combat_mastery:"iron_sword",tenacity:"health",mutilation:"bleeding",mana_control:"mana",water_affinity:"water-element",earth_affinity:"earth",wind_affinity:"wind",fire_affinity:"fire",holy_affinity:"holy",shadow_affinity:"shadow",blacksmithing:"blacksmithing",tailoring:"tailoring",enchanting:"enchant",woodworking:"wood",cooking:"cooked_meat",alchemy:"minor_healing_potion",scrollcrafting:"scroll",runecarving:"rune",leatherworking:"leatherworking",jewelcrafting:"wolf_fang_amulet",woodcutting:"felling_axe",herbalism:"herb",mining:"iron_ore"}},Kf=function(){return{slime_ring:"ring_iron_blue",slime_earring:"earring_iron_blue",iron_ring:"ring_iron",iron_earring:"earring_iron"}},jf=function(){return{quest_achievement:"feather_pen"}},Nf=function(){return{export_save:"feather_pen"}},Vf=function(){return{book_blacksmithing_buff:"blacksmithing",book_tailoring_buff:"tailoring",book_enchanting_buff:"enchanting",book_woodworking_buff:"woodworking",book_cooking_buff:"cooking",book_alchemy_buff:"alchemy",book_scrollcrafting_buff:"scrollcrafting",book_runecarving_buff:"runecarving",book_leatherworking_buff:"leatherworking",book_jewelcrafting_buff:"ring_blue",kathryn_novice_buff:"blessing_fortitude"}},Qf=function(){return{floor_3_shadow_hound:"shadow_hound"}},Yf=function(){return{scroll_of_arcane_bolt:"arcane_bolt",scroll_of_arcane_blast:"arcane_blast",scroll_of_fire_arrow:"fire_arrow",scroll_of_fireball:"fireball",scroll_of_water_splash:"water_splash",scroll_of_water_jet:"water_jet",scroll_of_stone_bullet:"stone_bullet",scroll_of_rockfall:"rockfall",scroll_of_wind_blast:"wind_blast",scroll_of_wind_cutter:"wind_cutter",scroll_of_heal:"heal",scroll_of_meditation:"meditation"}},Jf=function(){return{rune_arcane_bolt:"arcane_bolt",rune_arcane_blast:"arcane_blast",rune_fire_arrow:"fire_arrow",rune_fireball:"fireball",rune_water_splash:"water_splash",rune_water_jet:"water_jet",rune_stone_bullet:"stone_bullet",rune_rockfall:"rockfall",rune_wind_blast:"wind_blast",rune_wind_cutter:"wind_cutter",rune_heal:"heal",rune_meditation:"meditation"}},Ne={...Gf(),...Kf(),...jf(),...Nf(),...Vf(),...Qf(),...Yf(),...Jf()},Ze=100,zf=function(){return{studying_10:y({slug:"studying_10",name:"Studying I",description:"Reach level 10 in Studying",canBeUnlocked:()=>c.get().skills.studying.level>=10,getEffects:()=>[i.createStudyingExp(Ze)],getIcon:()=>Ne.studying}),trading_10:y({slug:"trading_10",name:"Trading I",description:"Reach level 10 in Trading",canBeUnlocked:()=>c.get().skills.trading.level>=10,getEffects:()=>[i.createTradingExp(Ze)],getIcon:()=>Ne.trading}),gluttony_10:y({slug:"gluttony_10",name:"Gluttony I",description:"Reach level 10 in Gluttony",canBeUnlocked:()=>c.get().skills.gluttony.level>=10,getEffects:()=>[i.createGluttonyExp(Ze)],getIcon:()=>Ne.gluttony}),combat_mastery_10:y({slug:"combat_mastery_10",name:"Combat Mastery I",description:"Reach level 10 in Combat Mastery",canBeUnlocked:()=>c.get().skills.combat_mastery.level>=10,getEffects:()=>[i.createCombatMasteryExp(Ze)],getIcon:()=>Ne.combat_mastery}),combat_mastery_20:y({slug:"combat_mastery_20",name:"Combat Mastery II",description:"Reach level 20 in Combat Mastery",canBeUnlocked:()=>c.get().skills.combat_mastery.level>=20,getEffects:()=>[i.createCombatMasteryExp(Ze)],getIcon:()=>Ne.combat_mastery}),tenacity_10:y({slug:"tenacity_10",name:"Tenacity I",description:"Reach level 10 in Tenacity",canBeUnlocked:()=>c.get().skills.tenacity.level>=10,getEffects:()=>[i.createTenacityExp(Ze)],getIcon:()=>Ne.tenacity}),tenacity_20:y({slug:"tenacity_20",name:"Tenacity II",description:"Reach level 20 in Tenacity",canBeUnlocked:()=>c.get().skills.tenacity.level>=20,getEffects:()=>[i.createTenacityExp(Ze)],getIcon:()=>Ne.tenacity}),mutilation_10:y({slug:"mutilation_10",name:"Mutilation I",description:"Reach level 10 in Mutilation",canBeUnlocked:()=>c.get().skills.mutilation.level>=10,getEffects:()=>[i.createMutilationExp(Ze)],getIcon:()=>Ne.mutilation}),mutilation_20:y({slug:"mutilation_20",name:"Mutilation II",description:"Reach level 20 in Mutilation",canBeUnlocked:()=>c.get().skills.mutilation.level>=20,getEffects:()=>[i.createMutilationExp(Ze)],getIcon:()=>Ne.mutilation}),mana_control_10:y({slug:"mana_control_10",name:"Mana Control I",description:"Reach level 10 in Mana Control",canBeUnlocked:()=>c.get().skills.mana_control.level>=10,getEffects:()=>[i.createManaControlExp(Ze)],getIcon:()=>Ne.mana_control}),fire_affinity_10:y({slug:"fire_affinity_10",name:"Fire Affinity I",description:"Reach level 10 in Fire Affinity",canBeUnlocked:()=>c.get().skills.fire_affinity.level>=10,getEffects:()=>[i.createFireAffinityExp(Ze)],getIcon:()=>Ne.fire_affinity}),water_affinity_10:y({slug:"water_affinity_10",name:"Water Affinity I",description:"Reach level 10 in Water Affinity",canBeUnlocked:()=>c.get().skills.water_affinity.level>=10,getEffects:()=>[i.createWaterAffinityExp(Ze)],getIcon:()=>Ne.water_affinity}),earth_affinity_10:y({slug:"earth_affinity_10",name:"Earth Affinity I",description:"Reach level 10 in Earth Affinity",canBeUnlocked:()=>c.get().skills.earth_affinity.level>=10,getEffects:()=>[i.createEarthAffinityExp(Ze)],getIcon:()=>Ne.earth_affinity}),wind_affinity_10:y({slug:"wind_affinity_10",name:"Wind Affinity I",description:"Reach level 10 in Wind Affinity",canBeUnlocked:()=>c.get().skills.wind_affinity.level>=10,getEffects:()=>[i.createWindAffinityExp(Ze)],getIcon:()=>Ne.wind_affinity}),holy_affinity_10:y({slug:"holy_affinity_10",name:"Holy Affinity I",description:"Reach level 10 in Holy Affinity",canBeUnlocked:()=>c.get().skills.holy_affinity.level>=10,getEffects:()=>[i.createHolyAffinityExp(Ze)],getIcon:()=>Ne.holy_affinity}),shadow_affinity_10:y({slug:"shadow_affinity_10",name:"Shadow Affinity I",description:"Reach level 10 in Shadow Affinity",canBeUnlocked:()=>c.get().skills.shadow_affinity.level>=10,getEffects:()=>[i.createShadowAffinityExp(Ze)],getIcon:()=>Ne.shadow_affinity}),blacksmithing_10:y({slug:"blacksmithing_10",name:"Blacksmithing I",description:"Reach level 10 in Blacksmithing",canBeUnlocked:()=>c.get().skills.blacksmithing.level>=10,getEffects:()=>[i.createBlacksmithingExp(Ze)],getIcon:()=>Ne.blacksmithing}),tailoring_10:y({slug:"tailoring_10",name:"Tailoring I",description:"Reach level 10 in Tailoring",canBeUnlocked:()=>c.get().skills.tailoring.level>=10,getEffects:()=>[i.createTailoringExp(Ze)],getIcon:()=>Ne.tailoring}),enchanting_10:y({slug:"enchanting_10",name:"Enchanting I",description:"Reach level 10 in Enchanting",canBeUnlocked:()=>c.get().skills.enchanting.level>=10,getEffects:()=>[i.createEnchantingExp(Ze)],getIcon:()=>Ne.enchanting}),woodworking_10:y({slug:"woodworking_10",name:"Woodworking I",description:"Reach level 10 in Woodworking",canBeUnlocked:()=>c.get().skills.woodworking.level>=10,getEffects:()=>[i.createWoodworkingExp(Ze)],getIcon:()=>Ne.woodworking}),cooking_10:y({slug:"cooking_10",name:"Cooking I",description:"Reach level 10 in Cooking",canBeUnlocked:()=>c.get().skills.cooking.level>=10,getEffects:()=>[i.createCookingExp(Ze)],getIcon:()=>Ne.cooking}),alchemy_10:y({slug:"alchemy_10",name:"Alchemy I",description:"Reach level 10 in Alchemy",canBeUnlocked:()=>c.get().skills.alchemy.level>=10,getEffects:()=>[i.createAlchemyExp(Ze)],getIcon:()=>Ne.alchemy}),scrollcrafting_10:y({slug:"scrollcrafting_10",name:"Scrollcrafting I",description:"Reach level 10 in Scrollcrafting",canBeUnlocked:()=>c.get().skills.scrollcrafting.level>=10,getEffects:()=>[i.createScrollcraftingExp(Ze)],getIcon:()=>Ne.scrollcrafting}),runecarving_10:y({slug:"runecarving_10",name:"Runecarving I",description:"Reach level 10 in Runecarving",canBeUnlocked:()=>c.get().skills.runecarving.level>=10,getEffects:()=>[i.createRunecarvingExp(Ze)],getIcon:()=>Ne.runecarving}),leatherworking_10:y({slug:"leatherworking_10",name:"Leatherworking I",description:"Reach level 10 in Leatherworking",canBeUnlocked:()=>c.get().skills.leatherworking.level>=10,getEffects:()=>[i.createLeatherworkingExp(Ze)],getIcon:()=>Ne.leatherworking}),jewelcrafting_10:y({slug:"jewelcrafting_10",name:"Jewelcrafting I",description:"Reach level 10 in Jewelcrafting",canBeUnlocked:()=>c.get().skills.jewelcrafting.level>=10,getEffects:()=>[i.createJewelcraftingExp(Ze)],getIcon:()=>Ne.jewelcrafting}),woodcutting_10:y({slug:"woodcutting_10",name:"Woodcutting I",description:"Reach level 10 in Woodcutting",canBeUnlocked:()=>c.get().skills.woodcutting.level>=10,getEffects:()=>[i.createWoodcuttingExp(Ze)],getIcon:()=>Ne.woodcutting}),herbalism_10:y({slug:"herbalism_10",name:"Herbalism I",description:"Reach level 10 in Herbalism",canBeUnlocked:()=>c.get().skills.herbalism.level>=10,getEffects:()=>[i.createHerbalismExp(Ze)],getIcon:()=>Ne.herbalism}),mining_10:y({slug:"mining_10",name:"Mining I",description:"Reach level 10 in Mining",canBeUnlocked:()=>c.get().skills.mining.level>=10,getEffects:()=>[i.createMiningExp(Ze)],getIcon:()=>Ne.mining})}},ei=()=>"defense",ti=1,Xf=function(){return{physical_damage_received_0:y({slug:"physical_damage_received_0",name:"Ouch!",description:"Take 100 physical damage.",canBeUnlocked:()=>h.getPhysicalDamageReceived()>=100,getEffects:()=>[i.createDef(ti)],getIcon:ei}),physical_damage_received_1:y({slug:"physical_damage_received_1",name:"Meat Shield I",description:"Take 1 000 physical damage.",canBeUnlocked:()=>h.getPhysicalDamageReceived()>=1e3,getEffects:()=>[i.createDef(ti)],getIcon:ei}),physical_damage_received_2:y({slug:"physical_damage_received_2",name:"Meat Shield II",description:"Take 10 000 physical damage.",canBeUnlocked:()=>h.getPhysicalDamageReceived()>=1e4,getEffects:()=>[i.createDef(ti)],getIcon:ei}),physical_damage_received_3:y({slug:"physical_damage_received_3",name:"Meat Shield III",description:"Take 100 000 physical damage.",canBeUnlocked:()=>h.getPhysicalDamageReceived()>=1e5,getEffects:()=>[i.createDef(ti)],getIcon:ei}),physical_damage_received_4:y({slug:"physical_damage_received_4",name:"Meat Shield IV",description:"Take 500 000 physical damage.",canBeUnlocked:()=>h.getPhysicalDamageReceived()>=5e5,getEffects:()=>[i.createDef(ti)],getIcon:ei}),physical_damage_received_5:y({slug:"physical_damage_received_5",name:"Meat Shield V",description:"Take 1 000 000 physical damage.",canBeUnlocked:()=>h.getPhysicalDamageReceived()>=1e6,getEffects:()=>[i.createDef(ti)],getIcon:ei})}},ni=()=>"damage_reduction",si=1,Zf=function(){return{magical_damage_received_0:y({slug:"magical_damage_received_0",name:"Mana Sting",description:"Take 100 magical damage.",canBeUnlocked:()=>h.getMagicalDamageReceived()>=100,getEffects:()=>[i.createMdef(si)],getIcon:ni}),magical_damage_received_1:y({slug:"magical_damage_received_1",name:"Mana Sting I",description:"Take 1 000 magical damage.",canBeUnlocked:()=>h.getMagicalDamageReceived()>=1e3,getEffects:()=>[i.createMdef(si)],getIcon:ni}),magical_damage_received_2:y({slug:"magical_damage_received_2",name:"Mana Sting II",description:"Take 10 000 magical damage.",canBeUnlocked:()=>h.getMagicalDamageReceived()>=1e4,getEffects:()=>[i.createMdef(si)],getIcon:ni}),magical_damage_received_3:y({slug:"magical_damage_received_3",name:"Mana Sting III",description:"Take 100 000 magical damage.",canBeUnlocked:()=>h.getMagicalDamageReceived()>=1e5,getEffects:()=>[i.createMdef(si)],getIcon:ni}),magical_damage_received_4:y({slug:"magical_damage_received_4",name:"Mana Sting IV",description:"Take 500 000 magical damage.",canBeUnlocked:()=>h.getMagicalDamageReceived()>=5e5,getEffects:()=>[i.createMdef(si)],getIcon:ni}),magical_damage_received_5:y({slug:"magical_damage_received_5",name:"Mana Sting V",description:"Take 1 000 000 magical damage.",canBeUnlocked:()=>h.getMagicalDamageReceived()>=1e6,getEffects:()=>[i.createMdef(si)],getIcon:ni})}},ii=()=>"fire",oi=5,em=function(){return{fire_damage_dealt_0:y({slug:"fire_damage_dealt_0",name:"Fire Power",description:"Deal 1 000 fire damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.fire.slug)>=1e3,getEffects:()=>[i.createFirePower(oi)],getIcon:ii}),fire_damage_dealt_1:y({slug:"fire_damage_dealt_1",name:"Fire Power I",description:"Deal 10 000 fire damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.fire.slug)>=1e4,getEffects:()=>[i.createFirePower(oi)],getIcon:ii}),fire_damage_dealt_2:y({slug:"fire_damage_dealt_2",name:"Fire Power II",description:"Deal 100 000 fire damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.fire.slug)>=1e5,getEffects:()=>[i.createFirePower(oi)],getIcon:ii}),fire_damage_dealt_3:y({slug:"fire_damage_dealt_3",name:"Fire Power III",description:"Deal 1 000 000 fire damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.fire.slug)>=1e6,getEffects:()=>[i.createFirePower(oi)],getIcon:ii}),fire_damage_dealt_4:y({slug:"fire_damage_dealt_4",name:"Fire Power IV",description:"Deal 5 000 000 fire damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.fire.slug)>=5e6,getEffects:()=>[i.createFirePower(oi)],getIcon:ii}),fire_damage_dealt_5:y({slug:"fire_damage_dealt_5",name:"Fire Power V",description:"Deal 10 000 000 fire damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.fire.slug)>=1e7,getEffects:()=>[i.createFirePower(oi*5)],getIcon:ii})}},ri=()=>"water-element",ai=5,tm=function(){return{water_damage_dealt_0:y({slug:"water_damage_dealt_0",name:"Water Power",description:"Deal 1 000 water damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.water.slug)>=1e3,getEffects:()=>[i.createWaterPower(ai)],getIcon:ri}),water_damage_dealt_1:y({slug:"water_damage_dealt_1",name:"Water Power I",description:"Deal 10 000 water damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.water.slug)>=1e4,getEffects:()=>[i.createWaterPower(ai)],getIcon:ri}),water_damage_dealt_2:y({slug:"water_damage_dealt_2",name:"Water Power II",description:"Deal 100 000 water damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.water.slug)>=1e5,getEffects:()=>[i.createWaterPower(ai)],getIcon:ri}),water_damage_dealt_3:y({slug:"water_damage_dealt_3",name:"Water Power III",description:"Deal 1 000 000 water damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.water.slug)>=1e6,getEffects:()=>[i.createWaterPower(ai)],getIcon:ri}),water_damage_dealt_4:y({slug:"water_damage_dealt_4",name:"Water Power IV",description:"Deal 5 000 000 water damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.water.slug)>=5e6,getEffects:()=>[i.createWaterPower(ai)],getIcon:ri}),water_damage_dealt_5:y({slug:"water_damage_dealt_5",name:"Water Power V",description:"Deal 10 000 000 water damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.water.slug)>=1e7,getEffects:()=>[i.createWaterPower(ai*5)],getIcon:ri})}},li=()=>"wind",ci=5,nm=function(){return{wind_damage_dealt_0:y({slug:"wind_damage_dealt_0",name:"Wind Power",description:"Deal 1 000 wind damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.wind.slug)>=1e3,getEffects:()=>[i.createWindPower(ci)],getIcon:li}),wind_damage_dealt_1:y({slug:"wind_damage_dealt_1",name:"Wind Power I",description:"Deal 10 000 wind damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.wind.slug)>=1e4,getEffects:()=>[i.createWindPower(ci)],getIcon:li}),wind_damage_dealt_2:y({slug:"wind_damage_dealt_2",name:"Wind Power II",description:"Deal 100 000 wind damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.wind.slug)>=1e5,getEffects:()=>[i.createWindPower(ci)],getIcon:li}),wind_damage_dealt_3:y({slug:"wind_damage_dealt_3",name:"Wind Power III",description:"Deal 1 000 000 wind damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.wind.slug)>=1e6,getEffects:()=>[i.createWindPower(ci)],getIcon:li}),wind_damage_dealt_4:y({slug:"wind_damage_dealt_4",name:"Wind Power IV",description:"Deal 5 000 000 wind damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.wind.slug)>=5e6,getEffects:()=>[i.createWindPower(ci)],getIcon:li}),wind_damage_dealt_5:y({slug:"wind_damage_dealt_5",name:"Wind Power V",description:"Deal 10 000 000 wind damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.wind.slug)>=1e7,getEffects:()=>[i.createWindPower(ci*5)],getIcon:li})}},ui=()=>"earth",di=5,sm=function(){return{earth_damage_dealt_0:y({slug:"earth_damage_dealt_0",name:"Earth Power",description:"Deal 1000 earth damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.earth.slug)>=1e3,getEffects:()=>[i.createEarthPower(di)],getIcon:ui}),earth_damage_dealt_1:y({slug:"earth_damage_dealt_1",name:"Earth Power I",description:"Deal 10 000 earth damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.earth.slug)>=1e4,getEffects:()=>[i.createEarthPower(di)],getIcon:ui}),earth_damage_dealt_2:y({slug:"earth_damage_dealt_2",name:"Earth Power II",description:"Deal 100 000 earth damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.earth.slug)>=1e5,getEffects:()=>[i.createEarthPower(di)],getIcon:ui}),earth_damage_dealt_3:y({slug:"earth_damage_dealt_3",name:"Earth Power III",description:"Deal 1 000 000 earth damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.earth.slug)>=1e6,getEffects:()=>[i.createEarthPower(di)],getIcon:ui}),earth_damage_dealt_4:y({slug:"earth_damage_dealt_4",name:"Earth Power IV",description:"Deal 5 000 000 earth damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.earth.slug)>=5e6,getEffects:()=>[i.createEarthPower(di)],getIcon:ui}),earth_damage_dealt_5:y({slug:"earth_damage_dealt_5",name:"Earth Power V",description:"Deal 10 000 000 earth damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.earth.slug)>=1e7,getEffects:()=>[i.createEarthPower(di*5)],getIcon:ui})}},gi=()=>"holy",fi=5,im=function(){return{holy_damage_dealt_0:y({slug:"holy_damage_dealt_0",name:"Holy Power",description:"Deal 1 000 holy damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.holy.slug)>=1e3,getEffects:()=>[i.createHolyPower(fi)],getIcon:gi}),holy_damage_dealt_1:y({slug:"holy_damage_dealt_1",name:"Holy Power I",description:"Deal 10 000 holy damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.holy.slug)>=1e4,getEffects:()=>[i.createHolyPower(fi)],getIcon:gi}),holy_damage_dealt_2:y({slug:"holy_damage_dealt_2",name:"Holy Power II",description:"Deal 100 000 holy damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.holy.slug)>=1e5,getEffects:()=>[i.createHolyPower(fi)],getIcon:gi}),holy_damage_dealt_3:y({slug:"holy_damage_dealt_3",name:"Holy Power III",description:"Deal 1 000 000 holy damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.holy.slug)>=1e6,getEffects:()=>[i.createHolyPower(fi)],getIcon:gi}),holy_damage_dealt_4:y({slug:"holy_damage_dealt_4",name:"Holy Power IV",description:"Deal 5 000 000 holy damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.holy.slug)>=5e6,getEffects:()=>[i.createHolyPower(fi)],getIcon:gi}),holy_damage_dealt_5:y({slug:"holy_damage_dealt_5",name:"Holy Power V",description:"Deal 10 000 000 holy damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.holy.slug)>=1e7,getEffects:()=>[i.createHolyPower(fi*5)],getIcon:gi})}},mi=()=>"shadow",pi=5,om=function(){return{shadow_damage_dealt_0:y({slug:"shadow_damage_dealt_0",name:"Shadow Power",description:"Deal 1000 shadow damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.shadow.slug)>=1e3,getEffects:()=>[i.createShadowPower(pi)],getIcon:mi}),shadow_damage_dealt_1:y({slug:"shadow_damage_dealt_1",name:"Shadow Power I",description:"Deal 10 000 shadow damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.shadow.slug)>=1e4,getEffects:()=>[i.createShadowPower(pi)],getIcon:mi}),shadow_damage_dealt_2:y({slug:"shadow_damage_dealt_2",name:"Shadow Power II",description:"Deal 100 000 shadow damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.shadow.slug)>=1e5,getEffects:()=>[i.createShadowPower(pi)],getIcon:mi}),shadow_damage_dealt_3:y({slug:"shadow_damage_dealt_3",name:"Shadow Power III",description:"Deal 1 000 000 shadow damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.shadow.slug)>=1e6,getEffects:()=>[i.createShadowPower(pi)],getIcon:mi}),shadow_damage_dealt_4:y({slug:"shadow_damage_dealt_4",name:"Shadow Power IV",description:"Deal 5 000 000 shadow damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.shadow.slug)>=5e6,getEffects:()=>[i.createShadowPower(pi)],getIcon:mi}),shadow_damage_dealt_5:y({slug:"shadow_damage_dealt_5",name:"Shadow Power V",description:"Deal 10 000 000 shadow damage.",canBeUnlocked:()=>h.getElementalDamageDealt(k.shadow.slug)>=1e7,getEffects:()=>[i.createShadowPower(pi*5)],getIcon:mi})}},rm=function(){return{...em(),...tm(),...nm(),...sm(),...im(),...om()}},_i=()=>"defense-fire",hi=1,am=function(){return{fire_damage_received_0:y({slug:"fire_damage_received_0",name:"Fire Sting",description:"Take 100 fire damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.fire.slug)>=100,getEffects:()=>[i.createFireResistance(hi)],getIcon:_i}),fire_damage_received_1:y({slug:"fire_damage_received_1",name:"Fire Sting I",description:"Take 1 000 fire damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.fire.slug)>=1e3,getEffects:()=>[i.createFireResistance(hi)],getIcon:_i}),fire_damage_received_2:y({slug:"fire_damage_received_2",name:"Fire Sting II",description:"Take 10 000 fire damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.fire.slug)>=1e4,getEffects:()=>[i.createFireResistance(hi)],getIcon:_i}),fire_damage_received_3:y({slug:"fire_damage_received_3",name:"Fire Sting III",description:"Take 100 000 fire damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.fire.slug)>=1e5,getEffects:()=>[i.createFireResistance(hi)],getIcon:_i}),fire_damage_received_4:y({slug:"fire_damage_received_4",name:"Fire Sting IV",description:"Take 500 000 fire damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.fire.slug)>=5e5,getEffects:()=>[i.createFireResistance(hi)],getIcon:_i}),fire_damage_received_5:y({slug:"fire_damage_received_5",name:"Fire Sting V",description:"Take 1 000 000 fire damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.fire.slug)>=1e6,getEffects:()=>[i.createFireResistance(hi*5)],getIcon:_i})}},yi=()=>"defense-water",vi=1,lm=function(){return{water_damage_received_0:y({slug:"water_damage_received_0",name:"Water Sting",description:"Take 100 water damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.water.slug)>=100,getEffects:()=>[i.createWaterResistance(vi)],getIcon:yi}),water_damage_received_1:y({slug:"water_damage_received_1",name:"Water Sting I",description:"Take 1 000 water damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.water.slug)>=1e3,getEffects:()=>[i.createWaterResistance(vi)],getIcon:yi}),water_damage_received_2:y({slug:"water_damage_received_2",name:"Water Sting II",description:"Take 10 000 water damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.water.slug)>=1e4,getEffects:()=>[i.createWaterResistance(vi)],getIcon:yi}),water_damage_received_3:y({slug:"water_damage_received_3",name:"Water Sting III",description:"Take 100 000 water damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.water.slug)>=1e5,getEffects:()=>[i.createWaterResistance(vi)],getIcon:yi}),water_damage_received_4:y({slug:"water_damage_received_4",name:"Water Sting IV",description:"Take 500 000 water damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.water.slug)>=5e5,getEffects:()=>[i.createWaterResistance(vi)],getIcon:yi}),water_damage_received_5:y({slug:"water_damage_received_5",name:"Water Sting V",description:"Take 1 000 000 water damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.water.slug)>=1e6,getEffects:()=>[i.createWaterResistance(vi*5)],getIcon:yi})}},wi=()=>"defense-wind",ki=1,cm=function(){return{wind_damage_received_0:y({slug:"wind_damage_received_0",name:"Wind Sting",description:"Take 100 wind damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.wind.slug)>=100,getEffects:()=>[i.createWindResistance(ki)],getIcon:wi}),wind_damage_received_1:y({slug:"wind_damage_received_1",name:"Wind Sting I",description:"Take 1 000 wind damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.wind.slug)>=1e3,getEffects:()=>[i.createWindResistance(ki)],getIcon:wi}),wind_damage_received_2:y({slug:"wind_damage_received_2",name:"Wind Sting II",description:"Take 10 000 wind damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.wind.slug)>=1e4,getEffects:()=>[i.createWindResistance(ki)],getIcon:wi}),wind_damage_received_3:y({slug:"wind_damage_received_3",name:"Wind Sting III",description:"Take 100 000 wind damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.wind.slug)>=1e5,getEffects:()=>[i.createWindResistance(ki)],getIcon:wi}),wind_damage_received_4:y({slug:"wind_damage_received_4",name:"Wind Sting IV",description:"Take 500 000 wind damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.wind.slug)>=5e5,getEffects:()=>[i.createWindResistance(ki)],getIcon:wi}),wind_damage_received_5:y({slug:"wind_damage_received_5",name:"Wind Sting V",description:"Take 1 000 000 wind damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.wind.slug)>=1e6,getEffects:()=>[i.createWindResistance(ki*5)],getIcon:wi})}},bi=()=>"defense-earth",Ei=1,um=function(){return{earth_damage_received_0:y({slug:"earth_damage_received_0",name:"Earth Sting",description:"Take 100 earth damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.earth.slug)>=100,getEffects:()=>[i.createEarthResistance(Ei)],getIcon:bi}),earth_damage_received_1:y({slug:"earth_damage_received_1",name:"Earth Sting I",description:"Take 1 000 earth damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.earth.slug)>=1e3,getEffects:()=>[i.createEarthResistance(Ei)],getIcon:bi}),earth_damage_received_2:y({slug:"earth_damage_received_2",name:"Earth Sting II",description:"Take 10 000 earth damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.earth.slug)>=1e4,getEffects:()=>[i.createEarthResistance(Ei)],getIcon:bi}),earth_damage_received_3:y({slug:"earth_damage_received_3",name:"Earth Sting III",description:"Take 100 000 earth damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.earth.slug)>=1e5,getEffects:()=>[i.createEarthResistance(Ei)],getIcon:bi}),earth_damage_received_4:y({slug:"earth_damage_received_4",name:"Earth Sting IV",description:"Take 500 000 earth damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.earth.slug)>=5e5,getEffects:()=>[i.createEarthResistance(Ei)],getIcon:bi}),earth_damage_received_5:y({slug:"earth_damage_received_5",name:"Earth Sting V",description:"Take 1 000 000 earth damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.earth.slug)>=1e6,getEffects:()=>[i.createEarthResistance(Ei*5)],getIcon:bi})}},Ii=()=>"defense-holy",Si=1,dm=function(){return{holy_damage_received_0:y({slug:"holy_damage_received_0",name:"Holy Sting",description:"Take 100 holy damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.holy.slug)>=100,getEffects:()=>[i.createHolyResistance(Si)],getIcon:Ii}),holy_damage_received_1:y({slug:"holy_damage_received_1",name:"Holy Sting I",description:"Take 1 000 holy damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.holy.slug)>=1e3,getEffects:()=>[i.createHolyResistance(Si)],getIcon:Ii}),holy_damage_received_2:y({slug:"holy_damage_received_2",name:"Holy Sting II",description:"Take 10 000 holy damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.holy.slug)>=1e4,getEffects:()=>[i.createHolyResistance(Si)],getIcon:Ii}),holy_damage_received_3:y({slug:"holy_damage_received_3",name:"Holy Sting III",description:"Take 100 000 holy damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.holy.slug)>=1e5,getEffects:()=>[i.createHolyResistance(Si)],getIcon:Ii}),holy_damage_received_4:y({slug:"holy_damage_received_4",name:"Holy Sting IV",description:"Take 500 000 holy damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.holy.slug)>=5e5,getEffects:()=>[i.createHolyResistance(Si)],getIcon:Ii}),holy_damage_received_5:y({slug:"holy_damage_received_5",name:"Holy Sting V",description:"Take 1 000 000 holy damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.holy.slug)>=1e6,getEffects:()=>[i.createHolyResistance(Si*5)],getIcon:Ii})}},xi=()=>"defense-shadow",Mi=1,gm=function(){return{shadow_damage_received_0:y({slug:"shadow_damage_received_0",name:"Shadow Sting",description:"Take 100 shadow damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.shadow.slug)>=100,getEffects:()=>[i.createShadowResistance(Mi)],getIcon:xi}),shadow_damage_received_1:y({slug:"shadow_damage_received_1",name:"Shadow Sting I",description:"Take 1 000 shadow damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.shadow.slug)>=1e3,getEffects:()=>[i.createShadowResistance(Mi)],getIcon:xi}),shadow_damage_received_2:y({slug:"shadow_damage_received_2",name:"Shadow Sting II",description:"Take 10 000 shadow damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.shadow.slug)>=1e4,getEffects:()=>[i.createShadowResistance(Mi)],getIcon:xi}),shadow_damage_received_3:y({slug:"shadow_damage_received_3",name:"Shadow Sting III",description:"Take 100 000 shadow damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.shadow.slug)>=1e5,getEffects:()=>[i.createShadowResistance(Mi)],getIcon:xi}),shadow_damage_received_4:y({slug:"shadow_damage_received_4",name:"Shadow Sting IV",description:"Take 500 000 shadow damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.shadow.slug)>=5e5,getEffects:()=>[i.createShadowResistance(Mi)],getIcon:xi}),shadow_damage_received_5:y({slug:"shadow_damage_received_5",name:"Shadow Sting V",description:"Take 1 000 000 shadow damage.",canBeUnlocked:()=>h.getElementalDamageReceived(k.shadow.slug)>=1e6,getEffects:()=>[i.createShadowResistance(Mi*5)],getIcon:xi})}},fm=function(){return{...am(),...lm(),...cm(),...um(),...dm(),...gm()}},mm=()=>"bear",pm=function(){return{bosses_killed_0:y({slug:"bosses_killed_0",name:"Big Game Hunter",description:"Slay 100 bosses.",canBeUnlocked:()=>h.getBossesKilled()>=100,getEffects:()=>[i.createExpModifier(25)],getIcon:mm})}},Ri=()=>"hatred-fire",Ti=5,_m=function(){return{fire_enemy_killed_0:y({slug:"fire_enemy_killed_0",name:"Fire Hatred",description:"Kill 100 enemies with fire armor.",canBeUnlocked:()=>h.getElementKilled(k.fire.slug)>=100,getEffects:()=>[i.createFireHatred(Ti)],getIcon:Ri}),fire_enemy_killed_1:y({slug:"fire_enemy_killed_1",name:"Fire Hatred I",description:"Kill 1 000 enemies with fire armor.",canBeUnlocked:()=>h.getElementKilled(k.fire.slug)>=1e3,getEffects:()=>[i.createFireHatred(Ti)],getIcon:Ri}),fire_enemy_killed_2:y({slug:"fire_enemy_killed_2",name:"Fire Hatred II",description:"Kill 10 000 enemies with fire armor.",canBeUnlocked:()=>h.getElementKilled(k.fire.slug)>=1e4,getEffects:()=>[i.createFireHatred(Ti)],getIcon:Ri}),fire_enemy_killed_3:y({slug:"fire_enemy_killed_3",name:"Fire Hatred III",description:"Kill 100 000 enemies with fire armor.",canBeUnlocked:()=>h.getElementKilled(k.fire.slug)>=1e5,getEffects:()=>[i.createFireHatred(Ti)],getIcon:Ri}),fire_enemy_killed_4:y({slug:"fire_enemy_killed_4",name:"Fire Hatred IV",description:"Kill 500 000 enemies with fire armor.",canBeUnlocked:()=>h.getElementKilled(k.fire.slug)>=5e5,getEffects:()=>[i.createFireHatred(Ti)],getIcon:Ri}),fire_enemy_killed_5:y({slug:"fire_enemy_killed_5",name:"Fire Hatred V",description:"Kill 1 000 000 enemies with fire armor.",canBeUnlocked:()=>h.getElementKilled(k.fire.slug)>=1e6,getEffects:()=>[i.createFireHatred(Ti*5)],getIcon:Ri})}},$i=()=>"hatred-water",Di=5,hm=function(){return{water_enemy_killed_0:y({slug:"water_enemy_killed_0",name:"Water Hatred",description:"Kill 100 enemies with water armor.",canBeUnlocked:()=>h.getElementKilled(k.water.slug)>=100,getEffects:()=>[i.createWaterHatred(Di)],getIcon:$i}),water_enemy_killed_1:y({slug:"water_enemy_killed_1",name:"Water Hatred I",description:"Kill 1 000 enemies with water armor.",canBeUnlocked:()=>h.getElementKilled(k.water.slug)>=1e3,getEffects:()=>[i.createWaterHatred(Di)],getIcon:$i}),water_enemy_killed_2:y({slug:"water_enemy_killed_2",name:"Water Hatred II",description:"Kill 10 000 enemies with water armor.",canBeUnlocked:()=>h.getElementKilled(k.water.slug)>=1e4,getEffects:()=>[i.createWaterHatred(Di)],getIcon:$i}),water_enemy_killed_3:y({slug:"water_enemy_killed_3",name:"Water Hatred III",description:"Kill 100 000 enemies with water armor.",canBeUnlocked:()=>h.getElementKilled(k.water.slug)>=1e5,getEffects:()=>[i.createWaterHatred(Di)],getIcon:$i}),water_enemy_killed_4:y({slug:"water_enemy_killed_4",name:"Water Hatred IV",description:"Kill 500 000 enemies with water armor.",canBeUnlocked:()=>h.getElementKilled(k.water.slug)>=5e5,getEffects:()=>[i.createWaterHatred(Di)],getIcon:$i}),water_enemy_killed_5:y({slug:"water_enemy_killed_5",name:"Water Hatred V",description:"Kill 1 000 000 enemies with water armor.",canBeUnlocked:()=>h.getElementKilled(k.water.slug)>=1e6,getEffects:()=>[i.createWaterHatred(Di*5)],getIcon:$i})}},Ci=()=>"hatred-earth",Hi=5,ym=function(){return{earth_enemy_killed_0:y({slug:"earth_enemy_killed_0",name:"Earth Hatred",description:"Kill 100 enemies with earth armor.",canBeUnlocked:()=>h.getElementKilled(k.earth.slug)>=100,getEffects:()=>[i.createEarthHatred(Hi)],getIcon:Ci}),earth_enemy_killed_1:y({slug:"earth_enemy_killed_1",name:"Earth Hatred I",description:"Kill 1 000 enemies with earth armor.",canBeUnlocked:()=>h.getElementKilled(k.earth.slug)>=1e3,getEffects:()=>[i.createEarthHatred(Hi)],getIcon:Ci}),earth_enemy_killed_2:y({slug:"earth_enemy_killed_2",name:"Earth Hatred II",description:"Kill 10 000 enemies with earth armor.",canBeUnlocked:()=>h.getElementKilled(k.earth.slug)>=1e4,getEffects:()=>[i.createEarthHatred(Hi)],getIcon:Ci}),earth_enemy_killed_3:y({slug:"earth_enemy_killed_3",name:"Earth Hatred III",description:"Kill 100 000 enemies with earth armor.",canBeUnlocked:()=>h.getElementKilled(k.earth.slug)>=1e5,getEffects:()=>[i.createEarthHatred(Hi)],getIcon:Ci}),earth_enemy_killed_4:y({slug:"earth_enemy_killed_4",name:"Earth Hatred IV",description:"Kill 500 000 enemies with earth armor.",canBeUnlocked:()=>h.getElementKilled(k.earth.slug)>=5e5,getEffects:()=>[i.createEarthHatred(Hi)],getIcon:Ci}),earth_enemy_killed_5:y({slug:"earth_enemy_killed_5",name:"Earth Hatred V",description:"Kill 1 000 000 enemies with earth armor.",canBeUnlocked:()=>h.getElementKilled(k.earth.slug)>=1e6,getEffects:()=>[i.createEarthHatred(Hi*5)],getIcon:Ci})}},Pi=()=>"hatred-holy",Ai=5,vm=function(){return{holy_enemy_killed_0:y({slug:"holy_enemy_killed_0",name:"Holy Hatred",description:"Kill 100 enemies with holy armor.",canBeUnlocked:()=>h.getElementKilled(k.holy.slug)>=100,getEffects:()=>[i.createHolyHatred(Ai)],getIcon:Pi}),holy_enemy_killed_1:y({slug:"holy_enemy_killed_1",name:"Holy Hatred I",description:"Kill 1 000 enemies with holy armor.",canBeUnlocked:()=>h.getElementKilled(k.holy.slug)>=1e3,getEffects:()=>[i.createHolyHatred(Ai)],getIcon:Pi}),holy_enemy_killed_2:y({slug:"holy_enemy_killed_2",name:"Holy Hatred II",description:"Kill 10 000 enemies with holy armor.",canBeUnlocked:()=>h.getElementKilled(k.holy.slug)>=1e4,getEffects:()=>[i.createHolyHatred(Ai)],getIcon:Pi}),holy_enemy_killed_3:y({slug:"holy_enemy_killed_3",name:"Holy Hatred III",description:"Kill 100 000 enemies with holy armor.",canBeUnlocked:()=>h.getElementKilled(k.holy.slug)>=1e5,getEffects:()=>[i.createHolyHatred(Ai)],getIcon:Pi}),holy_enemy_killed_4:y({slug:"holy_enemy_killed_4",name:"Holy Hatred IV",description:"Kill 500 000 enemies with holy armor.",canBeUnlocked:()=>h.getElementKilled(k.holy.slug)>=5e5,getEffects:()=>[i.createHolyHatred(Ai)],getIcon:Pi}),holy_enemy_killed_5:y({slug:"holy_enemy_killed_5",name:"Holy Hatred V",description:"Kill 1 000 000 enemies with holy armor.",canBeUnlocked:()=>h.getElementKilled(k.holy.slug)>=1e6,getEffects:()=>[i.createHolyHatred(Ai*5)],getIcon:Pi})}},Bi=()=>"hatred-wind",qi=5,wm=function(){return{wind_enemy_killed_0:y({slug:"wind_enemy_killed_0",name:"Wind Hatred",description:"Kill 100 enemies with wind armor.",canBeUnlocked:()=>h.getElementKilled(k.wind.slug)>=100,getEffects:()=>[i.createWindHatred(qi)],getIcon:Bi}),wind_enemy_killed_1:y({slug:"wind_enemy_killed_1",name:"Wind Hatred I",description:"Kill 1 000 enemies with wind armor.",canBeUnlocked:()=>h.getElementKilled(k.wind.slug)>=1e3,getEffects:()=>[i.createWindHatred(qi)],getIcon:Bi}),wind_enemy_killed_2:y({slug:"wind_enemy_killed_2",name:"Wind Hatred II",description:"Kill 10 000 enemies with wind armor.",canBeUnlocked:()=>h.getElementKilled(k.wind.slug)>=1e4,getEffects:()=>[i.createWindHatred(qi)],getIcon:Bi}),wind_enemy_killed_3:y({slug:"wind_enemy_killed_3",name:"Wind Hatred III",description:"Kill 100 000 enemies with wind armor.",canBeUnlocked:()=>h.getElementKilled(k.wind.slug)>=1e5,getEffects:()=>[i.createWindHatred(qi)],getIcon:Bi}),wind_enemy_killed_4:y({slug:"wind_enemy_killed_4",name:"Wind Hatred IV",description:"Kill 500 000 enemies with wind armor.",canBeUnlocked:()=>h.getElementKilled(k.wind.slug)>=5e5,getEffects:()=>[i.createWindHatred(qi)],getIcon:Bi}),wind_enemy_killed_5:y({slug:"wind_enemy_killed_5",name:"Wind Hatred V",description:"Kill 1 000 000 enemies with wind armor.",canBeUnlocked:()=>h.getElementKilled(k.wind.slug)>=1e6,getEffects:()=>[i.createWindHatred(qi*5)],getIcon:Bi})}},Fi=()=>"hatred-shadow",Ui=5,km=function(){return{shadow_enemy_killed_0:y({slug:"shadow_enemy_killed_0",name:"Shadow Hatred",description:"Kill 100 enemies with shadow armor.",canBeUnlocked:()=>h.getElementKilled(k.shadow.slug)>=100,getEffects:()=>[i.createShadowHatred(Ui)],getIcon:Fi}),shadow_enemy_killed_1:y({slug:"shadow_enemy_killed_1",name:"Shadow Hatred I",description:"Kill 1 000 enemies with shadow armor.",canBeUnlocked:()=>h.getElementKilled(k.shadow.slug)>=1e3,getEffects:()=>[i.createShadowHatred(Ui)],getIcon:Fi}),shadow_enemy_killed_2:y({slug:"shadow_enemy_killed_2",name:"Shadow Hatred II",description:"Kill 10 000 enemies with shadow armor.",canBeUnlocked:()=>h.getElementKilled(k.shadow.slug)>=1e4,getEffects:()=>[i.createShadowHatred(Ui)],getIcon:Fi}),shadow_enemy_killed_3:y({slug:"shadow_enemy_killed_3",name:"Shadow Hatred III",description:"Kill 100 000 enemies with shadow armor.",canBeUnlocked:()=>h.getElementKilled(k.shadow.slug)>=1e5,getEffects:()=>[i.createShadowHatred(Ui)],getIcon:Fi}),shadow_enemy_killed_4:y({slug:"shadow_enemy_killed_4",name:"Shadow Hatred IV",description:"Kill 500 000 enemies with shadow armor.",canBeUnlocked:()=>h.getElementKilled(k.shadow.slug)>=5e5,getEffects:()=>[i.createShadowHatred(Ui)],getIcon:Fi}),shadow_enemy_killed_5:y({slug:"shadow_enemy_killed_5",name:"Shadow Hatred V",description:"Kill 1 000 000 enemies with shadow armor.",canBeUnlocked:()=>h.getElementKilled(k.shadow.slug)>=1e6,getEffects:()=>[i.createShadowHatred(Ui*5)],getIcon:Fi})}},Li=()=>"neutral",Oi=5,bm=function(){return{neutral_enemy_killed_0:y({slug:"neutral_enemy_killed_0",name:"Neutral Hatred",description:"Kill 100 enemies with neutral armor.",canBeUnlocked:()=>h.getElementKilled(k.neutral.slug)>=100,getEffects:()=>[i.createNeutralHatred(Oi)],getIcon:Li}),neutral_enemy_killed_1:y({slug:"neutral_enemy_killed_1",name:"Neutral Hatred I",description:"Kill 1 000 enemies with neutral armor.",canBeUnlocked:()=>h.getElementKilled(k.neutral.slug)>=1e3,getEffects:()=>[i.createNeutralHatred(Oi)],getIcon:Li}),neutral_enemy_killed_2:y({slug:"neutral_enemy_killed_2",name:"Neutral Hatred II",description:"Kill 10 000 enemies with neutral armor.",canBeUnlocked:()=>h.getElementKilled(k.neutral.slug)>=1e4,getEffects:()=>[i.createNeutralHatred(Oi)],getIcon:Li}),neutral_enemy_killed_3:y({slug:"neutral_enemy_killed_3",name:"Neutral Hatred III",description:"Kill 100 000 enemies with neutral armor.",canBeUnlocked:()=>h.getElementKilled(k.neutral.slug)>=1e5,getEffects:()=>[i.createNeutralHatred(Oi)],getIcon:Li}),neutral_enemy_killed_4:y({slug:"neutral_enemy_killed_4",name:"Neutral Hatred IV",description:"Kill 500 000 enemies with neutral armor.",canBeUnlocked:()=>h.getElementKilled(k.neutral.slug)>=5e5,getEffects:()=>[i.createNeutralHatred(Oi)],getIcon:Li}),neutral_enemy_killed_5:y({slug:"neutral_enemy_killed_5",name:"Neutral Hatred V",description:"Kill 1 000 000 enemies with neutral armor.",canBeUnlocked:()=>h.getElementKilled(k.neutral.slug)>=1e6,getEffects:()=>[i.createNeutralHatred(Oi*5)],getIcon:Li})}},Em=function(){return{..._m(),...hm(),...wm(),...ym(),...vm(),...km(),...bm()}},X={humanoid:"humanoid",beast:"beast",insect:"insect",plant:"plant",construct:"construct",formless:"formless"},Wi=()=>"wolf",Gi=5,Im=function(){return{beast_killed_0:y({slug:"beast_killed_0",name:"Beast Hatred",description:"Kill 100 beast enemies.",canBeUnlocked:()=>h.getRaceKilled(X.beast)>=100,getEffects:()=>[i.createBeastHatred(Gi)],getIcon:Wi}),beast_killed_1:y({slug:"beast_killed_1",name:"Beast Hatred I",description:"Kill 1 000 beast enemies.",canBeUnlocked:()=>h.getRaceKilled(X.beast)>=1e3,getEffects:()=>[i.createBeastHatred(Gi)],getIcon:Wi}),beast_killed_2:y({slug:"beast_killed_2",name:"Beast Hatred II",description:"Kill 10 000 beast enemies.",canBeUnlocked:()=>h.getRaceKilled(X.beast)>=1e4,getEffects:()=>[i.createBeastHatred(Gi)],getIcon:Wi}),beast_killed_3:y({slug:"beast_killed_3",name:"Beast Hatred III",description:"Kill 100 000 beast enemies.",canBeUnlocked:()=>h.getRaceKilled(X.beast)>=1e5,getEffects:()=>[i.createBeastHatred(Gi)],getIcon:Wi}),beast_killed_4:y({slug:"beast_killed_4",name:"Beast Hatred IV",description:"Kill 500 000 beast enemies.",canBeUnlocked:()=>h.getRaceKilled(X.beast)>=5e5,getEffects:()=>[i.createBeastHatred(Gi)],getIcon:Wi}),beast_killed_5:y({slug:"beast_killed_5",name:"Beast Hatred V",description:"Kill 1 000 000 beast enemies.",canBeUnlocked:()=>h.getRaceKilled(X.beast)>=1e6,getEffects:()=>[i.createBeastHatred(Gi*5)],getIcon:Wi})}},Ki=()=>"training_dummy",ji=5,Sm=function(){return{construct_killed_0:y({slug:"construct_killed_0",name:"Construct Hatred",description:"Kill 100 construct enemies.",canBeUnlocked:()=>h.getRaceKilled(X.construct)>=100,getEffects:()=>[i.createConstructHatred(ji)],getIcon:Ki}),construct_killed_1:y({slug:"construct_killed_1",name:"Construct Hatred I",description:"Kill 1 000 construct enemies.",canBeUnlocked:()=>h.getRaceKilled(X.construct)>=1e3,getEffects:()=>[i.createConstructHatred(ji)],getIcon:Ki}),construct_killed_2:y({slug:"construct_killed_2",name:"Construct Hatred II",description:"Kill 10 000 construct enemies.",canBeUnlocked:()=>h.getRaceKilled(X.construct)>=1e4,getEffects:()=>[i.createConstructHatred(ji)],getIcon:Ki}),construct_killed_3:y({slug:"construct_killed_3",name:"Construct Hatred III",description:"Kill 100 000 construct enemies.",canBeUnlocked:()=>h.getRaceKilled(X.construct)>=1e5,getEffects:()=>[i.createConstructHatred(ji)],getIcon:Ki}),construct_killed_4:y({slug:"construct_killed_4",name:"Construct Hatred IV",description:"Kill 500 000 construct enemies.",canBeUnlocked:()=>h.getRaceKilled(X.construct)>=5e5,getEffects:()=>[i.createConstructHatred(ji)],getIcon:Ki}),construct_killed_5:y({slug:"construct_killed_5",name:"Construct Hatred V",description:"Kill 1 000 000 construct enemies.",canBeUnlocked:()=>h.getRaceKilled(X.construct)>=1e6,getEffects:()=>[i.createConstructHatred(ji*5)],getIcon:Ki})}},Ni=()=>"slimelord",Vi=5,xm=function(){return{formless_killed_0:y({slug:"formless_killed_0",name:"Formless Hatred",description:"Kill 100 formless enemies.",canBeUnlocked:()=>h.getRaceKilled(X.formless)>=100,getEffects:()=>[i.createFormlessHatred(Vi)],getIcon:Ni}),formless_killed_1:y({slug:"formless_killed_1",name:"Formless Hatred I",description:"Kill 1 000 formless enemies.",canBeUnlocked:()=>h.getRaceKilled(X.formless)>=1e3,getEffects:()=>[i.createFormlessHatred(Vi)],getIcon:Ni}),formless_killed_2:y({slug:"formless_killed_2",name:"Formless Hatred II",description:"Kill 10 000 formless enemies.",canBeUnlocked:()=>h.getRaceKilled(X.formless)>=1e4,getEffects:()=>[i.createFormlessHatred(Vi)],getIcon:Ni}),formless_killed_3:y({slug:"formless_killed_3",name:"Formless Hatred III",description:"Kill 100 000 formless enemies.",canBeUnlocked:()=>h.getRaceKilled(X.formless)>=1e5,getEffects:()=>[i.createFormlessHatred(Vi)],getIcon:Ni}),formless_killed_4:y({slug:"formless_killed_4",name:"Formless Hatred IV",description:"Kill 500 000 formless enemies.",canBeUnlocked:()=>h.getRaceKilled(X.formless)>=5e5,getEffects:()=>[i.createFormlessHatred(Vi)],getIcon:Ni}),formless_killed_5:y({slug:"formless_killed_5",name:"Formless Hatred V",description:"Kill 1 000 000 formless enemies.",canBeUnlocked:()=>h.getRaceKilled(X.formless)>=1e6,getEffects:()=>[i.createFormlessHatred(Vi*5)],getIcon:Ni})}},Qi=()=>"spider",Yi=5,Mm=function(){return{insect_killed_0:y({slug:"insect_killed_0",name:"Insect Hatred",description:"Kill 100 insect enemies.",canBeUnlocked:()=>h.getRaceKilled(X.insect)>=100,getEffects:()=>[i.createInsectHatred(Yi)],getIcon:Qi}),insect_killed_1:y({slug:"insect_killed_1",name:"Insect Hatred I",description:"Kill 1 000 insect enemies.",canBeUnlocked:()=>h.getRaceKilled(X.insect)>=1e3,getEffects:()=>[i.createInsectHatred(Yi)],getIcon:Qi}),insect_killed_2:y({slug:"insect_killed_2",name:"Insect Hatred II",description:"Kill 10 000 insect enemies.",canBeUnlocked:()=>h.getRaceKilled(X.insect)>=1e4,getEffects:()=>[i.createInsectHatred(Yi)],getIcon:Qi}),insect_killed_3:y({slug:"insect_killed_3",name:"Insect Hatred III",description:"Kill 100 000 insect enemies.",canBeUnlocked:()=>h.getRaceKilled(X.insect)>=1e5,getEffects:()=>[i.createInsectHatred(Yi)],getIcon:Qi}),insect_killed_4:y({slug:"insect_killed_4",name:"Insect Hatred IV",description:"Kill 500 000 insect enemies.",canBeUnlocked:()=>h.getRaceKilled(X.insect)>=5e5,getEffects:()=>[i.createInsectHatred(Yi)],getIcon:Qi}),insect_killed_5:y({slug:"insect_killed_5",name:"Insect Hatred V",description:"Kill 1 000 000 insect enemies.",canBeUnlocked:()=>h.getRaceKilled(X.insect)>=1e6,getEffects:()=>[i.createInsectHatred(Yi*5)],getIcon:Qi})}},Ji=()=>"tree",zi=5,Rm=function(){return{plant_killed_0:y({slug:"plant_killed_0",name:"Plant Hatred",description:"Kill 100 plant enemies.",canBeUnlocked:()=>h.getRaceKilled(X.plant)>=100,getEffects:()=>[i.createPlantHatred(zi)],getIcon:Ji}),plant_killed_1:y({slug:"plant_killed_1",name:"Plant Hatred I",description:"Kill 1 000 plant enemies.",canBeUnlocked:()=>h.getRaceKilled(X.plant)>=1e3,getEffects:()=>[i.createPlantHatred(zi)],getIcon:Ji}),plant_killed_2:y({slug:"plant_killed_2",name:"Plant Hatred II",description:"Kill 10 000 plant enemies.",canBeUnlocked:()=>h.getRaceKilled(X.plant)>=1e4,getEffects:()=>[i.createPlantHatred(zi)],getIcon:Ji}),plant_killed_3:y({slug:"plant_killed_3",name:"Plant Hatred III",description:"Kill 100 000 plant enemies.",canBeUnlocked:()=>h.getRaceKilled(X.plant)>=1e5,getEffects:()=>[i.createPlantHatred(zi)],getIcon:Ji}),plant_killed_4:y({slug:"plant_killed_4",name:"Plant Hatred IV",description:"Kill 500 000 plant enemies.",canBeUnlocked:()=>h.getRaceKilled(X.plant)>=5e5,getEffects:()=>[i.createPlantHatred(zi)],getIcon:Ji}),plant_killed_5:y({slug:"plant_killed_5",name:"Plant Hatred V",description:"Kill 1 000 000 plant enemies.",canBeUnlocked:()=>h.getRaceKilled(X.plant)>=1e6,getEffects:()=>[i.createPlantHatred(zi*5)],getIcon:Ji})}},Tm=function(){return{...Im(),...Mm(),...Rm(),...xm(),...Sm()}},$m=()=>"money",Dm=function(){return{items_bought_0:y({slug:"items_bought_0",name:"Valued Customer",description:"Purchase 1 000 items.",canBeUnlocked:()=>h.getItemsBought()>=1e3,getEffects:()=>[i.createDiscount(5)],getIcon:$m})}},Cm=()=>"money",Hm=function(){return{money_spent_0:y({slug:"money_spent_0",name:"Mild Spender",description:"Spend a total of 1 gold coin.",canBeUnlocked:()=>h.getMoneySpent()>=1e4,getEffects:()=>[i.createDiscount(5)],getIcon:Cm})}},Xi=()=>"bone",Zi=5,Pm=function(){return{items_obtained_0:y({slug:"items_obtained_0",name:"Hoarder",description:"Obtain 100 items.",canBeUnlocked:()=>h.getItemsObtained()>=100,getEffects:()=>[i.createDropModifier(Zi)],getIcon:Xi}),items_obtained_1:y({slug:"items_obtained_1",name:"Hoarder I",description:"Obtain 1 000 items.",canBeUnlocked:()=>h.getItemsObtained()>=1e3,getEffects:()=>[i.createDropModifier(Zi)],getIcon:Xi}),items_obtained_2:y({slug:"items_obtained_2",name:"Hoarder II",description:"Obtain 10 000 items.",canBeUnlocked:()=>h.getItemsObtained()>=1e4,getEffects:()=>[i.createDropModifier(Zi)],getIcon:Xi}),items_obtained_3:y({slug:"items_obtained_3",name:"Hoarder III",description:"Obtain 50 000 items.",canBeUnlocked:()=>h.getItemsObtained()>=5e4,getEffects:()=>[i.createDropModifier(Zi)],getIcon:Xi}),items_obtained_4:y({slug:"items_obtained_4",name:"Hoarder IV",description:"Obtain 100 000 items.",canBeUnlocked:()=>h.getItemsObtained()>=1e5,getEffects:()=>[i.createDropModifier(Zi)],getIcon:Xi}),items_obtained_5:y({slug:"items_obtained_5",name:"Hoarder V",description:"Obtain 500 000 items.",canBeUnlocked:()=>h.getItemsObtained()>=5e5,getEffects:()=>[i.createDropModifier(Zi*5)],getIcon:Xi})}},eo=()=>"card",to=5,Am=function(){return{cards_obtained_0:y({slug:"cards_obtained_0",name:"Child of Fortune",description:"Obtain your first card.",canBeUnlocked:()=>h.getCardsObtained()>=1,getEffects:()=>[i.createDropModifier(to)],getIcon:eo}),cards_obtained_1:y({slug:"cards_obtained_1",name:"Child of Fortune I",description:"Obtain 5 cards.",canBeUnlocked:()=>h.getCardsObtained()>=5,getEffects:()=>[i.createDropModifier(to)],getIcon:eo}),cards_obtained_2:y({slug:"cards_obtained_2",name:"Child of Fortune II",description:"Obtain 15 cards.",canBeUnlocked:()=>h.getCardsObtained()>=15,getEffects:()=>[i.createDropModifier(to)],getIcon:eo}),cards_obtained_3:y({slug:"cards_obtained_3",name:"Child of Fortune III",description:"Obtain 30 cards.",canBeUnlocked:()=>h.getCardsObtained()>=30,getEffects:()=>[i.createDropModifier(to)],getIcon:eo}),cards_obtained_4:y({slug:"cards_obtained_4",name:"Child of Fortune IV",description:"Obtain 50 cards.",canBeUnlocked:()=>h.getCardsObtained()>=50,getEffects:()=>[i.createDropModifier(to)],getIcon:eo}),cards_obtained_5:y({slug:"cards_obtained_5",name:"Child of Fortune V",description:"Obtain 100 cards.",canBeUnlocked:()=>h.getCardsObtained()>=100,getEffects:()=>[i.createDropModifier(to*5)],getIcon:eo})}},ut={blacksmithing:"blacksmithing",tailoring:"tailoring",enchanting:"enchanting",woodworking:"woodworking",cooking:"cooking",alchemy:"alchemy",scrollcrafting:"scrollcrafting",runecarving:"runecarving",leatherworking:"leatherworking",jewelcrafting:"jewelcrafting"},no=()=>"blacksmithing",so=5,io=function(e){return Object.values(ut).map(t=>i["create"+He(t)+"Exp"](e))},Bm=function(){return{items_crafted_0:y({slug:"items_crafted_0",name:"Crafter",description:"Craft 100 items.",canBeUnlocked:()=>h.getItemsCrafted()>=100,getEffects:()=>io(so),getIcon:no}),items_crafted_1:y({slug:"items_crafted_1",name:"Crafter I",description:"Craft 1 000 items.",canBeUnlocked:()=>h.getItemsCrafted()>=1e3,getEffects:()=>io(so),getIcon:no}),items_crafted_2:y({slug:"items_crafted_2",name:"Crafter II",description:"Craft 10 000 items.",canBeUnlocked:()=>h.getItemsCrafted()>=1e4,getEffects:()=>io(so),getIcon:no}),items_crafted_3:y({slug:"items_crafted_3",name:"Crafter III",description:"Craft 50 000 items.",canBeUnlocked:()=>h.getItemsCrafted()>=5e4,getEffects:()=>io(so),getIcon:no}),items_crafted_4:y({slug:"items_crafted_4",name:"Crafter IV",description:"Craft 100 000 items.",canBeUnlocked:()=>h.getItemsCrafted()>=1e5,getEffects:()=>io(so),getIcon:no}),items_crafted_5:y({slug:"items_crafted_5",name:"Crafter V",description:"Craft 500 000 items.",canBeUnlocked:()=>h.getItemsCrafted()>=5e5,getEffects:()=>io(so*5),getIcon:no})}},pt=function(e){return{slug:e.slug,name:e.name,description:e.description,expModifier:e.expModifier||1,getEffects:e.getEffects||(()=>[]),perks:e.perks||[],getExpForLevel:e.getExpForLevel||function(t){return 100*this.expModifier+t*100*this.expModifier},getIcon:e.getIcon||function(){return this.slug}}},qm=function(){return{studying:pt({slug:"studying",name:"Studying",description:"Improves your ability to learn new things.",getEffects:()=>[i.createStudyingSpeed(1)],perks:[{level:10,getEffects:()=>[i.createStudyingSpeed(5)]}]}),trading:pt({slug:"trading",name:"Trading",description:"Improves your ability to haggle for a better price.",getEffects:()=>[i.createDiscount(.5)],perks:[{level:10,getEffects:()=>[i.createDiscount(2.5)]}]}),gluttony:pt({slug:"gluttony",name:"Gluttony",description:"Nothing edible will escape. All shall be consumed.",expModifier:.2,getEffects:()=>[i.createMaxHp(10),i.createMaxMp(2)],perks:[{level:10,getEffects:()=>[i.createMaxHpPercentage(10),i.createMaxMpPercentage(10)]}]})}},Fm=function(){return{combat_mastery:pt({slug:"combat_mastery",name:"Combat Mastery",description:"Your ability to fight, mainly improves the power of your strikes.",expModifier:5,getEffects:()=>[i.createStr(1)],perks:[{level:10,getEffects:()=>[i.createStr(5),i.createMaxHp(30)]},{level:20,getEffects:()=>[i.createStr(10),i.createMaxHp(50)]}]}),tenacity:pt({slug:"tenacity",name:"Tenacity",description:"Tis but a scratch.",expModifier:2,getEffects:()=>[i.createMaxHp(10)],perks:[{level:5,getEffects:()=>[i.createDr(1)]},{level:10,getEffects:()=>[i.createDr(1)]},{level:15,getEffects:()=>[i.createDr(2)]},{level:20,getEffects:()=>[i.createDr(2)]}]}),mutilation:pt({slug:"mutilation",name:"Mutilation",description:"The ability to deal fatal damage.",getEffects:()=>[i.createCritPower(2)],perks:[{level:10,getEffects:()=>[i.createCritPower(10)]},{level:20,getEffects:()=>[i.createCritPower(20)]}]})}},Mn=1,Rn="Improves your crafting proficiency, resulting in lower material costs.",Um=function(){return{blacksmithing:pt({slug:"blacksmithing",name:"Blacksmithing",description:Rn,expModifier:.1,getEffects:()=>[i.createBlacksmithingProficiency(Mn)],perks:[{level:10,getEffects:()=>[i.createStr(5)]}]}),tailoring:pt({slug:"tailoring",name:"Tailoring",description:Rn,expModifier:.1,getEffects:()=>[i.createTailoringProficiency(Mn)],perks:[{level:10,getEffects:()=>[i.createInt(5)]}]}),leatherworking:pt({slug:"leatherworking",name:"Leatherworking",description:"Wood.",description:Rn,expModifier:.1,getEffects:()=>[i.createLeatherworkingProficiency(Mn)],perks:[{level:10,getEffects:()=>[i.createDex(25)]}]}),woodworking:pt({slug:"woodworking",name:"Woodworking",description:"Wood.",description:Rn,expModifier:.1,getEffects:()=>[i.createWoodworkingProficiency(Mn)],perks:[{level:10,getEffects:()=>[i.createDr(3)]}]}),jewelcrafting:pt({slug:"jewelcrafting",name:"Jewelcrafting",description:Rn,expModifier:.1,getEffects:()=>[i.createJewelcraftingProficiency(Mn)],perks:[{level:10,getEffects:()=>[i.createCritPower(10)]}]}),runecarving:pt({slug:"runecarving",name:"Runecarving",description:Rn+"<br><br>Also unlocks new runes.",expModifier:.1,getEffects:()=>[i.createRunecarvingProficiency(Mn)],perks:[{level:10,getEffects:()=>[i.createMpRegen(.2)]}]}),enchanting:pt({slug:"enchanting",name:"Enchanting",description:Rn,expModifier:.1,getEffects:()=>[i.createEnchantingProficiency(Mn)],perks:[{level:10,getEffects:()=>[i.createManaEfficiency(1)]}]}),alchemy:pt({slug:"alchemy",name:"Alchemy",description:Rn,expModifier:.1,getEffects:()=>[i.createAlchemyProficiency(Mn)],perks:[{level:10,getEffects:()=>[i.createMaxMp(5)]}]}),cooking:pt({slug:"cooking",name:"Cooking",description:"Making food.",description:Rn,expModifier:.1,getEffects:()=>[i.createCookingProficiency(Mn)],perks:[{level:10,getEffects:()=>[i.createMaxHp(50)]}]}),scrollcrafting:pt({slug:"scrollcrafting",name:"Scrollcrafting",description:Rn,expModifier:.1,getEffects:()=>[i.createScrollcraftingProficiency(Mn)],perks:[{level:10,getEffects:()=>[i.createStudyingSpeed(5)]}]})}},Lm=function(){return{woodcutting:pt({slug:"woodcutting",name:"Woodcutting",description:"Improves damage against Plant race enemies.",expModifier:2,getEffects:()=>[i.createPlantHatred(1)],perks:[{level:10,getEffects:()=>[i.createPlantHatred(5)]}]}),herbalism:pt({slug:"herbalism",name:"Herbalism",description:"Improves damage against Plant race enemies.",expModifier:2,getEffects:()=>[i.createPlantHatred(1)],perks:[{level:10,getEffects:()=>[i.createPlantHatred(5)]}]}),mining:pt({slug:"mining",name:"Mining",description:"Improves damage against Formless race enemies.",expModifier:2,getEffects:()=>[i.createFormlessHatred(1)],perks:[{level:10,getEffects:()=>[i.createFormlessHatred(5)]}]})}},Om=function(){return{mana_control:pt({slug:"mana_control",name:"Mana Control",description:"Using mana increases your proficiency with it, decreasing the amount required by spells.",getEffects:function(){return[i.createInt(1),i.createManaEfficiency(.1)]},perks:[{level:10,getEffects:()=>[i.createInt(5),i.createManaEfficiency(.5)]}]})}},Is=.5,Ss=1,oo=Is*5,ro=Ss*5,Wm=function(){return{fire_affinity:pt({slug:"fire_affinity",name:"Fire Affinity",description:"Mastery over the fire element.",getEffects:function(){return[i.createFireResistance(Is),i.createFirePower(Ss)]},perks:[{level:10,getEffects:()=>[i.createFireResistance(oo),i.createFirePower(ro)]}]}),water_affinity:pt({slug:"water_affinity",name:"Water Affinity",description:"Mastery over the water element.",getEffects:function(){return[i.createWaterResistance(Is),i.createWaterPower(Ss)]},perks:[{level:10,getEffects:()=>[i.createWaterResistance(oo),i.createWaterPower(ro)]}]}),wind_affinity:pt({slug:"wind_affinity",name:"Wind Affinity",description:"Mastery over the wind element.",getEffects:function(){return[i.createWindResistance(Is),i.createWindPower(Ss)]},perks:[{level:10,getEffects:()=>[i.createWindResistance(oo),i.createWindPower(ro)]}]}),earth_affinity:pt({slug:"earth_affinity",name:"Earth Affinity",description:"Mastery over the earth element.",getEffects:function(){return[i.createEarthResistance(Is),i.createEarthPower(Ss)]},perks:[{level:10,getEffects:()=>[i.createEarthResistance(oo),i.createEarthPower(ro)]}]}),shadow_affinity:pt({slug:"shadow_affinity",name:"Shadow Affinity",description:"Mastery over the shadow element.",getEffects:function(){return[i.createShadowResistance(Is),i.createShadowPower(Ss)]},perks:[{level:10,getEffects:()=>[i.createShadowResistance(oo),i.createShadowPower(ro)]}]}),holy_affinity:pt({slug:"holy_affinity",name:"Holy Affinity",description:"Mastery over the holy element.",getEffects:function(){return[i.createHolyResistance(Is),i.createHolyPower(Ss)]},perks:[{level:10,getEffects:()=>[i.createHolyResistance(oo),i.createHolyPower(ro)]}]})}},Gm=function(){return{}},K={...Fm(),...Om(),...Wm(),...Gm(),...Um(),...Lm(),...qm()},ao=()=>"fight",lo=5,co=function(e){return Object.keys(K).map(t=>{const n=t.split("_").map(s=>He(s)).join("");return i["create"+He(n)+"Exp"](e)})},Km=function(){return{total_skill_level_up_0:y({slug:"total_skill_level_up_0",name:"Proficient",description:"Total skill level ups equal to 50 or higher.",canBeUnlocked:()=>h.getTotalSkillLevelUps()>=50,getEffects:()=>co(lo),getIcon:ao}),total_skill_level_up_1:y({slug:"total_skill_level_up_1",name:"Proficient I",description:"Total skill level ups equal to 100 or higher.",canBeUnlocked:()=>h.getTotalSkillLevelUps()>=100,getEffects:()=>co(lo),getIcon:ao}),total_skill_level_up_2:y({slug:"total_skill_level_up_2",name:"Proficient II",description:"Total skill level ups equal to 200 or higher.",canBeUnlocked:()=>h.getTotalSkillLevelUps()>=200,getEffects:()=>co(lo),getIcon:ao}),total_skill_level_up_3:y({slug:"total_skill_level_up_3",name:"Proficient III",description:"Total skill level ups equal to 500 or higher.",canBeUnlocked:()=>h.getTotalSkillLevelUps()>=500,getEffects:()=>co(lo),getIcon:ao}),total_skill_level_up_4:y({slug:"total_skill_level_up_4",name:"Proficient IV",description:"Total skill level ups equal to 1 000 or higher.",canBeUnlocked:()=>h.getTotalSkillLevelUps()>=1e3,getEffects:()=>co(lo),getIcon:ao}),total_skill_level_up_5:y({slug:"total_skill_level_up_5",name:"Proficient V",description:"Total skill level ups equal to 10 000 or higher.",canBeUnlocked:()=>h.getTotalSkillLevelUps()>=1e4,getEffects:()=>co(lo*5),getIcon:ao})}},jm=()=>"sleep",Nm=function(){return{sleeping_time_0:y({slug:"sleeping_time_0",name:"Just 5 more minutes...",description:"Stay in bed for a total of 10 hours (cumulative, real time).",canBeUnlocked:()=>h.getSleepingTime()>=36e3,getEffects:()=>[i.createHpRegen(2),i.createMpRegen(.3)],getIcon:jm})}},Vm=()=>"money",Qm=function(){return{money_gained_0:y({slug:"money_gained_0",name:"Rich Kid",description:"Get a total of 100 gold coins.",canBeUnlocked:()=>h.getMoneyGained()>=1e6,getRewards:()=>[{type:ke.title,title:wn.money_gained}],getIcon:Vm})}},Ym=()=>"leather_shoes",Jm=function(){return{scenes_entered_0:y({slug:"scenes_entered_0",name:"Fleet-footed",description:"Enter 10 000 scenes.",canBeUnlocked:()=>h.getScenesEntered()>=1e4,getEffects:()=>[i.createExpModifier(25)],getIcon:Ym})}},zm=()=>"enchant",Xm=function(){return{enchants_applied_0:y({slug:"enchants_applied_0",name:"Enchanter",description:"Apply 100 enchants.",canBeUnlocked:()=>h.getEnchantsApplied()>=100,getEffects:()=>[i.createMaxMp(10),i.createMaxMpPercentage(10)],getIcon:zm})}},Zm=()=>"enchant",ep=function(){return{enchants_overwritten_0:y({slug:"enchants_overwritten_0",name:"Capricious Enchanter",description:"Overwrite 100 enchants.",canBeUnlocked:()=>h.getEnchantsOverwritten()>=100,getEffects:()=>[i.createMpRegen(.5)],getIcon:Zm})}},tp=()=>"poison",np=function(){return{status_effects_applied_0:y({slug:"status_effects_applied_0",name:"Powerful Curse",description:"Apply status effect 10 000 times.",canBeUnlocked:()=>h.getStatusEffectsApplied()>=1e4,getEffects:()=>[i.createCritPower(50)],getIcon:tp})}},sp=()=>"poison",ip=function(){return{status_effects_received_0:y({slug:"status_effects_received_0",name:"Thick Skin",description:"Receive status effect 10 000 times.",canBeUnlocked:()=>h.getStatusEffectsReceived()>=1e4,getEffects:()=>[i.createMaxHp(50),i.createMaxHpPercentage(10)],getIcon:sp})}},Mt={...Df(),...$f(),...Of(),...Xf(),...Zf(),...rm(),...fm(),...Pf(),...Hf(),...Cf(),...Af(),...Bf(),...qf(),...Ff(),...Uf(),...Wf(),...zf(),...pm(),...Em(),...Tm(),...Dm(),...Hm(),...Pm(),...Am(),...Bm(),...Km(),...Nm(),...Qm(),...Jm(),...Xm(),...ep(),...np(),...ip(),training_sword_resonance:y({slug:"training_sword_resonance",name:"Determined",description:"Defeated 1 000 Training Dummies while holding the awakened Training Sword.",getEffects:()=>[i.createStr(3),i.createStrPercentage(3),i.createMaxHpPercentage(5)],getRewards:()=>[{type:ke.title,title:wn.determined}],getIcon:()=>"training_sword",canBeUnlocked:()=>c.get().variables.training_sword_awakened_training_dummy_kill_counter>=1e3}),hunting_bow_resonance:y({slug:"hunting_bow_resonance",name:"Avenger",description:"Slain the bear while holding awakened Hunting Bow.",getEffects:()=>[i.createDex(20)],getRewards:()=>[{type:ke.title,title:wn.avenger}],getIcon:()=>"hunting_bow"}),iron_sword_resonance:y({slug:"iron_sword_resonance",name:"Family Reunion",description:"Have Devon hold sword that resonates with his father's soul.",getEffects:()=>[i.createDr(2)],getIcon:()=>"iron_sword"}),novice_staff_resonance:y({slug:"novice_staff_resonance",name:"Your Foolishness",description:"Repeat Jorm's mistake.<br><br>While wielding awakened Novice Staff, get knocked out after casting Fire Arrow via rune at least 1000 times without getting knocked out and without using any scrolls.",getEffects:()=>[i.createMpRegen(1)],getIcon:()=>"novice_staff",getRewards:()=>[{type:ke.title,title:wn.fool}]}),felling_axe_resonance:y({slug:"felling_axe_resonance",name:"Relentless",description:"Chopped trees to death.",getEffects:()=>[i.createMaxHpPercentage(3),i.createHpRegen(1)],getIcon:()=>"felling_axe",getRewards:()=>[{type:ke.title,title:wn.relentless}]})},op={class:"label"},rp={key:0},ap={__name:"ProgressBar",props:["label","value","maxValue","color","hideValues"],setup(e){const t=e;let n=["progress-bar-wrapper",t.color],s=R(()=>`width: ${bn(t.value/t.maxValue*100,100)}%`);const o=R(()=>at(t.value,2));return(a,d)=>(g(),m("div",{class:se(r(n).join(" "))},[l("div",op,[ne(H(e.label)+" ",1),e.hideValues?T("",!0):(g(),m("span",rp,H(o.value)+" / "+H(e.maxValue),1))]),l("div",{class:"progress-bar",style:jr(r(s))},null,4)],2))}},nn=Q(ap,[["__scopeId","data-v-b0b10269"]]),P=(e,t)=>(t=t||".png",e=Ne[e]||e,"/the-climb/img/"+e+t),lp={class:"money"},cp={key:0,class:"amount-wrapper"},up={class:"amount gold"},dp=["src"],gp={key:1,class:"amount-wrapper"},fp={class:"amount silver"},mp=["src"],pp={class:"amount-wrapper"},_p={class:"amount copper"},hp=["src"],yp={__name:"Money",props:["money"],setup(e){const t=e,n=R(()=>t.money%100),s=R(()=>Math.floor(t.money/100%100)),o=R(()=>Math.floor(t.money/(100*100)));return(a,d)=>(g(),m("span",lp,[o.value>0?(g(),m("span",cp,[l("span",up,H(o.value),1),l("img",{class:"coin-icon",src:r(P)("coin_gold"),alt:""},null,8,dp)])):T("",!0),s.value>0?(g(),m("span",gp,[l("span",fp,H(s.value),1),l("img",{class:"coin-icon",src:r(P)("coin_silver"),alt:""},null,8,mp)])):T("",!0),l("span",pp,[l("span",_p,H(n.value),1),l("img",{class:"coin-icon",src:r(P)("coin_copper"),alt:""},null,8,hp)])]))}},Vn=Q(yp,[["__scopeId","data-v-ca4f3b5b"]]),pu=e=>(lt("data-v-417242d6"),e=e(),ct(),e),vp=["innerHTML"],wp={class:"descriptions"},kp={class:"description cost"},bp=pu(()=>l("span",{class:"c-mp"},"MP",-1)),Ep={key:0},Ip=["innerHTML"],Sp={key:1,class:"description scaling"},xp=pu(()=>l("span",{class:"c-int"},"INT",-1)),Mp={key:2,class:"description effects"},Rp=["innerHTML"],Tp={key:3,class:"description money"},$p={class:"description split"},Dp=["innerHTML"],Cp={class:"element"},Hp={__name:"SpellTooltip",setup(e){return(t,n)=>{var s;return g(),m(B,null,[l("div",{class:"title",innerHTML:r(Nt)(r(w).props.title,r(w).props.rank)},null,8,vp),l("div",wp,[l("div",kp,[l("span",null,[ne("Cost: "+H(r(w).props.cost)+" ",1),bp]),r(w).props.chance?(g(),m("span",Ep," Chance: "+H(r(w).props.chance)+"% ",1)):T("",!0)]),r(w).props.descriptions.description?(g(),m("div",{key:0,class:"description",innerHTML:r(w).props.descriptions.description},null,8,Ip)):T("",!0),r(w).props.scaling?(g(),m("div",Sp,[ne(" Deals "+H(r(w).props.scaling)+"% of ",1),xp,ne(" as magical damage ")])):T("",!0),(s=r(w).props.descriptions.effects)!=null&&s.length?(g(),m("div",Mp,[(g(!0),m(B,null,oe(r(w).props.descriptions.effects,o=>(g(),m("div",{innerHTML:o},null,8,Rp))),256))])):T("",!0),r(w).props.price?(g(),m("div",Tp,[J(Vn,{money:r(w).props.price},null,8,["money"])])):T("",!0),l("div",$p,[r(w).props.descriptions.type?(g(),m("div",{key:0,class:"",innerHTML:r(w).props.descriptions.type},null,8,Dp)):T("",!0),l("div",Cp,[l("span",{class:se("c-"+r(w).props.element)},H(r(He)(r(w).props.element)),3)])])]),r(w).props.maxExp?(g(),xe(nn,{key:0,label:"",value:r(w).props.maxed?1:r(w).props.exp,maxValue:r(w).props.maxed?1:r(w).props.maxExp,color:"item-rank",hideValues:!!r(w).props.maxed},null,8,["value","maxValue","hideValues"])):T("",!0)],64)}}},Pp=Q(Hp,[["__scopeId","data-v-417242d6"]]),Io=["","F","E","D","C","B","A","S"],Ap=["innerHTML"],Bp={class:"descriptions"},qp=["innerHTML"],Fp={key:1,class:"description effects"},Up=["innerHTML"],Lp={key:2,class:"description perks"},Op=["innerHTML"],Wp=["innerHTML"],Gp=["innerHTML"],Kp={__name:"SkillTooltip",setup(e){return(t,n)=>{var s,o;return g(),m(B,null,[l("div",{class:"title",innerHTML:r(Nt)(r(w).props.title,r(w).props.rank)},null,8,Ap),l("div",Bp,[r(w).props.descriptions.description?(g(),m("div",{key:0,class:"description",innerHTML:r(w).props.descriptions.description},null,8,qp)):T("",!0),(s=r(w).props.descriptions.effects)!=null&&s.length?(g(),m("div",Fp,[(g(!0),m(B,null,oe(r(w).props.descriptions.effects,a=>(g(),m("div",{innerHTML:a},null,8,Up))),256))])):T("",!0),(o=r(w).props.descriptions.perks)!=null&&o.length?(g(),m("div",Lp,[(g(!0),m(B,null,oe(r(w).props.descriptions.perks,a=>(g(),m("div",{class:se(["perk",a.unlocked?"":"inactive"])},[l("span",{class:"perk-title",innerHTML:a.title},null,8,Op),(g(!0),m(B,null,oe(a.descriptions,(d,f)=>(g(),m("span",{innerHTML:d+(f===a.descriptions.length-1?"":", ")},null,8,Wp))),256))],2))),256))])):T("",!0),r(w).props.descriptions.type?(g(),m("div",{key:3,class:"description",innerHTML:r(w).props.descriptions.type},null,8,Gp)):T("",!0)]),r(w).props.maxExp?(g(),xe(nn,{key:0,label:"",value:r(w).props.maxed?1:r(w).props.exp,maxValue:r(w).props.maxed?1:r(w).props.maxExp,color:"item-rank",hideValues:!!r(w).props.maxed},null,8,["value","maxValue","hideValues"])):T("",!0)],64)}}},jp=Q(Kp,[["__scopeId","data-v-d81f03f5"]]),Ge={running:function(){return!!c.get().activeCrafting},getLearnedRecipes:function(e){return Object.values(e.recipes).filter(t=>{var n;return(n=c.get().learnedCraftingRecipes[t.getSkill().slug])==null?void 0:n.includes(t.slug)})},hasLearnedRecipe:function(e){return c.get().learnedCraftingRecipes[e.getSkill().slug].includes(e.slug)},learnRecipe:function(e,t){return t||ee.commonMessage("Learned how to make "+e.name+"."),c.get().learnedCraftingRecipes[e.getSkill().slug].push(e.slug),!0},getRecipe:function(e){let t=Object.assign({},e);return t.materials=t.materials.map(n=>{let s=n.quantity;return s=fn(at(s*(1-A.getCraftingProficiency(e.getSkill().slug)/100),0),1),{getItem:n.getItem,quantity:s}}),t},canCraft:function(e,t){return t=t||1,Ge.hasMaterials(e,t)&&e.canCraft()},hasMaterials:function(e,t){return e.materials.every(n=>S.getInventoryItemQuantity(n.getItem())>=n.quantity*t)},craft:function(e,t){Ge.canCraft(e,t)&&(e.materials.forEach(n=>S.remove(S.getInventoryItem(n.getItem()),n.quantity*t)),e.results.forEach(n=>S.add(n.getItem(),n.quantity*t)),ie.gainExp(e.getSkill(),e.expGained*t),rt.recipeCrafted(e,t))}},Np={guild:"guild",other:"other"},wt=function(e){return{rank:e.rank||"G",slug:e.slug,name:e.name,description:e.description,type:e.type||Np.guild,timeLimit:e.timeLimit||3,getGiver:e.getGiver||function(){},getRequirements:e.getRequirements||function(){},getRewards:e.getRewards||function(){},getFailureConsequences:e.getFailureConsequences||function(){},action:e.action||function(){},cleanUp:e.cleanUp===void 0?!0:e.cleanUp}},tr={money:"money",reputation:"reputation"},tn=function(e){return{slug:e.slug,name:e.name,description:e.description||"",getName:e.getName||function(){return this.name}}},he={blacksmith:tn({slug:"blacksmith",name:"Devon",description:"Burly man in charge of the city's smithy."}),tailor:tn({slug:"tailor",name:"Misha"}),enchanter:tn({slug:"enchanter",name:"Holer"}),woodworker:tn({slug:"woodworker",name:"Splinta",description:"Kind woman in charge of the city's woodworking shop."}),chef:tn({slug:"chef",name:"Cooksta"}),alchemist:tn({slug:"alchemist",name:"Crakon",description:"An old man wearing dusty clothes."}),scrollcrafter:tn({slug:"scrollcrafter",name:"Zuris",description:"Middle-aged man with arrogant attitude."}),leatherworker:tn({slug:"leatherworker",name:"Leo"}),jewelcrafter:tn({slug:"jewelcrafter",name:"Silver"}),kathryn:tn({slug:"kathryn",name:"Kathryn"}),jake:tn({slug:"jake",name:"Jake"}),lomsi:tn({slug:"lomsi",name:"Lomsi"}),kacadu:tn({slug:"kacadu",name:"Kacadu"})},Jn=[{type:ke.money,amount:100},{type:ke.reputation,amount:1}],Fn=[{type:tr.reputation,amount:5}],Vp=function(){return{blacksmith_stock:wt({slug:"blacksmith_stock",name:"Devon's training equipment",description:"I need some equipment to refill my stocks. I don't work with wood, Splinta is busy this week and people still come to my shop to get WOODEN stuff, seriously.",getGiver:()=>he.blacksmith,getRequirements:()=>[{requirement:u.training_sword,amount:5},{requirement:u.wooden_shield,amount:5}],getRewards:()=>[{type:ke.item,item:u.iron_ore,amount:5},{type:ke.money,amount:120},{type:ke.reputation,amount:1}],getFailureConsequences:()=>Fn}),woodworker_twigs:wt({slug:"woodworker_twigs",name:"Splinta's twigs",description:"I am offering a monetary reward and some refreshments to anyone who trains hard. Bring me some twigs as a proof.",getGiver:()=>he.woodworker,getRequirements:()=>[{requirement:u.twig,amount:20}],getRewards:()=>[{type:ke.item,item:u.dry_bread,amount:3},{type:ke.item,item:u.water,amount:3},{type:ke.item,item:u.minor_healing_potion,amount:1},...Jn],getFailureConsequences:()=>Fn}),woodworker_wood:wt({slug:"woodworker_wood",name:"Splinta's wood supply",description:"I would appreciate if someone could bring me some wood. Less time spent in forest means more time making life-saving equipment. Thank you!",getGiver:()=>he.woodworker,getRequirements:()=>[{requirement:u.wood,amount:60}],getRewards:()=>[{type:ke.item,item:u.dry_bread,amount:5},{type:ke.item,item:u.water,amount:5},...Jn],getFailureConsequences:()=>Fn}),woodworker_feathers:wt({slug:"woodworker_feathers",name:"Splinta's arrow needs",description:"I am running low on feathers for arrows. It would be great if someone could get me some.",getGiver:()=>he.woodworker,getRequirements:()=>[{requirement:u.feather,amount:25}],getRewards:()=>[{type:ke.item,item:u.dry_bread,amount:5},{type:ke.item,item:u.water,amount:5},...Jn],getFailureConsequences:()=>Fn}),chef_rat_meat:wt({slug:"chef_rat_meat",name:"Chef's rat meat",description:"Need rat meat. While not very tasty, it's a feast for poor people.",getGiver:()=>he.chef,getRequirements:()=>[{requirement:u.rat_meat,amount:60}],getRewards:()=>[{type:ke.item,item:u.cooked_rat_meat,amount:10},...Jn],getFailureConsequences:()=>Fn}),chef_raw_meat:wt({slug:"chef_raw_meat",name:"Chef's raw meat",description:"I need some proper meat to feed all of you!",getGiver:()=>he.chef,getRequirements:()=>[{requirement:u.raw_meat,amount:25}],getRewards:()=>[{type:ke.item,item:u.cooked_meat,amount:5},...Jn],getFailureConsequences:()=>Fn}),alchemist_rat_tail:wt({slug:"alchemist_rat_tail",name:"Crakon's need for rat tails",description:"My most recent research into mild poison requires some rat tails. Please deliver with haste.",getGiver:()=>he.alchemist,getRequirements:()=>[{requirement:u.rat_tail,amount:60}],getRewards:()=>[{type:ke.item,item:u.antidote,amount:3},...Jn],getFailureConsequences:()=>Fn}),alchemist_herbs:wt({slug:"alchemist_herbs",name:"Crakon's herbs",description:"I am low on basic herbs. Any herb-pickers around?",getGiver:()=>he.alchemist,getRequirements:()=>[{requirement:u.herb,amount:75}],getRewards:()=>[{type:ke.item,item:u.minor_healing_potion,amount:2},...Jn],getFailureConsequences:()=>Fn}),leatherworker_rabbit_furs:wt({slug:"leatherworker_rabbit_furs",name:"Leo's hats",description:"I want to make some hats from rabbit furs. Please provide the furs.",getGiver:()=>he.leatherworker,getRequirements:()=>[{requirement:u.rabbit_fur,amount:25}],getRewards:()=>[{type:ke.item,item:u.leather,amount:1},...Jn],getFailureConsequences:()=>Fn})}},Ot=[{type:ke.money,amount:150},{type:ke.reputation,amount:2}],Wt=[{type:tr.reputation,amount:10}],Gt="F",Qp=function(){return{blacksmith_iron_ore:wt({slug:"blacksmith_iron_ore",name:"Ore",description:"Get me some ores so I can resell them for profit!",rank:Gt,getGiver:()=>he.blacksmith,getRequirements:()=>[{requirement:u.iron_ore,amount:60}],getRewards:()=>[...Ot],getFailureConsequences:()=>Wt}),tailor_wool:wt({slug:"tailor_wool",name:"Misha's wool",description:"I am running low on wool and my usual supplier is nowhere to be seen.",rank:Gt,getGiver:()=>he.tailor,getRequirements:()=>[{requirement:u.wool,amount:25}],getRewards:()=>[{type:ke.item,item:u.bandage,amount:3},...Ot],getFailureConsequences:()=>Wt}),tailor_spider_silk:wt({slug:"tailor_spider_silk",name:"Spider Silk",description:"Anyone brave enough to go in the abandoned mines to get me some spider silk?",rank:Gt,getGiver:()=>he.tailor,getRequirements:()=>[{requirement:u.spider_silk,amount:25}],getRewards:()=>[{type:ke.item,item:u.bandage,amount:3},...Ot],getFailureConsequences:()=>Wt}),enchanter_boar_tusk:wt({slug:"enchanter_boar_tusk",name:"Boar Tusks",description:"I need some boar tusks. I can make an enchantment to improve damage reduction out of them.",rank:Gt,getGiver:()=>he.enchanter,getRequirements:()=>[{requirement:u.boar_tusk,amount:2}],getRewards:()=>[...Ot],getFailureConsequences:()=>Wt}),enchanter_goat_horn:wt({slug:"enchanter_goat_horn",name:"Goat Horns",description:"I need some goat horns. I can make an enchantment to improve magical defense out of them.",rank:Gt,getGiver:()=>he.enchanter,getRequirements:()=>[{requirement:u.goat_horn,amount:2}],getRewards:()=>[...Ot],getFailureConsequences:()=>Wt}),alchemist_bones:wt({slug:"alchemist_bones",name:"Crakon wants bones",description:"I am running low on bones. Bone dust is one of the ingredients for health potions. Disgusting? Yes. Effective when bleeding out? Yes.",rank:Gt,getGiver:()=>he.alchemist,getRequirements:()=>[{requirement:u.bone,amount:35}],getRewards:()=>[{type:ke.item,item:u.minor_healing_potion,amount:3},...Ot],getFailureConsequences:()=>Wt}),alchemist_bat_wings:wt({slug:"alchemist_bat_wings",name:"Bat Wings",description:"I need bat wings to keep up with the mana potion demand.",rank:Gt,getGiver:()=>he.alchemist,getRequirements:()=>[{requirement:u.bat_wing,amount:25}],getRewards:()=>[{type:ke.item,item:u.minor_mana_potion,amount:2},...Ot],getFailureConsequences:()=>Wt}),scrollcrafter_mana_fragments:wt({slug:"scrollcrafter_mana_fragments",name:"Mana Fragments",description:"Please bring me mana fragments, scrolls as an extra reward!",rank:Gt,getGiver:()=>he.scrollcrafter,getRequirements:()=>[{requirement:u.fragment_mana,amount:20}],getRewards:()=>[...Ot,{type:ke.item,item:u.scroll_of_arcane_bolt,amount:2}],getFailureConsequences:()=>Wt}),scrollcrafter_fire_fragments:wt({slug:"scrollcrafter_fire_fragments",name:"Fire Fragments",description:"Please bring me fire fragments, scrolls as an extra reward!",rank:Gt,getGiver:()=>he.scrollcrafter,getRequirements:()=>[{requirement:u.fragment_fire,amount:20}],getRewards:()=>[...Ot,{type:ke.item,item:u.scroll_of_fire_arrow,amount:2}],getFailureConsequences:()=>Wt}),scrollcrafter_water_fragments:wt({slug:"scrollcrafter_water_fragments",name:"Water Fragments",description:"Please bring me water fragments, scrolls as an extra reward!",rank:Gt,getGiver:()=>he.scrollcrafter,getRequirements:()=>[{requirement:u.fragment_water,amount:20}],getRewards:()=>[...Ot,{type:ke.item,item:u.scroll_of_water_splash,amount:2}],getFailureConsequences:()=>Wt}),scrollcrafter_earth_fragments:wt({slug:"scrollcrafter_earth_fragments",name:"Earth Fragments",description:"Please bring me earth fragments, scrolls as an extra reward!",rank:Gt,getGiver:()=>he.scrollcrafter,getRequirements:()=>[{requirement:u.fragment_earth,amount:20}],getRewards:()=>[...Ot,{type:ke.item,item:u.scroll_of_stone_bullet,amount:2}],getFailureConsequences:()=>Wt}),scrollcrafter_wind_fragments:wt({slug:"scrollcrafter_wind_fragments",name:"Wind Fragments",description:"Please bring me wind fragments, scrolls as an extra reward!",rank:Gt,getGiver:()=>he.scrollcrafter,getRequirements:()=>[{requirement:u.fragment_wind,amount:20}],getRewards:()=>[...Ot,{type:ke.item,item:u.scroll_of_wind_blast,amount:2}],getFailureConsequences:()=>Wt}),leatherworker_raw_hides:wt({slug:"leatherworker_raw_hides",name:"Raw Hides",description:"Any hunters around?",rank:Gt,getGiver:()=>he.leatherworker,getRequirements:()=>[{requirement:u.raw_hide,amount:30}],getRewards:()=>[...Ot],getFailureConsequences:()=>Wt}),leatherworker_pristine_belt:wt({slug:"leatherworker_pristine_belt",name:"Pristine bear pelt",description:"I have been looking for a nice pelt that I could make into a cloak for a while.",rank:Gt,getGiver:()=>he.leatherworker,getRequirements:()=>[{requirement:u.pristine_bear_pelt,amount:1}],getRewards:()=>[...Ot],getFailureConsequences:()=>Wt}),jewelcrafter_wolf_fangs:wt({slug:"jewelcrafter_wolf_fangs",name:"Wolf Fangs",description:"I need some undamaged wolf fangs for a necklace.",rank:Gt,timeLimit:5,getGiver:()=>he.jewelcrafter,getRequirements:()=>[{requirement:u.wolf_fang,amount:2}],getRewards:()=>[...Ot],getFailureConsequences:()=>Wt})}},ys={...Vp(),...Qp()};function Yp(e){return new Worker("/the-climb/assets/worker-CgiAm2LW.js",{name:e==null?void 0:e.name})}const Jp=e=>(lt("data-v-1b579b54"),e=e(),ct(),e),zp=["innerHTML"],Xp={class:"descriptions"},Zp=["innerHTML"],e_={key:1,class:"description rewards c-success"},t_=Jp(()=>l("div",{class:"corner-title"},"Rewards",-1)),n_={key:2,class:"description effects"},s_=["innerHTML"],i_=["innerHTML"],o_={__name:"AchievementTooltip",setup(e){return(t,n)=>(g(),m(B,null,[l("div",{class:"title",innerHTML:r(Nt)(r(w).props.title,r(w).props.rank)},null,8,zp),l("div",Xp,[r(w).props.descriptions.description?(g(),m("div",{key:0,class:"description",innerHTML:r(w).props.descriptions.description},null,8,Zp)):T("",!0),r(w).props.descriptions.rewards.length?(g(),m("div",e_,[t_,(g(!0),m(B,null,oe(r(w).props.descriptions.rewards,s=>(g(),m("div",null,[s.type===r(ke).title?(g(),m(B,{key:0},[ne('Grants the "'+H(s.title.name)+'" title',1)],64)):T("",!0)]))),256))])):T("",!0),r(w).props.descriptions.effects&&r(w).props.descriptions.effects.length>0?(g(),m("div",n_,[(g(!0),m(B,null,oe(r(w).props.descriptions.effects,s=>(g(),m("div",{innerHTML:s},null,8,s_))),256))])):T("",!0),r(w).props.descriptions.type?(g(),m("div",{key:3,class:"description",innerHTML:r(w).props.descriptions.type},null,8,i_)):T("",!0)])],64))}},r_=Q(o_,[["__scopeId","data-v-1b579b54"]]),a_=["innerHTML"],l_={class:"descriptions"},c_=["innerHTML"],u_=["innerHTML"],d_={__name:"TitleTooltip",setup(e){return(t,n)=>(g(),m(B,null,[l("div",{class:"title",innerHTML:r(Nt)(r(w).props.title,r(w).props.rank)},null,8,a_),l("div",l_,[r(w).props.descriptions.description?(g(),m("div",{key:0,class:"description",innerHTML:r(w).props.descriptions.description},null,8,c_)):T("",!0),r(w).props.descriptions.type?(g(),m("div",{key:1,class:"description",innerHTML:r(w).props.descriptions.type},null,8,u_)):T("",!0)])],64))}},mo={getTooltipProps:function(e){return{component:le(d_),title:e.name,descriptions:{description:e.description,type:"Title"}}},unlockTitle:function(e){const t=c.get();t.titles.includes(e.slug)||(t.titles.push(e.slug),ee.titleMessage(e))},getUnlockedTitles:function(e){return c.get().titles.map(t=>{if(wn[t].name.toLowerCase().includes(e.toLowerCase()))return wn[t]}).filter(t=>t!==void 0)},getCurrentTitle:function(){return wn[c.get().title]},setCurrentTitle:function(e){c.get().title=e.slug}},bt={getTooltipProps:function(e){return{component:le(r_),title:e.name,descriptions:{description:e.description,effects:e.getEffectDescriptions(),rewards:e.getRewards(),type:"Achievement"}}},checkAchievementUnlockConditions:function(){Object.keys(Mt).forEach(e=>{const t=Mt[e];c.get().achievements.includes(t.slug)||t.canBeUnlocked()&&bt.unlockAchievement(t)})},isUnlocked:function(e){return c.get().achievements.includes(e.slug)},unlockAchievement:function(e){bt.isUnlocked(e)||(c.get().achievements.push(e.slug),ee.achievementMessage(e),bt.applyAchievementEffects(e),e.getRewards().forEach(t=>{if(t.type===ke.title){mo.unlockTitle(t.title);return}}))},applyAchievementEffects:function(e){e.getEffects().forEach(t=>{t.effect.up(c.get().player,t.value,e.slug,"achievement")})},getUnlockedAchievements:function(){return c.get().achievements.map(e=>Mt[e])}},Fl=function(e){return{slug:e.slug,action:e.action||function(){},cleanUp:e.cleanUp===void 0?!0:e.cleanUp}},Fr={mine_man_reset:Fl({slug:"mine_man_reset",action:()=>c.get().variables.mine_man_available=!0}),leatherworking_shop_bear_cloak_available:Fl({slug:"leatherworking_shop_bear_cloak_available",action:()=>c.get().variables.leatherworking_shop_bear_cloak_available=!0})},Ur={schedule:function(e,t){const n=c.get().elapsedTime+Ce.getDaysInUnits(t);c.get().scheduledEvents[e.slug]=n},runScheduled:function(){for(const e in c.get().scheduledEvents){const t=c.get().scheduledEvents[e];if(c.get().elapsedTime<t)return;const n=Fr[e];n.action(),n.cleanUp&&delete c.get().scheduledEvents[e]}}},Le=function(e){return{slug:e.slug,name:e.name,enemyAmount:e.enemyAmount,endless:e.endless||!1,getEnemies:e.getEnemies||function(){},groupFinished:e.groupFinished||function(){},createState:function(){return{slug:this.slug,enemyNumber:1}},nextEnemy:function(t){if(this.endless)return we.createEnemyState(dc(this.getEnemies()));if(!(t>this.enemyAmount))return we.createEnemyState(dc(this.getEnemies()))}}},Re=function(e){const t=c.get();p[t.scene].onLeave(),t.scene=e.slug,e.onEntry(),rt.sceneEntered()},g_=function(){return{basement:Le({slug:"basement",name:"Basement",enemyAmount:50,getEnemies:()=>[ae.rat],groupFinished:function(){c.get().variables.basement_fight_completed=!0,Re(p.basement_clear)}}),basement_endless:Le({slug:"basement_endless",name:"Basement",endless:!0,getEnemies:()=>[ae.rat]}),training_grounds:Le({slug:"training_grounds",name:"Training Grounds",enemyAmount:50,getEnemies:()=>[ae.training_dummy],groupFinished:function(){c.get().variables.training_grounds_fight_completed=!0,Re(p.training_grounds_fight_finished)}}),training_grounds_endless:Le({slug:"training_grounds_endless",name:"Training Grounds",endless:!0,getEnemies:()=>[ae.training_dummy]})}},f_=function(){return{forest_harvest_wood:Le({slug:"forest_harvest_wood",name:"Forest Outskirts",endless:!0,getEnemies:()=>[ae.tree]}),forest_gather_herbs_basic:Le({slug:"forest_gather_herbs_basic",name:"Forest Outskirts",endless:!0,getEnemies:()=>[ae.weed]}),forest_outskirts_hunt:Le({slug:"forest_outskirts_hunt",name:"Forest Outskirts",enemyAmount:50,getEnemies:()=>[ae.chicken,ae.rabbit],groupFinished:function(){c.get().variables.forest_outskirts_hunt_completed=!0,Re(p.forest_outskirts_hunt_finished)}}),forest_outskirts_hunt_endless:Le({slug:"forest_outskirts_hunt_endless",name:"Forest Outskirts",endless:!0,getEnemies:()=>[ae.chicken,ae.rabbit]}),forest_depths_hunt:Le({slug:"forest_depths_hunt",name:"Forest Depths",enemyAmount:50,getEnemies:()=>[ae.warthog,ae.wolf,ae.mountain_goat],groupFinished:function(){c.get().variables.forest_depths_hunt_completed=!0,Re(p.forest_depths_hunt_finished)}}),forest_depths_hunt_endless:Le({slug:"forest_depths_hunt_endless",name:"Forest Depths",endless:!0,getEnemies:()=>[ae.warthog,ae.wolf,ae.mountain_goat]}),forest_cave_hunt:Le({slug:"forest_cave_hunt",name:"Cave",enemyAmount:1,getEnemies:()=>[ae.bear],groupFinished:function(){const e=c.get();e.variables.forest_cave_hunt_completed=!0,Re(e.tower_variables.lomsi_bear_cave_meeting_completed?p.forest_cave_hunt_finished:p.lomsi_first_meeting_bear_cave)}}),forest_mine_hunt:Le({slug:"forest_mine_hunt",name:"Abandoned Mine",enemyAmount:50,getEnemies:()=>[ae.spider,ae.bat],groupFinished:function(){c.get().variables.forest_mine_hunt_completed=!0,Re(p.forest_mine_hunt_finished)}}),forest_mine_hunt_endless:Le({slug:"forest_mine_hunt_endless",name:"Abandoned Mine",endless:!0,getEnemies:()=>[ae.spider,ae.bat]}),forest_mine_ore:Le({slug:"forest_mine_ore",name:"Abandoned Mine",endless:!0,getEnemies:()=>[ae.iron_vein]})}},Ul=()=>[ae.slime,ae.slime_water,ae.slime_fire,ae.slime_earth,ae.slime_wind],m_=function(){return{floor1_fight1:Le({slug:"floor1_fight1",name:"Floor 1",enemyAmount:50,getEnemies:()=>Ul(),groupFinished:function(){c.get().tower_variables.floor1_fight1_completed=!0,Re(p.floor1_fight1_clear)}}),floor1_fight1_endless:Le({slug:"floor1_fight1_endless",name:"Floor 1",endless:!0,getEnemies:()=>Ul()}),floor1_boss:Le({slug:"floor1_boss",name:"Floor 1 - Guardian",enemyAmount:1,getEnemies:()=>[ae.floor_1_boss],groupFinished:function(){c.get().tower_variables.floor2_unlocked=!0,Re(p.floor1_cleared)}})}},Ll=()=>[ae.slime_holy,ae.slime_shadow],p_=function(){return{floor2_fight1:Le({slug:"floor2_fight1",name:"Floor 2",enemyAmount:50,getEnemies:()=>Ll(),groupFinished:function(){c.get().tower_variables.floor2_fight1_completed=!0,Re(p.floor2_fight1_clear)}}),floor2_fight1_endless:Le({slug:"floor2_fight1_endless",name:"Floor 2",endless:!0,getEnemies:()=>Ll()}),floor2_boss:Le({slug:"floor2_boss",name:"Floor 2 - Guardian",enemyAmount:1,getEnemies:()=>[ae.floor_2_boss],groupFinished:function(){c.get().tower_variables.floor3_unlocked=!0,Re(p.floor2_cleared)}})}},Ol=()=>[ae.slimer,ae.slimer_water,ae.slimer_fire,ae.slimer_earth,ae.slimer_wind],__=function(){return{floor3_fight1:Le({slug:"floor3_fight1",name:"Floor 3",enemyAmount:50,getEnemies:()=>Ol(),groupFinished:function(){c.get().tower_variables.floor3_fight1_completed=!0,Re(p.floor3_fight1_clear)}}),floor3_fight1_endless:Le({slug:"floor3_fight1_endless",name:"Floor 3",endless:!0,getEnemies:()=>Ol()}),floor3_boss:Le({slug:"floor3_boss",name:"Floor 3 - Guardian",enemyAmount:1,getEnemies:()=>[ae.floor_3_boss],groupFinished:function(){c.get().tower_variables.floor4_unlocked=!0,Re(p.floor3_cleared)}}),floor3_secret_room:Le({slug:"floor3_secret_room",name:"Floor 3 - Secret Room",enemyAmount:1,getEnemies:()=>[ae.floor_3_shadow_hound],groupFinished:function(){Re(p.kathryn_third_floor_secret_room_completed)}})}},Wl=()=>[ae.slimer_holy,ae.slimer_shadow],h_=function(){return{floor4_fight1:Le({slug:"floor4_fight1",name:"Floor 4",enemyAmount:50,getEnemies:()=>Wl(),groupFinished:function(){c.get().tower_variables.floor4_fight1_completed=!0,Re(p.floor4_fight1_clear)}}),floor4_fight1_endless:Le({slug:"floor4_fight1_endless",name:"Floor 4",endless:!0,getEnemies:()=>Wl()}),floor4_boss:Le({slug:"floor4_boss",name:"Floor 4 - Guardian",enemyAmount:1,getEnemies:()=>[ae.floor_4_boss],groupFinished:function(){c.get().tower_variables.floor5_unlocked=!0,Re(p.floor4_cleared)}})}},Gl=()=>[ae.slimelord],Kl=()=>[ae.slimelord_water,ae.slimelord_fire,ae.slimelord_earth,ae.slimelord_wind],jl=()=>[ae.slimelord_holy,ae.slimelord_shadow],y_=function(){return{floor5_fight1:Le({slug:"floor5_fight1",name:"Floor 5",enemyAmount:50,getEnemies:()=>Gl(),groupFinished:function(){c.get().tower_variables.floor5_fight1_completed=!0,Re(p.floor5_fight1_clear)}}),floor5_fight1_endless:Le({slug:"floor5_fight1_endless",name:"Floor 5",endless:!0,getEnemies:()=>Gl()}),floor5_fight2:Le({slug:"floor5_fight2",name:"Floor 5",enemyAmount:50,getEnemies:()=>Kl(),groupFinished:function(){c.get().tower_variables.floor5_fight2_completed=!0,Re(p.floor5_fight2_clear)}}),floor5_fight2_endless:Le({slug:"floor5_fight2_endless",name:"Floor 5",endless:!0,getEnemies:()=>Kl()}),floor5_fight3:Le({slug:"floor5_fight3",name:"Floor 5",enemyAmount:50,getEnemies:()=>jl(),groupFinished:function(){c.get().tower_variables.floor5_fight3_completed=!0,Re(p.floor5_fight3_clear)}}),floor5_fight3_endless:Le({slug:"floor5_fight3_endless",name:"Floor 5",endless:!0,getEnemies:()=>jl()}),floor5_boss:Le({slug:"floor5_boss",name:"Floor 5 - Guardian",enemyAmount:1,getEnemies:()=>[ae.floor_5_boss],groupFinished:function(){c.get().tower_variables.floor6_unlocked=!0,Re(p.floor5_cleared)}})}},v_=function(){return{...m_(),...p_(),...__(),...h_(),...y_()}},Ae={...g_(),...f_(),...v_()},x=function(e){return{slug:e.slug,title:e.title,description:e.description,messagesTitle:e.messagesTitle,messages:e.messages,class:e.class,type:e.type,options:e.options||function(){return[]},onEntry:e.onEntry||function(){},onLeave:e.onLeave||function(){},getDescription:e.getDescription||function(){return this.description},getMessages:e.getMessages||function(){return this.messages}}},Rt=function(e){return{slug:e.slug,title:e.title,description:e.description,type:e.type||"normal",class:e.class,getIcon:e.getIcon,getContent:e.getContent||function(){return this.title},isVisible:e.isVisible||function(){return!0},action:e.action||function(){console.log("Not implemented")}}},U=function(e,t){return Rt({slug:"enter_"+e.slug,title:e.title,class:"enter",action:function(){Re(e)},...t})},M=function(e,t,n){return Rt({slug:"leave_"+e.slug,title:(n!=null&&n.simple?"Leave":!1)||"Leave "+e.title,class:"leave",action:function(){Re(t)},getIcon:(n==null?void 0:n.getIcon)||function(){return P("leave")},...n})},Qe=function(e,t){return t=t||{},t.class=(t==null?void 0:t.class)||"fight",t.title=(t==null?void 0:t.title)||"Fight",t.getIcon=(t==null?void 0:t.getIcon)||function(){return P("fight")},U(e,t)},w_=function(){return{start:x({slug:"start",title:"The Beginning",description:"A long journey lies ahead.",messages:["It has been 500 years since the Tower appeared.","Full of monster, but also treasures, it attracted countless adventurers, and a bustling city was built around it.","The tower pierces through the heavens, its top nowhere to be seen.","And living among these brave heroes is you, a nobody. A nobody with a dream - to conquer the tower. Or at least earn enough to fill your belly.","Yes, filling your belly would be a good start.","And then you should probably check around the Training Grounds in the City."],options:function(){return[M(this,p.home,{title:"Start Journey"})]}}),home:x({slug:"home",title:"Home",description:"A cozy home",options:function(){return[U(p.bed,{slug:"sleep",title:"Sleep",getIcon:()=>P("sleep")}),U(p.workshop,{getIcon:()=>P("blacksmithing")}),U(p.basement,{getIcon:()=>P("basement")}),M(this,p.city)]}}),bed:x({slug:"bed",title:"Bed",description:"Warm bed",options:function(){if(c.get().player.hp===0)return[];const e=[M(this,p.home,{title:"Get up"})];return Ce.isNight()&&e.push(Rt({slug:"sleep_until_morning",title:"Sleep until morning",class:"leave",getIcon:()=>P("sleep"),action:()=>{Ce.setMorning(),A.fullyHeal(),A.removeFiniteStatusEffects()}})),e},onEntry:()=>{const e=c.get();i.createHpRegenPercentage().effect.up(e.player,5,"bed","furniture"),i.createMpRegenPercentage().effect.up(e.player,1,"bed","furniture"),e.gameSpeed=5},onLeave:()=>{const e=c.get();i.createHpRegenPercentage().effect.down(e.player,"bed"),i.createMpRegenPercentage().effect.down(e.player,"bed"),e.gameSpeed=1}}),workshop:x({slug:"workshop",title:"Workshop",description:"Plenty of space for crafting stations.",options:function(){const e=c.get(),t=e.workshopCraftingStations;return Object.keys(t).map(n=>Rt({class:"padding-4px",slug:n,title:He(n),getIcon:()=>P(n),action:()=>e.activeCrafting=ut[n],isVisible:()=>t[n]})).concat([M(this,p.home)])},onLeave:()=>c.get().activeCrafting=null}),basement:x({slug:"basement",title:"Basement",description:"Full of rats",options:function(){return[Qe(p.basement_fight,{title:"Kill some rats"}),Qe(p.basement_fight_endless,{title:"Try to kill all the rats",isVisible:()=>c.get().variables.basement_fight_completed}),M(this,p.home)]}}),basement_fight:x({slug:"basement_fight",title:"Basement",description:"Full of rats",options:function(){return[M(this,p.home)]},onEntry:()=>q.start(Ae.basement),onLeave:()=>q.stop()}),basement_fight_endless:x({slug:"basement_fight_endless",title:"Basement",description:"Full of rats",options:function(){return[M(this,p.home)]},onEntry:()=>q.start(Ae.basement_endless),onLeave:()=>q.stop()}),basement_clear:x({slug:"basement_clear",title:"Basement",description:"Still full of rats",messages:["You've had enough for now"],options:function(){return[M(this,p.home)]}})}},sn={unlockEntry(e){sn.isEntryUnlocked(e)||(c.get().bestiary[e.slug]=!0,ee.commonMessage(`Bestiary entry unlocked: ${e.getName()}!`))},isEntryUnlocked(e){return c.get().bestiary[e.slug]||!1}},An={running:function(){return!!c.get().activeShopping},startShopping:function(e){c.get().activeShopping=e},stopShopping:function(){c.get().activeShopping=null},getShopItems:function(){return An.filter(p[c.get().activeShopping].getShopItems()).filter(e=>(!e.item.isDiagram||!Ge.hasLearnedRecipe(e.item.getRecipe()))&&(!e.item.isBestiaryBook||!sn.isEntryUnlocked(e.item.getEnemy())))},buyShopItem:function(e,t,n){t=t*n,A.getMoney()>=t?(S.add(e,n),A.removeMoney(t),ie.gainExp(K.trading,t),rt.itemBought(e,t,n)):ee.commonMessage("Not enough money","c-danger")},filter:function(e){const t=c.get().shoppingSettings.filter;return e.filter(n=>{const s=n.item;return t==="none"?!0:t==="etc"?!s.isEquip&&!s.isConsumable:t==="isConsumable"?s.isConsumable&&!s.isEnchant:s[t]})},setFilter:function(e){c.get().shoppingSettings.filter=e},getFilter:function(){return c.get().shoppingSettings.filter}},Bn=function(e){return{__proto__:x(e),type:"buy",getShopItems:e.getShopItems||function(){return[]},onEntry:function(){An.startShopping(e.slug)},onLeave:function(){An.stopShopping()}}},Cs=function(e,t,n){return{__proto__:Rt({slug:"buy_"+e,type:"station",action:function(){const s=c.get();A.getMoney()>=this.price?(s.townCraftingStations[e]=!0,A.removeMoney(this.price)):ee.commonMessage("Not enough money","c-danger")},isVisible:n==null?void 0:n.isVisible}),station:e,price:t}},cs=function(e){return{__proto__:x({slug:e.craftingSlug+"_shop_crafting",title:He(e.craftingSlug)+" Station",description:e.description||"",options:function(){return[Rt({slug:e.craftingSlug,title:He(e.craftingSlug),action:()=>c.get().activeCrafting=e.craftingSlug}),M(this,p[e.craftingSlug+"_shop"])]},onLeave:()=>c.get().activeCrafting=null})}},us=function(e){return Rt({slug:e.craftingSlug+"_shop_crafting",title:He(e.craftingSlug)+" Station",class:"enter",isVisible:()=>c.get().townCraftingStations[e.craftingSlug],action:()=>Re(p[e.craftingSlug+"_shop_crafting"])})},C=function(e,t){return{item:e,getPrice:()=>at(t*(1-bn(A.getDiscount(),75)/100),0)}},k_=function(e,t){return{blacksmithing_shop_iron_sword_awaken_reaction:x({slug:"blacksmithing_shop_iron_sword_awaken_reaction",title:e,description:t,messages:["Hey, you there!","That sword you carry, can I take a closer look?"],options:function(){return[U(p.blacksmithing_shop_iron_sword_awaken_reaction_accept,{title:"Sure"}),M(this,p.blacksmithing_shop_iron_sword_awaken_reaction_reject,{title:"Hands off!"})]}}),blacksmithing_shop_iron_sword_awaken_reaction_reject:x({slug:"blacksmithing_shop_iron_sword_awaken_reaction_reject",title:e,description:t,messages:["Tsk, kids these days!"],options:function(){return[M(this,p.blacksmithing_shop,{title:"Leave"})]},onEntry:()=>c.get().variables.blacksmithing_shop_iron_sword_awaken_reaction_finished=!0}),blacksmithing_shop_iron_sword_awaken_reaction_accept:x({slug:"blacksmithing_shop_iron_sword_awaken_reaction_accept",title:e,description:t,messages:["Hmm... interesting.","You see that sword on the wall? It's a sword my grandfather made and that my father used his whole life. While it looks unremarkable, it's still in pristine condition after all those years. I hope to one day be able to make such a masterpiece.","And this sword of yours feels eerily similar to it. It's obviously different piece and yet, it feels the same. It's so familiar. I wonder why...","Well... thanks for letting me take a look, you seem alright! If I ever kick the bucket you can have my father's sword, seems like you take good care of your weapons.","*To himself* Rest well, old man."],options:function(){return[M(this,p.blacksmithing_shop,{title:"Leave"})]},onEntry:()=>{c.get().variables.blacksmithing_shop_iron_sword_awaken_reaction_finished=!0,bt.unlockAchievement(Mt.iron_sword_resonance)}})}},yr="Devon's Anvil",vr="Burly man stands behind the counter.",b_=function(){return{...k_(yr,vr),blacksmithing_shop:x({slug:"blacksmithing_shop",title:yr,description:vr,options:function(){return[U(p.blacksmithing_shop_buy,{title:"Buy",class:"buy",getIcon:()=>P("buy")}),Rt({slug:"enter_blacksmithing_shop_free_stuff",title:"Ask about free equipment",class:"enter",getIcon:()=>P("talk"),isVisible:()=>!c.get().variables.free_stuff_completed,action:()=>Re(p.blacksmithing_shop_free_stuff)}),Rt({slug:"enter_blacksmithing_ask_about_ore",title:"Ask about ore",class:"enter",getIcon:()=>P("talk"),action:()=>Re(p.blacksmithing_ask_about_ore)}),us({craftingSlug:ut.blacksmithing}),M(this,p.craftsman_district)]},onEntry:()=>{const e=c.get();if(e.variables.blacksmithing_shop_iron_sword_awaken_reaction_finished)return;const t=S.getInventoryItemById(e.equipment.weapon);t&&t.slug===u.iron_sword.slug&&t.isAwakened&&t.isEquipped&&Re(p.blacksmithing_shop_iron_sword_awaken_reaction)}}),blacksmithing_shop_buy:Bn({slug:"blacksmithing_shop_buy",title:"Devon's Anvil's Assortment",description:"His gaze pressures you to buy something...",messages:["What will it be?"],options:function(){return[Cs(ut.blacksmithing,150,{isVisible:()=>c.get().townCraftingStations.blacksmithing===!1}),M(this,p.blacksmithing_shop)]},getShopItems:function(){return[C(u.iron_ore,20),C(u.iron_ingot,110),C(u.iron_helmet,600),C(u.iron_boots,800),C(u.iron_armor,1200),C(u.iron_sword,900),C(u.diagram_iron_ingot,200),C(u.diagram_iron_helmet,300),C(u.diagram_iron_boots,300),C(u.diagram_iron_armor,500),C(u.diagram_iron_sword,500),C(u.book_blacksmithing,500)]}}),blacksmithing_shop_crafting:cs({craftingSlug:ut.blacksmithing}),blacksmithing_shop_free_stuff:x({slug:"blacksmithing_shop_free_stuff",title:yr,description:vr,messages:["Of course we have some equipment available!","What? For free? Are you out of your mind?","No freebies here, kid. Go try Splinta's woodworking shop across the streets.","If there is someone to give out free help to others, it is her.","Now get out."],options:function(){return[M(this,p.craftsman_district)]}}),blacksmithing_ask_about_ore:x({slug:"blacksmithing_ask_about_ore",title:yr,description:vr,messages:["Where do I get my ore?","Well, I commission it from others via the Adventurers' Guild.","Most people find some while climbing the tower. Having no use for it they will happily fulfill my commissions despite the somewhat... profitable rates.","I also have some dedicated suppliers, who delve into an abandoned mining shaft in the forest.","Its not really a secret, since not many people can manage that place. It is infested with some pretty dangerous creatures.","If you need some ore yourself, you can buy it from me without the risk of losing a limb or two. The price is, obviously, fair."],options:function(){return[M(this,p.blacksmithing_shop,{simple:!0})]}})}},E_=function(){return{tailoring_shop:x({slug:"tailoring_shop",title:"Misha's Threads",description:"",options:function(){return[U(p.tailoring_shop_buy,{title:"Buy",class:"buy",getIcon:()=>P("buy")}),us({craftingSlug:ut.tailoring}),M(this,p.craftsman_district)]}}),tailoring_shop_buy:Bn({slug:"tailoring_shop_buy",title:"Misha's Threads Assortment",description:"",messages:["Hmm?"],options:function(){return[Cs(ut.tailoring,150,{isVisible:()=>c.get().townCraftingStations.tailoring===!1}),M(this,p.tailoring_shop)]},getShopItems:function(){return[C(u.wool,20),C(u.cloth,110),C(u.string,150),C(u.bandage,70),C(u.novice_hat,600),C(u.novice_shoes,800),C(u.novice_robe,1200),C(u.diagram_string,200),C(u.diagram_cloth,200),C(u.diagram_bandage,150),C(u.diagram_novice_hat,300),C(u.diagram_novice_shoes,300),C(u.diagram_novice_robe,500),C(u.book_tailoring,500)]}}),tailoring_shop_crafting:cs({craftingSlug:ut.tailoring})}},Nl="Items with strange aura are in the shelves.",I_=function(){return{enchanting_shop:x({slug:"enchanting_shop",title:"Holer's Enchants",description:Nl,options:function(){return[U(p.enchanting_shop_buy,{title:"Buy",class:"buy",getIcon:()=>P("buy")}),us({craftingSlug:ut.enchanting}),M(this,p.craftsman_district)]}}),enchanting_shop_buy:Bn({slug:"enchanting_shop_buy",title:"Enchants Assortment",description:Nl,messages:["Hmm?"],options:function(){return[Cs(ut.enchanting,150,{isVisible:()=>c.get().townCraftingStations.enchanting===!1}),M(this,p.enchanting_shop)]},getShopItems:function(){return[C(u.enchant_minor_experience,25),C(u.enchant_minor_health,100),C(u.enchant_minor_dexterity,100),C(u.enchant_minor_intelligence,100),C(u.enchant_minor_strength,100),C(u.enchant_minor_dr,150),C(u.enchant_minor_mdef,150),C(u.diagram_enchant_minor_experience,100),C(u.diagram_enchant_minor_health,500),C(u.diagram_enchant_minor_dexterity,500),C(u.diagram_enchant_minor_intelligence,500),C(u.diagram_enchant_minor_strength,500),C(u.diagram_enchant_minor_dr,750),C(u.diagram_enchant_minor_mdef,750),C(u.book_enchanting,500)]}}),enchanting_shop_crafting:cs({craftingSlug:ut.enchanting})}},S_=function(){return{woodworking_shop:x({slug:"woodworking_shop",title:"Splinta's Woodcrafts",description:"Kind-looking woman walks around the shop.",options:function(){return[U(p.woodworking_shop_buy,{title:"Buy",class:"buy",getIcon:()=>P("buy")}),Rt({slug:"woodworking_shop_free_stuff",title:"Ask about free equipment",class:"enter",getIcon:()=>P("talk"),isVisible:()=>!c.get().variables.free_stuff_completed,action:()=>Re(p.woodworking_shop_free_stuff)}),Rt({slug:"woodworking_shop_felling_axe",title:"Um... where do I get wood?",class:"enter",getIcon:()=>P("talk"),isVisible:()=>c.get().variables.free_stuff_completed&&!c.get().variables.felling_axe_received,action:()=>Re(p.woodworking_shop_free_stuff_wood)}),us({craftingSlug:ut.woodworking}),M(this,p.craftsman_district)]}}),woodworking_shop_buy:Bn({slug:"woodworking_shop_buy",title:"Splinta's Woodcrafts' Assortment",description:"Her kind look leaves no pressure on you.",messages:["Anything you fancy?"],options:function(){return[M(this,p.woodworking_shop)]},getShopItems:function(){return[C(u.wood,5),C(u.novice_staff,1500),C(u.hunting_bow,1500),C(u.diagram_training_sword,1),C(u.diagram_wooden_shield,1),C(u.diagram_wooden_armguard,1),C(u.diagram_novice_staff,500),C(u.diagram_hunting_bow,500),C(u.book_woodworking,500)]}}),woodworking_shop_crafting:cs({craftingSlug:ut.woodworking}),woodworking_shop_free_stuff:x({slug:"woodworking_shop_free_stuff",title:"Splinta's Woodcrafts",description:"A hint of compassion can be seen in her eyes.",messages:["No, I will not give you any equipment for free.","However, here are diagrams for a training sword and a wooden shield.","To make them, you will need to gather some wood and have appropriate crafting station, you can use mine in the shop, free of charge."],onEntry:function(){c.get().variables.free_stuff_completed=!0,S.add(u.diagram_training_sword,1),S.add(u.diagram_wooden_shield,1),S.add(u.diagram_wooden_armguard,1)},options:function(){return[U(p.woodworking_shop_free_stuff_thanks,{title:"Thank you!"}),M(this,p.woodworking_shop)]}}),woodworking_shop_free_stuff_thanks:x({slug:"woodworking_shop_free_stuff_thanks",title:"Splinta's Woodcrafts",description:"A hint of compassion can be seen in her eyes.",messages:["No worries, while most don't remember, or are too prideful to, we all started where you are right now.","Good luck on your journey and stay safe. There is no shame in retreat, you can always try again as long as you survive."],options:function(){return[U(p.woodworking_shop_free_stuff_wood,{title:"Um... where do I get wood?"}),M(this,p.woodworking_shop)]}}),woodworking_shop_free_stuff_wood:x({slug:"woodworking_shop_free_stuff_wood",title:"Splinta's Woodcrafts",description:"She can barely hold in her laugh.",messages:["Hah, you are a funny one, are you not?","In the woods obviously, silly!","Just go in, stay away from the wildlife and cut down some trees.","Or you can buy some from me, but we probably wouldn't be having this conversation if you had the money to do that, right?","Come back when you have the wood. Remember, you need the tools here.","Also, since you made me laugh, here's a felling axe to help you out.","Now go, no time to idle!"],onEntry:function(){S.add(u.felling_axe,1),c.get().variables.felling_axe_received=!0},options:function(){return[M(this,p.woodworking_shop)]}})}},x_=function(){return{alchemy_shop:x({slug:"alchemy_shop",title:"Crakon's Potions",description:"An old man is seen tinkering with flasks.",options:function(){return[U(p.alchemy_shop_buy,{title:"Buy",class:"buy",getIcon:()=>P("buy")}),us({craftingSlug:ut.alchemy}),M(this,p.craftsman_district)]}}),alchemy_shop_buy:Bn({slug:"alchemy_shop_buy",title:"Crakon's Potions Assortment",description:"Barely pays you any attention",messages:["Hmm?"],options:function(){return[Cs(ut.alchemy,150,{isVisible:()=>c.get().townCraftingStations.alchemy===!1}),M(this,p.alchemy_shop)]},getShopItems:function(){return[C(u.antidote,70),C(u.enchanted_water,70),C(u.minor_healing_potion,100),C(u.healing_potion,500),C(u.minor_mana_potion,200),C(u.mana_potion,1e3),C(u.diagram_bone_dust,200),C(u.diagram_antidote,150),C(u.diagram_enchanted_water,150),C(u.diagram_minor_healing_potion,1e3),C(u.diagram_healing_potion,5e3),C(u.diagram_minor_mana_potion,2e3),C(u.diagram_mana_potion,1e4),C(u.book_alchemy,500)]}}),alchemy_shop_crafting:cs({craftingSlug:ut.alchemy})}},M_=function(){return{scrollcrafting_shop:x({slug:"scrollcrafting_shop",title:"Zuris' Scrolls",description:"Middle-aged man with an arrogant look stand near the shelves containing precious scrolls.",options:function(){return[U(p.scrollcrafting_shop_buy,{title:"Buy",class:"buy",getIcon:()=>P("buy")}),us({craftingSlug:ut.scrollcrafting}),M(this,p.craftsman_district)]}}),scrollcrafting_shop_buy:Bn({slug:"scrollcrafting_shop_buy",title:"Zuris' Scrolls Assortment",description:"Suspects you of not having money to afford these.",messages:["I hope you are here to buy and not just to look."],options:function(){return[Cs(ut.scrollcrafting,150,{isVisible:()=>c.get().townCraftingStations.scrollcrafting===!1}),M(this,p.scrollcrafting_shop)]},getShopItems:function(){return[C(u.scroll_of_arcane_bolt,100),C(u.scroll_of_fire_arrow,100),C(u.scroll_of_water_splash,100),C(u.scroll_of_stone_bullet,100),C(u.scroll_of_wind_blast,100),C(u.book_scrollcrafting,500)]}}),scrollcrafting_shop_crafting:cs({craftingSlug:ut.scrollcrafting})}},R_=function(){return[U(p.leatherworking_shop_pristine_pelt,{title:"Show him the Pristine Bear Pelt",isVisible:()=>!c.get().variables.leatherworking_pristine_pelt_quest_finished&&S.getInventoryItemQuantity(u.pristine_bear_pelt)>=1}),U(p.leatherworking_shop_pristine_pelt_pickup_cloak,{title:"Pick up the Bear Cloak",isVisible:()=>c.get().variables.leatherworking_shop_bear_cloak_available})]},T_=function(){return{leatherworking_shop_pristine_pelt:x({slug:"leatherworking_shop_pristine_pelt",title:"Leathers",description:"",messages:["Oh, that's quite the piece you've got there!","It should make a vey nice cloak. If you bring me two pieces, I will make the cloak for you. One of the pelts for the cloak itself, and the other one as a payment.","I could also just give you the diagram for you to make it yourself. I am quite curious about the result, so it will be free of charge.","However, I would greatly appreciate if you could get a pelt for me as well. I really like it."],options:function(){return[Rt({slug:"leatherworking_shop_pristine_pelt_help",title:"Have him make it for you",class:"enter",isVisible:function(){return S.getInventoryItemQuantity(u.pristine_bear_pelt)>=2},action:function(){S.remove(S.getInventoryItem(u.pristine_bear_pelt),2),Re(p.leatherworking_shop_pristine_pelt_craft)}}),U(p.leatherworking_shop_pristine_pelt_diagram,{title:"Make it yourself"}),M(this,p.leatherworking_shop,{title:"Come back later"})]}}),leatherworking_shop_pristine_pelt_diagram:x({slug:"leatherworking_shop_pristine_pelt_diagram",title:"Leathers",description:"",messages:["Here you go!","I am looking forward to what you make!"],options:function(){return[M(this,p.leatherworking_shop,{title:"Leave"})]},onEntry:()=>{S.add(u.diagram_bear_cloak,1),c.get().variables.leatherworking_pristine_pelt_quest_finished=!0}}),leatherworking_shop_pristine_pelt_craft:x({slug:"leatherworking_shop_pristine_pelt_craft",title:"Leathers",description:"",messages:["Thanks for the pelt!","Come back in about three days, I should have the cloak ready for you by then."],options:function(){return[M(this,p.leatherworking_shop,{title:"Leave"})]},onEntry:()=>{Ur.schedule(Fr.leatherworking_shop_bear_cloak_available,3),c.get().variables.leatherworking_pristine_pelt_quest_finished=!0}}),leatherworking_shop_pristine_pelt_pickup_cloak:x({slug:"leatherworking_shop_pristine_pelt_pickup_cloak",title:"Leathers",description:"",messages:["I've got it ready for you!","It was really fun to make and the result is pretty neat, thanks again for getting an extra pelt for me.","Here's the cloak, and here are some extras: the diagram to make it if you ever need more of them and some leatherworking manuals to improve your skills!"],options:function(){return[M(this,p.leatherworking_shop,{title:"Leave"})]},onEntry:()=>{S.add(u.diagram_bear_cloak,1),S.add(u.book_leatherworking,5),S.add(u.bear_cloak,1),c.get().variables.leatherworking_shop_bear_cloak_available=!1}})}},Vl="Full of stands outfitted with leather armor.",$_=function(){return{leatherworking_shop:x({slug:"leatherworking_shop",title:"Leo's Tannery",description:Vl,options:function(){return[U(p.leatherworking_shop_buy,{title:"Buy",class:"buy",getIcon:()=>P("buy")}),us({craftingSlug:ut.leatherworking}),...R_(),M(this,p.craftsman_district)]}}),leatherworking_shop_buy:Bn({slug:"leatherworking_shop_buy",title:"Leo's Tannery Assortment",description:Vl,messages:["Hmm?"],options:function(){return[Cs(ut.leatherworking,150,{isVisible:()=>c.get().townCraftingStations.leatherworking===!1}),M(this,p.leatherworking_shop)]},getShopItems:function(){return[C(u.raw_hide,20),C(u.leather,110),C(u.leather_hat,600),C(u.leather_shoes,800),C(u.leather_armor,1200),C(u.diagram_leather,200),C(u.diagram_leather_hat,300),C(u.diagram_leather_shoes,300),C(u.diagram_leather_armor,500),C(u.book_leatherworking,500)]}}),leatherworking_shop_crafting:cs({craftingSlug:ut.leatherworking}),...T_()}},D_=function(){return{jewelcrafting_shop:x({slug:"jewelcrafting_shop",title:"Silver's Trinkets",description:"Beautiful young lady is busy tinkering with delicate tools.",options:function(){return[U(p.jewelcrafting_shop_buy,{title:"Buy",class:"buy",getIcon:()=>P("buy")}),us({craftingSlug:ut.jewelcrafting}),M(this,p.craftsman_district)]}}),jewelcrafting_shop_buy:Bn({slug:"jewelcrafting_shop_buy",title:"Accessories Assortment",description:"An illusion of golden sheen can be seen in her eyes.",messages:["Anything you fancy?"],options:function(){return[Cs(ut.jewelcrafting,150,{isVisible:()=>c.get().townCraftingStations.jewelcrafting===!1}),M(this,p.jewelcrafting_shop)]},getShopItems:function(){return[C(u.diagram_iron_ring,250),C(u.diagram_iron_earring,250),C(u.diagram_wolf_fang_amulet,500),C(u.book_jewelcrafting,500)]}}),jewelcrafting_shop_crafting:cs({craftingSlug:ut.jewelcrafting})}},C_=function(){return{craftsman_district:x({slug:"craftsman_district",title:"Craftsman district",getDescription:function(){return Ce.isNight()?"Workshops everywhere you look, but they are all closed for the night":"Workshops everywhere you look"},options:function(){return Ce.isNight()?[M(this,p.city)]:[U(p.blacksmithing_shop,{getIcon:()=>P("blacksmithing")}),U(p.tailoring_shop,{getIcon:()=>P("tailoring")}),U(p.enchanting_shop,{getIcon:()=>P("enchanting")}),U(p.woodworking_shop,{getIcon:()=>P("woodworking")}),U(p.alchemy_shop,{getIcon:()=>P("alchemy")}),U(p.scrollcrafting_shop,{getIcon:()=>P("scrollcrafting")}),U(p.leatherworking_shop,{getIcon:()=>P("leatherworking")}),U(p.jewelcrafting_shop,{getIcon:()=>P("jewelcrafting")}),M(this,p.city)]}}),...b_(),...E_(),...I_(),...S_(),...x_(),...M_(),...$_(),...D_()}},Gn={running:function(){return c.get().activeQuestSelecting},start:function(){c.get().activeQuestSelecting=!0},stop:function(){c.get().activeQuestSelecting=!1},getAvailableQuests:function(){return Gn.filter(Ve.getAvailableQuests())},filter:function(e){const t=c.get().questSelectingRank;return e.filter(n=>t==="none"?Ve.rankUnlocked(n.rank):n.rank===t)},setFilter:function(e){c.get().questSelectingRank=e},getFilter:function(){return c.get().questSelectingRank}},H_=function(){const e=c.get();return[U(p.kathryn_first_meeting_bar,{title:"Talk to Kathryn",getIcon:()=>P("talk"),isVisible:()=>e.tower_variables.kathryn_first_meeting_completed&&!e.tower_variables.kathryn_first_meeting_bar_completed})]},P_=function(e,t){return{kathryn_first_meeting_bar:x({slug:"kathryn_first_meeting_bar",title:e,description:t,messagesTitle:he.kathryn.name,messages:["If it isn't our new traveler!","Good to see you again!"],options:function(){return[U(p.kathryn_first_meeting_bar_2,{title:"Likewise, so what can you tell me about the tower?"})]}}),kathryn_first_meeting_bar_2:x({slug:"kathryn_first_meeting_bar_2",title:e,description:t,messagesTitle:he.kathryn.name,messages:["Yes, of course!","Which floor did you fight that monstrosity?"],options:function(){return[U(p.kathryn_first_meeting_bar_3,{title:"What do you mean?"})]}}),kathryn_first_meeting_bar_3:x({slug:"kathryn_first_meeting_bar_3",title:e,description:t,messagesTitle:he.kathryn.name,messages:["The shadow, of course!","Before the tower presents the blessing, you have to beat the Kacadu's Shadow, we just call it the 'Shadow'.","The first time it appears is different for everybody. That thing is much stronger than your normal floor guardian, so imagine fighting it on like... the first floor. That would be absolutely bonkers!"],options:function(){return[U(p.kathryn_first_meeting_bar_4,{title:"Yeah, it was pretty rough"})]}}),kathryn_first_meeting_bar_4:x({slug:"kathryn_first_meeting_bar_4",title:e,description:t,messagesTitle:he.kathryn.name,messages:["*Kathryn blinks several times, seemingly surprised*","Eh, what do you mean?"],options:function(){return[U(p.kathryn_first_meeting_bar_5,{title:"I mean it was pretty bonkers fighting it on the first floor"})]}}),kathryn_first_meeting_bar_5:x({slug:"kathryn_first_meeting_bar_5",title:e,description:t,messagesTitle:he.kathryn.name,messages:["WHAT?!","Damn... and I thought I was special by fighting it on the tenth floor...","You see, we think that the tower presents the Shadow as a test for those with potential. If the candidate beats the shadow, they are nurtured by the tower by providing them with a blessing.","After accepting the first blessing, the shadow appears more predictably. Usually every 5th floor.","Which means the sooner your first fight, the more blessings you can theoretically get, as the shadow does not appear on floors lower than your first encounter.","Anyway, I am not too into explaining the boring details. Talk to Jake here if you want to learn more. It's his job, after all. It was nice to meet you and I wish you good luck with the climbing. I hope we meet again!"],options:function(){return[Rt({title:"Sure",class:"enter",action:()=>{const n=c.get();n.tower_variables.kathryn_first_meeting_bar_completed=!0,ee.commonMessage("Journal entry added (Travelers - Jake)"),Re(p.adventurers_guild_bar)}})]}})}},A_=function(){const e=c.get();return[U(p.jake_info,{title:"Talk to Jake",getIcon:()=>P("talk"),isVisible:()=>e.tower_variables.kathryn_first_meeting_bar_completed})]},B_=function(e,t){return{jake_info:x({slug:"jake_info",title:e,description:t,messagesTitle:he.jake.name,messages:["What do you want to know?"],options:function(){return[U(p.jake_info_shadow,{title:"Shadow"}),U(p.jake_info_blessing,{title:"Blessings"}),U(p.jake_info_travelers,{title:"Travelers"}),M(this,p.adventurers_guild_bar,{simple:!0})]}}),jake_info_shadow:x({slug:"jake_info_shadow",title:e,description:t,messagesTitle:he.jake.name,messages:["Kacadu's Shadow, the Examiner. Or as we simply call it, the 'Shadow'","It takes on multiple forms and it seems to be some kind of examiner. Beating it grants you a blessing.","The first encounter with Shadow is not guaranteed. We believe that the more potential you have, the sooner you meet the Shadow.","How the potential is calculated, we have no idea. Some great warriors have never met the Shadow while others, not so prominent, met the Shadow relatively early.","The fight with Shadow is also harder and more complex than with a normal floor guardian.","From what we know, it appears every 5th floor from the floor of first appearance. It also does not appear on floor lower than the first encounter. This makes it so the earlier you meet it, the more chances to get blessings you get.","Also, Shadow may take on different forms depending on the floor you fight it, it also grows stronger the higher you go."],options:function(){return[M(this,p.jake_info,{simple:!0})]}}),jake_info_blessing:x({slug:"jake_info_blessing",title:e,description:t,messagesTitle:he.jake.name,messages:["When you defeat the Shadow, the Tower grants you a blessing. We have no idea how it works, but after accepting it, you go 'back' in time, retaining all your memories and previous blessings.","The blessings and their power vary depending on the floor and person. One notable blessing is the Heirloom Blessing. It's a blessing that allows you to carry an equipment piece of your choice through the 'rebirth' process.","This is very useful as it seems that equipment grows more powerful the more you use it. Making it an Heirloom makes this progress permanent. This blessing is the one constant thing in the tower. It is always available, but is limited in its power. An Heirloom Blessing from the 10th floor will not be applicable to a weapon crafted from materials from the 11th floor, for example.","That's pretty much it about the blessings. The Tower does a pretty good job explaining each blessing when you choose them."],options:function(){return[M(this,p.jake_info,{simple:!0})]}}),jake_info_travelers:x({slug:"jake_info_travelers",title:e,description:t,messagesTitle:he.jake.name,messages:["People who have accepted a blessing are called travelers. Some normal people are aware we exist, some not. We usually don't bother explaining things to them, because they won't remember it after we accept another blessing. But it is not a secret.","As we found out, you don't really go back in time. We don't understand the details, but it is more like moving to a parallel world, to that certain time. Which is also why we travelers remember each other after accepting blessings.","While it is 'like moving to a parallel world', we actually have no idea what is happening, probably some kind of magic. That is because it seems like we travelers exist in all the 'parallel worlds' at the same time.","It is difficult to explain so let me give you an example. If we agree to meet tomorrow and you 'rebirth' today, we will still be in the same world tomorrow and we will be able to meet, despite you accepting a blessing.","And lastly... we have no idea whether a body is created for us, or whether we take over the one of ourselves within this 'parallel world'. We also don't really like to bring it up, it is the way it is and we can't do much about it."],options:function(){return[M(this,p.jake_info,{simple:!0})]}})}},Ql="Adventurers' Guild",Yl="Whether you are looking for a job or a drink, you are at the right place.",q_=function(){return{adventurers_guild:x({slug:"adventurers_guild",title:"Adventurers' Guild",description:"Whether you are looking for a job or a drink, you are at the right place.",options:function(){return[U(p.adventurers_guild_finish_quests,{title:"Finish job requests",getIcon:()=>P("reception")}),U(p.adventurers_guild_quest_board,{title:"Check job board",getIcon:()=>P("job_board")}),U(p.adventurers_guild_bar,{title:"Sit by the Bar",getIcon:()=>P("tavern")}),M(this,p.city)]}}),adventurers_guild_quest_board:x({slug:"adventurers_guild_quest_board",title:"Job board",description:"A large wooden board with requests pinned up.",options:function(){return[M(this,p.adventurers_guild)]},onEntry:()=>Gn.start(),onLeave:()=>Gn.stop()}),adventurers_guild_reception:x({slug:"adventurers_guild_reception",title:"Reception",description:"A beautiful young woman stands behind the desk",messages:["How may I serve you?"],options:function(){return[U(p.adventurers_guild_finish_quests,{title:"Finish job requests",getIcon:()=>P("reception")}),M(this,p.adventurers_guild)]}}),adventurers_guild_finish_quests:x({slug:"adventurers_guild_finish_quests",title:"Reception",description:"A beautiful young woman stands behind the desk",messages:["Which request would you like to turn in?"],options:function(){return[M(this,p.adventurers_guild)]},onEntry:()=>ko.start(),onLeave:()=>ko.stop()}),adventurers_guild_finished_quest:x({slug:"adventurers_guild_finished_quest",title:"Reception",description:"A beautiful young woman stands behind the desk",messages:["Thank you very much, here is your reward!"],options:function(){return[M(this,p.adventurers_guild_finish_quests,{simple:!0})]}}),...P_(Ql,Yl),...B_(Ql,Yl),adventurers_guild_bar:x({slug:"adventurers_guild_bar",title:"Bar",description:"A fat man stands behind the bar",messages:["What will it be?"],options:function(){return[U(p.adventurers_guild_bar_buy,{title:"Buy",class:"buy",getIcon:()=>P("buy")}),...H_(),...A_(),M(this,p.adventurers_guild)]}}),adventurers_guild_bar_buy:Bn({slug:"adventurers_guild_bar_buy",title:"Bar",description:"A fat man stands behind the bar",messages:["We serve only the best food and drinks!"],options:function(){return[M(this,p.adventurers_guild_bar,{simple:!0})]},getShopItems:function(){return[C(u.water,10),C(u.dry_bread,5),C(u.cooked_meat,20),C(u.book_cooking,500)]}})}},F_=function(){return{training_grounds:x({slug:"training_grounds",title:"Training grounds",description:"Where the useless become less useless (hopefully)",options:function(){return[U(p.training_grounds_info,{title:"Check the information board",getIcon:()=>P("question_mark")}),U(p.training_grounds_training,{title:"Training",getIcon:()=>P("fight")}),M(this,p.city)]}}),training_grounds_training:x({slug:"training_grounds_training",title:"Training grounds",description:"The field is full of unmoving training dummies.",options:function(){return[Qe(p.training_grounds_fight,{title:"Train with Dummies"}),Qe(p.training_grounds_fight_endless,{title:"Train until you drop",isVisible:()=>c.get().variables.training_grounds_fight_completed}),M(this,p.training_grounds,{simple:!0})]}}),training_grounds_fight:x({slug:"training_grounds_fight",title:"Training grounds",description:"The field is full of unmoving training dummies.",messages:["They fight back!"],onEntry:()=>q.start(Ae.training_grounds),onLeave:()=>q.stop(),options:function(){return[M(this,p.training_grounds,{simple:!0})]}}),training_grounds_fight_endless:x({slug:"training_grounds_fight_endless",title:"Training grounds",description:"The field is full of unmoving training dummies.",messages:["They fight back!"],options:function(){return[M(this,p.training_grounds)]},onEntry:()=>q.start(Ae.training_grounds_endless),onLeave:()=>q.stop()}),training_grounds_fight_finished:x({slug:"training_grounds_fight_finished",title:"Training grounds",description:"That was a good session!",options:function(){return[M(this,p.training_grounds,{simple:!0})]}}),training_grounds_info:x({slug:"training_grounds_info",title:"Information board",description:"Most common inquiries are pinned here.",options:function(){return[U(p.training_grounds_info_tower,{title:"The Tower"}),U(p.training_grounds_info_power,{title:"Getting stronger"}),U(p.training_grounds_info_equipment,{title:"Acquiring equipment"}),U(p.training_grounds_info_money,{title:"Making money"}),U(p.training_grounds_info_cards,{title:"Cards"}),U(p.training_grounds_info_enchants,{title:"Enchants"}),U(p.training_grounds_info_magic,{title:"Magic"}),U(p.training_grounds_info_elements,{title:"Elements"}),M(this,p.training_grounds)]}}),training_grounds_info_power:x({slug:"training_grounds_info_power",title:"Information board",description:"Most common inquiries are pinned here.",messages:["Train!","Simply do stuff, you will get better at what you are doing.","The most straightforward is to fight enemies.","You can start with the dummies here or if you are felling confident, you can try the nearby woods.","Getting some equipment is not a bad idea either."],options:function(){return[M(this,p.training_grounds_info,{})]}}),training_grounds_info_equipment:x({slug:"training_grounds_info_equipment",title:"Information board",description:"Most common inquiries are pinned here.",messages:["If you have the money, you can definitely grab something in the craftsman district.","If you do not have money... well, tough luck!","You can make something yourself, but you would have to be proficient in crafting first. And you would also need to have the proper crafting station.","The masters in crafting district might help you with that, either if they like you or you pay them.","While this might sound weird... since the tower appeared, people noticed forming strange attachment to the equipment they use the most, as if the equipment grows the more they use them or something..."],options:function(){return[M(this,p.training_grounds_info,{})]}}),training_grounds_info_money:x({slug:"training_grounds_info_money",title:"Information board",description:"Most common inquiries are pinned here.",messages:["The best way to get money is to visit the Adventurers' Guild!","Every few days people around the city post their requests there.","You simply gather the items requested and then hand it over at the Reception in the Guild.","The Guild handles everything. They inspect the goods you provide to ensure high quality and save the requester's time.","Don't go directly to the requester, they will just turn you down...."],options:function(){return[M(this,p.training_grounds_info,{})]}}),training_grounds_info_tower:x({slug:"training_grounds_info_tower",title:"Information board",description:"Most common inquiries are pinned here.",messages:["The Tower!","That's the reason we are all here, after all!","Everyone is free to enter as they please, no requirements!","The recommendation is to get properly geared before thinking about it, though. Otherwise you might meet an early demise!","You should spend ample time in the Training Ground and the nearby woods, first."],options:function(){return[M(this,p.training_grounds_info,{})]}}),training_grounds_info_cards:x({slug:"training_grounds_info_cards",title:"Information board",description:"Most common inquiries are pinned here.",messages:["Cards are items that can be very rarely obtained from enemies.","It is said that every creature in the world may manifest a card and that every card is different.","When you obtain a card of specific creature for the very first time, it is as if you have learned everything there is about the creature.","Not only that, but the cards can also be used on your equipment to enchant them with special effects.","In short, cards are good, great even."],options:function(){return[M(this,p.training_grounds_info,{})]}}),training_grounds_info_enchants:x({slug:"training_grounds_info_enchants",title:"Information board",description:"Most common inquiries are pinned here.",messages:["By attempting to mimic the properties of cards, enchants were created.","Only some card effects were able to be replicated, and their efficiency was much lower than the cards themselves.","However, they are much easier to craft than getting a card, so they are a cheap alternative, at least until you get lucky with a card."],options:function(){return[M(this,p.training_grounds_info,{})]}}),training_grounds_info_magic:x({slug:"training_grounds_info_magic",title:"Information board",description:"Most common inquiries are pinned here.",messages:["While most people love money and are attracted by the profits possible only by climbing the tower, there are those who have no interest in worldly possessions.","For those the tower also has an answer: magic! The first delvers found huge runestones on some of the floors. After further study they realized those runestones held secrets of actual magic!","Each runestone explains the secrets of using magic, specifically a single spell. After studying it completely, one can produce spell scrolls. Scrolls are a consumable item that allows one to cast the spell once. Anyone can use scrolls, but only those who studied the runestone can make them.","There is also the art of rune carving. You may, very rarely, find pieces of blank runestones in the tower. Someone with the spell knowledge and enough proficiency in rune carving may carve the spell into the rune.","Spell runes are permanent catalyst used to cast the carved spell. They are basically a permanent scroll. Although they come with some disadvantages.","First, they can only be used by the carver, seems like some kind of link is made when the carving happens.","Second, they are quite difficult to handle. It's hard to explain, but people can usually only activate one or two runes at the same time.","Third, they usually require more mana to use, the reason for that is unknown.","They do come with two huge advantages though - they are permanent and they grow in power the more you use them.","The main problem of runestones is that if you want to use them, you have to make them. If you want to make them, you need to practice on weaker spells first. And nobody else can use the products of your practice. Which makes the learning process extremely expensive.","Therefore, not many people use runes, most just stick to scrolls. While expensive, it's less expensive than learning rune carving. And you also don't need to study the runestones themselves.","However, those who do use runes are... powerful. So powerful some people avoid them out of fear."],options:function(){return[M(this,p.training_grounds_info,{})]}}),training_grounds_info_elements:x({slug:"training_grounds_info_elements",title:"Information board",description:"Most common inquiries are pinned here.",messages:["With magic comes the importance of elements.","Every attack and every armor has an elemental power behind it. Most mundane lifeforms have both attack and armor element of neutral. However, many enemies in the tower have different elements. For example fire slimes in the tower have fire element as their armor element.","Paying attention to elements is important. Elements are weak to some, while resistant against others. For example, attacking an enemy having fire armor with a fire attack will not be very effective, same goes for fire attack and water enemy.","Same goes for you. You might find some rare armor that enchants you with an element. If you have fire armor, fire attack will do very little against you.","","(Attacking same element - fire vs fire: 0.25x)","(Attacking with weak element - fire vs water: 0.5x)","(Attacking with strong element - fire vs earth: 1.5x)","(Neutral is not weak nor strong against anything)","(Holy and Shadow are each other's weakness, meaning holy vs shadow is 1.5x and shadow vs holy is 1.5x)","(Fire > Earth > Wind > Water > Fire > ...)"],options:function(){return[M(this,p.training_grounds_info,{})]}})}},So=function(e,t){return Rt({slug:"copy_"+e.slug,title:"Copy down the unfamiliar runes",class:"copy",action:function(){S.add(e,1)},isVisible:t==null?void 0:t.isVisible})},wo={maxRank:Io.length-1,add:function(e){const t=c.get();if(t.runes.availableSlots===0){ee.commonMessage("No slot available.","c-danger");return}let n=null;for(let s=0;s<t.runes.availableSlots;s++)if(t.runes.slots[s]===null){n=s;break}n===null&&wo.remove(t.runes.slots[0]),t.runes.slots[n||0]=e.id,ue.applyEquipEffects(e),e.isEquipped=!0,St.stop(),O()},remove:function(e){const t=c.get(),n=S.getInventoryItemById(e);for(let s=0;s<t.runes.maxSlots;s++)if(t.runes.slots[s]!==null&&t.runes.slots[s]===n.id){t.runes.slots[s]=null,ue.removeEquipEffects(n),n.isEquipped=!1;break}},gainExp:function(e,t){ue.gainExp(e,t)},getRunes:function(){return c.get().runes.slots.filter(e=>e!==null).map(e=>S.getInventoryItemById(e))}},U_=["innerHTML"],L_={class:"descriptions"},O_=["innerHTML"],W_=["innerHTML"],G_={__name:"InfoBlessingTooltip",setup(e){return(t,n)=>(g(),m(B,null,[l("div",{class:"title",innerHTML:r(w).props.title},null,8,U_),l("div",L_,[r(w).props.descriptions.description?(g(),m("div",{key:0,class:"description",innerHTML:r(w).props.descriptions.description},null,8,O_)):T("",!0),r(w).props.descriptions.type?(g(),m("div",{key:1,class:"description",innerHTML:r(w).props.descriptions.type},null,8,W_)):T("",!0)])],64))}},xo=function(e){return{type:e.type,slug:e.slug,name:e.name,description:e.description,getDescription:e.getDescription||function(){return this.description},limit:e.limit||1,getIcon:e.getIcon||function(){return P(this.type)},action:function(){var t;Se.canTakeBonus(this.slug,this.limit)&&((t=e==null?void 0:e.action)==null||t.call(e),Se.incrementTakenBonusesCount(this.slug),Se.rebirth())},getTooltipProps:e.getTooltipProps||function(){return{component:le(G_),title:this.name,descriptions:{description:this.getDescription(),type:"Blessing"}}},getEffects:e.getEffects||function(){return[]}}},_u=function(e){return{__proto__:xo(e),type:"blessing_heirloom",name:"Heirloom Blessing",powerLevelLimit:e.powerLevelLimit,description:"Accepting an Heirloom Blessing allows you to choose a piece of equipment to turn into an Heirloom.<br><br>Heirlooms are permanent, and so is their progress. Neither are lost on rebirth - that includes enchantments, experience, ranks and whether they are awakened or not.<br><br>More powerful items might require Heirloom Blessing from a higher floor in order to become an Heirloom.<br><br>Prioritizing armor for the first rebirth is recommended if the player seeks efficiency.",action:e.action||function(t){t&&(Se.registerHeirloom(t),Se.rebirth())}}},K_=["innerHTML"],j_={class:"descriptions"},N_=["innerHTML"],V_={key:1,class:"description effects"},Q_=["innerHTML"],Y_=["innerHTML"],J_={__name:"StatBlessingTooltip",setup(e){return(t,n)=>{var s;return g(),m(B,null,[l("div",{class:"title",innerHTML:r(w).props.title},null,8,K_),l("div",j_,[r(w).props.descriptions.description?(g(),m("div",{key:0,class:"description",innerHTML:r(w).props.descriptions.description},null,8,N_)):T("",!0),(s=r(w).props.descriptions.effects)!=null&&s.length?(g(),m("div",V_,[(g(!0),m(B,null,oe(r(w).props.descriptions.effects,o=>(g(),m("div",{innerHTML:o},null,8,Q_))),256))])):T("",!0),r(w).props.descriptions.type?(g(),m("div",{key:2,class:"description",innerHTML:r(w).props.descriptions.type},null,8,Y_)):T("",!0)])],64)}}},wr=function(e){return{__proto__:xo(e),type:"blessing_stat",getTooltipProps:e.getTooltipProps||function(){return{component:le(J_),title:this.name,descriptions:{description:this.getDescription(),effects:this.getEffectDescriptions(),type:"Blessing"}}},getEffectDescriptions:function(){return this.getEffects().map(t=>t.effect.getDescription(t.value))}}},z_=function(){return{heirloom_1:_u({slug:"heirloom_1",name:"Heirloom Blessing",powerLevelLimit:1}),fortitude_1:wr({slug:"fortitude_1",name:"Blessing of Fortitude",description:"Those who live are those who climb.",getIcon:()=>P("blessing_fortitude"),getEffects:()=>[i.createMaxHp(100),i.createDr(4)]}),power_1:wr({slug:"power_1",name:"Blessing of Power",description:"Those who kill in one strike are undefeated.",getIcon:()=>P("blessing_power"),getEffects:()=>[i.createStr(10),i.createDex(40)]}),magic_1:wr({slug:"magic_1",name:"Blessing of Magic",description:"Those who master the arcane are the ones closest to the gods.",getIcon:()=>P("blessing_magic"),getEffects:()=>[i.createInt(6),i.createMaxMp(30)]}),charisma_1:wr({slug:"charisma_1",name:"Blessing of Charisma",description:"Those who are backed by many become kings.",getIcon:()=>P("blessing_charisma"),getEffects:()=>[i.createStartingReputation(Ve.rankReputationMapping.F)],action:()=>{Se.setStartingReputation(Ve.rankReputationMapping.F)}})}},X_=function(e){return{__proto__:xo({...e,action:()=>{Se.unlockWorkshopStations()}}),type:"blessing_workshop",name:"Workshop Blessing",description:"Accepting a Workshop Blessing unlocks permanent crafting stations in your home's Workshop.<br><br>That means that upon rebirth you will no longer need to purchase access and all crafting stations will be in the same place - your home's Workshop."}},Z_=function(e){return{__proto__:xo({...e,action:()=>{Se.increaseRank()}}),type:"blessing_rank",name:"Rank Blessing",description:"Accepting a Rank blessing will permanently increase your Rank.<br><br> Your Rank increases the amount of stats you gain each level by +100% of the base value.<br><br> It also increases the experience required to level up (the bonus outweighs the requirement increase)."}},eh=function(e){return{__proto__:xo({...e,action:()=>{Se.increaseRuneSlots()}}),type:"blessing_rune",name:"Rune Blessing",description:"Accepting a Rune Blessing unlocks permanent rune slot.<br><br>Having more rune slots means being able to equip more runes at the same time."}},th=function(e){return{__proto__:xo(e),type:"blessing_skill",getSkills:e.getSkills||function(){return[]},getDescription:function(){return`Accepting this Skill Blessing increases the rank of the following skills:<br><br>
       ${this.getSkills().map(t=>"<strong>"+K[t.slug].name+"</strong>").join("<br>")}
         <br><br>
         Increasing a skill rank increases the skill's max level.`},action:function(){Se.canTakeBonus(this.slug,this.limit)&&(this.getSkills().forEach(t=>{Se.increaseSkillRank(t.slug)}),Se.incrementTakenBonusesCount(this.slug),Se.rebirth())}}},nh=function(){return{heirloom_5:_u({slug:"heirloom_5",powerLevelLimit:5}),workshop_5:X_({slug:"workshop_5"}),rank_5:Z_({slug:"rank_5"}),rune_5:eh({slug:"rune_5"}),skill_martial_arts_5:th({name:"Skill Blessing - Martial Arts",slug:"skill_martial_arts_5",getSkills:()=>[K.combat_mastery,K.tenacity,K.mutilation],getIcon:()=>P("martial_arts")})}},Yt={...z_(),...nh()},Se={running:function(){return!!c.get().activeRebirth},start:function(e){const t=c.get();t.activeRebirth=!0,t.rebirthBlessings=e.map(n=>n.slug)},stop:function(){c.get().activeRebirth=null},getBlessings:function(){const e=c.get();return e.rebirthBlessings.map(t=>Yt[t]).filter(t=>t.type==="blessing_heirloom"||t.limit>(e.rebirth.takenBonusesCount[t.slug]??0))},rebirth:function(){const e=Se.prepareNewState();Se.copyPermanentInventoryItems(e),Se.unEquipOldInventoryItems(),c.replaceState(e),c.resolveNewGameState(),Se.applyRuneUnlocks(),Se.reEquipPreviouslyEquippedHeirlooms(e),Se.applyRankBonus(),Se.applyReputationBonus(),Se.applySkillRankBonuses(),Se.applyCraftingStationUnlocks(),c.applyStatModifiers(),A.fullyHeal(),rt.rebirth()},prepareNewState:function(){const e=c.get(),t=c.createCleanState();return t.rebirth=e.rebirth,t.bestiary=e.bestiary,t.achievements=e.achievements,t.statistics=e.statistics,t.titles=e.titles,t.title=e.title,t.learnedSkills=e.learnedSkills,t.learnedCraftingRecipes=e.learnedCraftingRecipes,t.tower_variables=e.tower_variables,t.migration=e.migration,t.player.name=e.player.name,t.inventorySettings.filter=e.inventorySettings.filter,t.inventorySettings.sort=e.inventorySettings.sort,t.log.filter=e.log.filter,t.highlightInventoryGuide=e.highlightInventoryGuide,t.skills.runecarving=e.skills.runecarving,t.darkMode=e.darkMode,t},copyPermanentInventoryItems:function(e){e.inventory=Se.getPermanentInventoryItems().map(t=>{let n=structuredClone(Ke(t));return n.id=e.helpers.inventoryId++,n})},getPermanentInventoryItems:function(){return c.get().inventory.filter(e=>{const t=S.getItem(e);return t.slug===u.rune.slug||t.isCard||!e.isDeletable||e.isHeirloom})},unEquipOldInventoryItems:function(){const e=c.get();for(const t in e.equipment)e.equipment[t]&&ue.remove(e.equipment[t]);e.runes.slots.forEach(t=>{t!==null&&wo.remove(t)})},reEquipPreviouslyEquippedHeirlooms:function(e){e.inventory.forEach(t=>{if(t.isEquipped&&!S.getItem(t).isRune){ue.add(t);return}t.isEquipped&&wo.add(t)})},applyRankBonus:function(){const e=c.get();e.player.rank=e.rebirth.rank},applyReputationBonus:function(){const e=c.get();e.reputation=e.rebirth.reputation},applySkillRankBonuses:function(){const e=c.get(),t=e.rebirth.skillRanks;for(const n in t)e.skills[n].rank=t[n]},applyBlessingEffects:function(){const e=Se.getTakenBonusesCount();for(const t in e){const n=Yt[t],s=e[t];n.getEffects().forEach(o=>{o.effect.up(c.get().player,o.value*s,n.slug,"blessing")})}},applyCraftingStationUnlocks:function(){const e=c.get();e.rebirth.unlockedWorkshopCraftingStations.forEach(t=>e.workshopCraftingStations[t]=!0)},applyRuneUnlocks:function(){const e=c.get();e.runes.availableSlots=e.rebirth.runes},getTakenBonusesCount:function(){return c.get().rebirth.takenBonusesCount},getTakenBonusCount:function(e){const t=c.get();return t.rebirth.takenBonusesCount[e]===void 0?0:t.rebirth.takenBonusesCount[e]},canTakeBonus:function(e,t){const n=c.get();return t===0?!0:n.rebirth.takenBonusesCount[e]===void 0||n.rebirth.takenBonusesCount[e]<t},incrementTakenBonusesCount:function(e){const t=c.get();t.rebirth.takenBonusesCount[e]=t.rebirth.takenBonusesCount[e]===void 0?1:t.rebirth.takenBonusesCount[e]+1},getHeirloomEligibleInventoryItems:function(e){return S.getRaw().filter(n=>{const s=S.getItem(n);return s.isEquip&&s.powerLevel<=e&&!n.isHeirloom})},registerHeirloom:function(e){c.get().rebirth.heirloomIds.push(e.id),e.isHeirloom=!0},increaseRank:function(){const e=c.get();e.rebirth.rank<A.maxRank&&(e.rebirth.rank+=1)},setStartingReputation:function(e){const t=c.get();t.rebirth.reputation=e},increaseRuneSlots:function(){const e=c.get();e.rebirth.runes<e.runes.maxSlots&&(e.rebirth.runes+=1)},increaseSkillRank:function(e){const t=c.get();t.rebirth.skillRanks[e]<ie.maxRank&&(t.rebirth.skillRanks[e]+=1)},unlockWorkshopStations:function(){const e=c.get(),t=e.workshopCraftingStations;Object.keys(t).forEach(n=>e.rebirth.unlockedWorkshopCraftingStations.push(n))}},sh=function(){return{rebirth_1:x({slug:"rebirth_1",title:"Inside Tower - Floor 1, Guardian Room",description:"A large, circular room lit by standing candelabras.",messages:["Just as you focus on the pillar, the runes flow out and fill the room.","A voice enters your mind:","You are worthy.","Choose a blessing and start over...","...or keep climbing."],options:function(){return[Rt({slug:"rebirth_choose",title:"Choose a blessing",action:()=>Se.start([Yt.heirloom_1,Yt.fortitude_1,Yt.power_1,Yt.magic_1,Yt.charisma_1])}),M(this,p.floor1_cleared,{simple:!0})]},onLeave:()=>Se.stop()})}},or=function(e){return e=e??{},e.type="separator",e.class="separator",e.action=()=>{},{__proto__:Rt(e)}},ih=function(){return{floor1:x({slug:"floor1",title:"Inside Tower - Floor 1",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[Qe(p.floor1_fight1,{title:"Explore deeper"}),Qe(p.floor1_fight1_endless,{title:"Fight indiscriminately",isVisible:()=>c.get().tower_variables.floor1_fight1_completed}),M(this,p.tower_hallway,{simple:!0})]}}),floor1_fight1:x({slug:"floor1_fight1",title:"Inside Tower - Floor 1",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor1,{simple:!0})]},onEntry:()=>q.start(Ae.floor1_fight1),onLeave:()=>q.stop()}),floor1_fight1_endless:x({slug:"floor1_fight1_endless",title:"Inside Tower - Floor 1",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor1,{simple:!0})]},onEntry:()=>q.start(Ae.floor1_fight1_endless),onLeave:()=>q.stop()}),floor1_fight1_clear:x({slug:"floor1_fight1_clear",title:"Inside Tower - Floor 1",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",messages:["Spitting pieces of slime out of your mouth, your gaze falls on a huge door in front of you."],options:function(){return[U(p.floor1_boss_room,{title:"Open the door"}),M(this,p.floor1,{simple:!0})]}}),floor1_boss_room:x({slug:"floor1_boss_room",title:"Inside Tower - Floor 1, Guardian Room",description:"A large, circular room lit by standing candelabras.",options:function(){return[Qe(p.floor1_boss_fight,{title:"Challenge the Guardian"}),M(this,p.floor1,{simple:!0})]}}),floor1_boss_fight:x({slug:"floor1_boss_fight",title:"Inside Tower - Floor 1, Guardian Room",description:"A large, circular room lit by standing candelabras.",options:function(){return[M(this,p.floor1,{simple:!0})]},onEntry:()=>q.start(Ae.floor1_boss),onLeave:()=>q.stop()}),floor1_cleared:x({slug:"floor1_cleared",title:"Inside Tower - Floor 1, Guardian Room",description:"A large, circular room lit by standing candelabras.",messages:["The floor Guardian lays defeated.","Its body slowly melts away, in its place a pillar filled with runes.","A tiny rune appears on your arm - a rune of passage, allowing you to challenge the second floor.","Huge runestone stands at the back of the room."],options:function(){return[U(p.rebirth_1,{title:"Touch the pillar"}),U(p.floor1_read_runestone,{title:"Read the runestone"}),or(),M(this,p.tower_hallway,{title:"Go back to the Hallway"})]}}),floor1_read_runestone:x({slug:"floor1_read_runestone",title:"Inside Tower - Floor 1, Guardian Room",description:"A large, circular room lit by standing candelabras.",messages:["First of many.","Take your reward."],options:function(){return[So(u.diagram_scroll_of_fire_arrow),M(this,p.floor1_cleared,{simple:!0})]}}),...sh()}},oh=function(){return{floor2:x({slug:"floor2",title:"Inside Tower - Floor 2",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[Qe(p.floor2_fight1,{title:"Explore deeper"}),Qe(p.floor2_fight1_endless,{title:"Fight indiscriminately",isVisible:()=>c.get().tower_variables.floor2_fight1_completed}),M(this,p.tower_hallway,{simple:!0})]}}),floor2_fight1:x({slug:"floor2_fight1",title:"Inside Tower - Floor 2",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor2,{simple:!0})]},onEntry:()=>q.start(Ae.floor2_fight1),onLeave:()=>q.stop()}),floor2_fight1_endless:x({slug:"floor2_fight1_endless",title:"Inside Tower - Floor 2",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor2,{simple:!0})]},onEntry:()=>q.start(Ae.floor2_fight1_endless),onLeave:()=>q.stop()}),floor2_fight1_clear:x({slug:"floor2_fight1_clear",title:"Inside Tower - Floor 2",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",messages:["Filthy, you once again stand in front of the Guardian's door."],options:function(){return[U(p.floor2_boss_room,{title:"Open the door"}),M(this,p.floor2,{simple:!0})]}}),floor2_boss_room:x({slug:"floor2_boss_room",title:"Inside Tower - Floor 2, Guardian Room",description:"A large, circular room lit by standing candelabras.",options:function(){return[Qe(p.floor2_boss_fight,{title:"Challenge the Guardian"}),M(this,p.floor2,{simple:!0})]}}),floor2_boss_fight:x({slug:"floor2_boss_fight",title:"Inside Tower - Floor 2, Guardian Room",description:"A large, circular room lit by standing candelabras.",options:function(){return[M(this,p.floor2,{simple:!0})]},onEntry:()=>q.start(Ae.floor2_boss),onLeave:()=>q.stop()}),floor2_cleared:x({slug:"floor2_cleared",title:"Inside Tower - Floor 2, Guardian Room",description:"A large, circular room lit by standing candelabras.",messages:["The floor Guardian lays defeated.","Another victory, another rune on your arm, this time for the third floor."],options:function(){return[U(p.floor2_read_runestone,{title:"Read the runestone"}),or(),M(this,p.tower_hallway,{title:"Go back to the Hallway"})]}}),floor2_read_runestone:x({slug:"floor2_read_runestone",title:"Inside Tower - Floor 2, Guardian Room",description:"A large, circular room lit by standing candelabras.",messages:["Second of many.","Take your reward."],options:function(){return[So(u.diagram_scroll_of_water_splash),M(this,p.floor2_cleared,{simple:!0})]}})}},hu=function(){const e=c.get();return e.tower_variables.kathryn_first_meeting_bar_completed&&!e.tower_variables.kathryn_third_floor_secret_room_completed},rh=function(){return[U(p.kathryn_third_floor_secret_room,{title:"Talk to Kathryn",getIcon:()=>P("talk"),isVisible:()=>hu()})]},ah=function(e,t){return{kathryn_third_floor_secret_room:x({slug:"kathryn_third_floor_secret_room",title:e,description:t,messagesTitle:he.kathryn.name,messages:["Just the person I needed!","Listen, I found a secret room just around the corner. My intuition is telling me it would be pretty stupid of me to go there alone.","So what do you say, are you in? We split the loot fair and square."],options:function(){return[U(p.kathryn_third_floor_secret_room_2,{title:"Sure, why not."}),M(this,p.floor3_fight1_clear,{title:"Not interested."})]}}),kathryn_third_floor_secret_room_2:x({slug:"kathryn_third_floor_secret_room_2",title:e,description:t,messagesTitle:he.kathryn.name,messages:["Awesome!","As you may have noticed, I am a sword and board kind of person, fighting with me will improve both your physical defense and offense. I have no interest in the magic nonsense.","Prepare yourself for a fight and let me know when you are ready."],options:function(){return[Qe(p.kathryn_third_floor_secret_room_fight,{title:"I am ready."}),M(this,p.floor3_fight1_clear,{title:"I need some time."})]},onEntry:()=>{je.instantlyApplyStatusEffectOnPlayer(pe.kathryn_novice_buff)},onLeave:()=>{je.instantlyRemoveStatusEffectFromPlayer(pe.kathryn_novice_buff)}}),kathryn_third_floor_secret_room_fight:x({slug:"kathryn_third_floor_secret_room_fight",title:"Inside tower - Floor 3",description:"A simple room with a chest in the far back.",options:function(){return[M(this,p.floor3_fight1_clear,{simple:!0})]},onEntry:()=>{je.instantlyApplyStatusEffectOnPlayer(pe.kathryn_novice_buff),q.start(Ae.floor3_secret_room)},onLeave:()=>{q.stop(),je.instantlyRemoveStatusEffectFromPlayer(pe.kathryn_novice_buff)}}),kathryn_third_floor_secret_room_completed:x({slug:"kathryn_third_floor_secret_room_completed",title:"Inside tower - Floor 3",description:"A simple room with a chest in the far back.",messagesTitle:he.kathryn.name,messages:["That was rough! I sure am glad to have asked you for help. Let's see what we got here...","Hmm... seems like some diagrams. Here's your share - a quiver and a magic tome.","Well, that's all. Thanks for the help! Hope we do something like this again.","Bye!"],options:function(){return[M(this,p.floor3_fight1_clear,{simple:!0})]},onEntry:()=>{c.get().tower_variables.kathryn_third_floor_secret_room_completed=!0,ee.commonMessage("Journal entry added (Travelers - Kathryn)"),S.add(u.diagram_quiver,1);let n=S.getInventoryItem(u.diagram_quiver);n.isDeletable=!1,S.add(u.diagram_novice_tome,1),n=S.getInventoryItem(u.diagram_novice_tome),n.isDeletable=!1}})}},Co="Inside Tower - Floor 3",Ho="A dark, dungeon-like space. Some strange creatures can be seen roaming around.",kr="Inside Tower - Floor 3, Guardian Room",br="A large, circular room lit by standing candelabras.",lh=function(){return{...ah(Co,Ho),floor3:x({slug:"floor3",title:Co,description:Ho,options:function(){return[Qe(p.floor3_fight1,{title:"Explore deeper"}),Qe(p.floor3_fight1_endless,{title:"Fight indiscriminately",isVisible:()=>c.get().tower_variables.floor3_fight1_completed}),M(this,p.tower_hallway,{simple:!0})]}}),floor3_fight1:x({slug:"floor3_fight1",title:Co,description:Ho,options:function(){return[M(this,p.floor3,{simple:!0})]},onEntry:()=>q.start(Ae.floor3_fight1),onLeave:()=>q.stop()}),floor3_fight1_endless:x({slug:"floor3_fight1_endless",title:Co,description:Ho,options:function(){return[M(this,p.floor3,{simple:!0})]},onEntry:()=>q.start(Ae.floor3_fight1_endless),onLeave:()=>q.stop()}),floor3_fight1_clear:x({slug:"floor3_fight1_clear",title:Co,description:Ho,getMessages:()=>{let e=["The now familiar gate stands before you."];return hu()&&e.push("A familiar figure stands by the gate."),e},options:function(){return[U(p.floor3_boss_room,{title:"Open the door"}),...rh(),M(this,p.floor3,{simple:!0})]}}),floor3_boss_room:x({slug:"floor3_boss_room",title:kr,description:br,options:function(){return[Qe(p.floor3_boss_fight,{title:"Challenge the Guardian"}),M(this,p.floor3,{simple:!0})]}}),floor3_boss_fight:x({slug:"floor3_boss_fight",title:kr,description:br,options:function(){return[M(this,p.floor3,{simple:!0})]},onEntry:()=>q.start(Ae.floor3_boss),onLeave:()=>q.stop()}),floor3_cleared:x({slug:"floor3_cleared",title:kr,description:br,messages:["The floor Guardian lays defeated.","Another victory, another rune on your arm, this time for the fourth floor."],options:function(){return[U(p.floor3_read_runestone,{title:"Read the runestone"}),or(),M(this,p.tower_hallway,{title:"Go back to the Hallway"})]}}),floor3_read_runestone:x({slug:"floor3_read_runestone",title:kr,description:br,messages:["Third of many.","Take your reward."],options:function(){return[So(u.diagram_scroll_of_stone_bullet),M(this,p.floor3_cleared,{simple:!0})]}})}},ch=function(){return{floor4:x({slug:"floor4",title:"Inside Tower - Floor 4",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[Qe(p.floor4_fight1,{title:"Explore deeper"}),Qe(p.floor4_fight1_endless,{title:"Fight indiscriminately",isVisible:()=>c.get().tower_variables.floor4_fight1_completed}),M(this,p.tower_hallway,{simple:!0})]}}),floor4_fight1:x({slug:"floor4_fight1",title:"Inside Tower - Floor 4",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor4,{simple:!0})]},onEntry:()=>q.start(Ae.floor4_fight1),onLeave:()=>q.stop()}),floor4_fight1_endless:x({slug:"floor4_fight1_endless",title:"Inside Tower - Floor 4",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor4,{simple:!0})]},onEntry:()=>q.start(Ae.floor4_fight1_endless),onLeave:()=>q.stop()}),floor4_fight1_clear:x({slug:"floor4_fight1_clear",title:"Inside Tower - Floor 4",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",messages:["More slime, more Guardians and their doors."],options:function(){return[U(p.floor4_boss_room,{title:"Open the door"}),M(this,p.floor4,{simple:!0})]}}),floor4_boss_room:x({slug:"floor4_boss_room",title:"Inside Tower - Floor 4, Guardian Room",description:"A large, circular room lit by standing candelabras.",options:function(){return[Qe(p.floor4_boss_fight,{title:"Challenge the Guardian"}),M(this,p.floor4,{simple:!0})]}}),floor4_boss_fight:x({slug:"floor4_boss_fight",title:"Inside Tower - Floor 4, Guardian Room",description:"A large, circular room lit by standing candelabras.",options:function(){return[M(this,p.floor4,{simple:!0})]},onEntry:()=>q.start(Ae.floor4_boss),onLeave:()=>q.stop()}),floor4_cleared:x({slug:"floor4_cleared",title:"Inside Tower - Floor 4, Guardian Room",description:"A large, circular room lit by standing candelabras.",messages:["The floor Guardian lays defeated.","Another victory, another rune on your arm, this time for the fifth floor."],options:function(){return[U(p.floor4_read_runestone,{title:"Read the runestone"}),or(),M(this,p.tower_hallway,{title:"Go back to the Hallway"})]}}),floor4_read_runestone:x({slug:"floor4_read_runestone",title:"Inside Tower - Floor 4, Guardian Room",description:"A large, circular room lit by standing candelabras.",messages:["Fourth of many.","Take your reward."],options:function(){return[So(u.diagram_scroll_of_wind_blast),M(this,p.floor4_cleared,{simple:!0})]}})}},uh=function(){return{rebirth_5:x({slug:"rebirth_5",title:"Inside Tower - Floor 5, Guardian Room",description:"A large, circular room lit by standing candelabras.",messages:["A familiar scene replays in front of you as the runes seep out of the pillar.","Once again, you hear the strange voice in your mind:","You are worthy.","Choose a blessing and start over...","...or keep climbing."],options:function(){return[Rt({slug:"rebirth_choose",title:"Choose a blessing",action:()=>Se.start([Yt.heirloom_5,Yt.rank_5,Yt.workshop_5,Yt.rune_5,Yt.skill_martial_arts_5])}),M(this,p.floor5_cleared,{simple:!0})]},onLeave:()=>Se.stop()})}},dh=function(){return{floor5:x({slug:"floor5",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[Qe(p.floor5_fight1,{title:"Explore deeper"}),Qe(p.floor5_fight1_endless,{title:"Fight indiscriminately",isVisible:()=>c.get().tower_variables.floor5_fight1_completed}),M(this,p.tower_hallway,{simple:!0})]}}),floor5_fight1:x({slug:"floor5_fight1",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor5,{simple:!0})]},onEntry:()=>q.start(Ae.floor5_fight1),onLeave:()=>q.stop()}),floor5_fight1_endless:x({slug:"floor5_fight1_endless",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor5,{simple:!0})]},onEntry:()=>q.start(Ae.floor5_fight1_endless),onLeave:()=>q.stop()}),floor5_fight1_clear:x({slug:"floor5_fight1_clear",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",messages:["Basic slimes, just a lot bigger, simple enough. Looks like now it's for their elemental variants."],options:function(){return[Qe(p.floor5_fight2,{title:"Explore deeper"}),Qe(p.floor5_fight2_endless,{title:"Fight indiscriminately",isVisible:()=>c.get().tower_variables.floor5_fight2_completed}),M(this,p.floor5,{simple:!0})]}}),floor5_fight2:x({slug:"floor5_fight2",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor5,{simple:!0})]},onEntry:()=>q.start(Ae.floor5_fight2),onLeave:()=>q.stop()}),floor5_fight2_endless:x({slug:"floor5_fight2_endless",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor5,{simple:!0})]},onEntry:()=>q.start(Ae.floor5_fight2_endless),onLeave:()=>q.stop()}),floor5_fight2_clear:x({slug:"floor5_fight2_clear",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",messages:["Dark and light variants are next."],options:function(){return[Qe(p.floor5_fight3,{title:"Explore deeper"}),Qe(p.floor5_fight3_endless,{title:"Fight indiscriminately",isVisible:()=>c.get().tower_variables.floor5_fight3_completed}),M(this,p.floor5,{simple:!0})]}}),floor5_fight3:x({slug:"floor5_fight3",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor5,{simple:!0})]},onEntry:()=>q.start(Ae.floor5_fight3),onLeave:()=>q.stop()}),floor5_fight3_endless:x({slug:"floor5_fight3_endless",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",options:function(){return[M(this,p.floor5,{simple:!0})]},onEntry:()=>q.start(Ae.floor5_fight3_endless),onLeave:()=>q.stop()}),floor5_fight3_clear:x({slug:"floor5_fight3_clear",title:"Inside Tower - Floor 5",description:"A dark, dungeon-like space. Some strange creatures can be seen roaming around.",messages:["Finally, after wading through countless slimes, you stand in front of the Guardian door.","This one feels somewhat different."],options:function(){return[U(p.floor5_boss_room,{title:"Open the door"}),M(this,p.floor5,{simple:!0})]}}),floor5_boss_room:x({slug:"floor5_boss_room",title:"Inside Tower - Floor 5, Guardian Room",description:"Pitch-black room filled with menacing aura.",options:function(){return[Qe(p.floor5_boss_fight,{title:"Challenge the Guardian"}),M(this,p.floor5,{simple:!0})]}}),floor5_boss_fight:x({slug:"floor5_boss_fight",title:"Inside Tower - Floor 5, Guardian Room",description:"Pitch-black room filled with menacing aura.",options:function(){return[M(this,p.floor5,{simple:!0})]},onEntry:()=>q.start(Ae.floor5_boss),onLeave:()=>q.stop()}),floor5_cleared:x({slug:"floor5_cleared",title:"Inside Tower - Floor 5, Guardian Room",description:"Pitch-black room filled with menacing aura.",messages:["The floor Guardian lays defeated.","Its body slowly melts away, in its place a pillar filled with runes.","Another victory, another rune on your arm, this time for the sixth floor."],options:function(){return[U(p.rebirth_5,{title:"Touch the pillar"}),U(p.floor5_read_runestone,{title:"Read the runestone"}),or(),M(this,p.tower_hallway,{title:"Go back to the Hallway"})]}}),floor5_read_runestone:x({slug:"floor5_read_runestone",title:"Inside Tower - Floor 5, Guardian Room",description:"Pitch-black room filled with menacing aura.",messages:["Fifth of many.","Take your reward."],options:function(){return[So(u.diagram_scroll_of_heal),M(this,p.floor5_cleared,{simple:!0})]}}),...uh()}},gh=function(){return{floor6:x({slug:"floor6",title:"Inside Tower - Floor 6",description:"An empty expanse lies in front of you, seemingly endless.",options:function(){return[M(this,p.tower_hallway,{simple:!0})]}})}},fh=function(){return{tower:x({slug:"tower",title:"Tower",description:"The top cannot be seen. A pair of guards stand near the entrance.",options:function(){return[U(p.tower_hallway,{title:"Tower",getIcon:()=>P("tower")}),U(p.tower_talk_to_guards,{title:"Talk to the guards",getIcon:()=>P("talk")}),M(this,p.city)]}}),tower_talk_to_guards:x({slug:"tower_talk_to_guards",title:"Tower",description:"The top cannot be seen",messages:["Hello there, if you want to enter, you are free to do so. We are here just to warn newcomers.","Before entering, you should definitely visit the Training Grounds to learn a thing or two.","You should also visit the Adventurers' Guild, complete some jobs to get some money and properly equip yourself.","The Tower is a place of endless opportunities, but also of endless dangers.","Stay vigilant."],options:function(){return[M(this,p.tower,{simple:!0})]}}),tower_hallway:x({slug:"tower_hallway",title:"Inside Tower - Hallway",description:"A room much bigger than the outside would suggest. A huge runestone stands in the middle.",options:function(){const e=[U(p.tower_read_runestone,{title:"Read the runestone"}),M(this,p.tower,{simple:!0})];return c.get().tower_variables.floor1_unlocked&&e.push(U(p.floor1,{title:"Enter Floor 1"})),c.get().tower_variables.floor2_unlocked&&e.push(U(p.floor2,{title:"Enter Floor 2"})),c.get().tower_variables.floor3_unlocked&&e.push(U(p.floor3,{title:"Enter Floor 3"})),c.get().tower_variables.floor4_unlocked&&e.push(U(p.floor4,{title:"Enter Floor 4"})),c.get().tower_variables.floor5_unlocked&&e.push(U(p.floor5,{title:"Enter Floor 5"})),c.get().tower_variables.floor6_unlocked&&e.push(U(p.floor6,{title:"Enter Floor 6"})),e}}),tower_read_runestone:x({slug:"tower_read_runestone",title:"Inside Tower - first runestone",description:"Runestone filled with runes, some you instinctively understand, others you cannot comprehend.",messages:["Each floor, a Guardian oversees.","Those worthy enough shall be conveyed a rune of passage and a secret of magic.","The first rune of passage and the first secret of magic are a gift of the Tower to anyone brave enough to enter."],options:function(){return[So(u.diagram_scroll_of_arcane_bolt),M(this,p.tower_hallway,{simple:!0})]},onEntry:()=>c.get().tower_variables.floor1_unlocked=!0}),...ih(),...oh(),...lh(),...ch(),...dh(),...gh()}},mh=function(e,t){return{kathryn_first_meeting:x({slug:"kathryn_first_meeting",title:e,description:t,messagesTitle:he.kathryn.getName(),messages:["First time, eh?"],options:function(){return[U(p.kathryn_first_meeting_2,{title:"What do you mean?"})]}}),kathryn_first_meeting_2:x({slug:"kathryn_first_meeting_2",title:e,description:t,messagesTitle:he.kathryn.getName(),messages:["Confused look? Check.","Sharp eyes, speaking of battle experience? Check.","Next to no equipment, disproportionate to the sharp eyes? Check.","Yup! I'd bet my coins you have just accepted the tower's blessing for the first time!","Am I right?"],options:function(){return[U(p.kathryn_first_meeting_3,{title:"I... think so? What's going on? Who are you?"})]}}),kathryn_first_meeting_3:x({slug:"kathryn_first_meeting_3",title:e,description:t,messagesTitle:he.kathryn.getName(),messages:["The name's Kathryn, nice to meet you!","I am a fellow traveler, that's what we - those who accepted a tower blessing - call ourselves.","You accepted the tower's blessing, which transferred you 'back' in time while granting you a boon of your choice.","I am accenting the 'back' for a reason, because you did not really travel back in time.","Anyway, that's enough for now, how about you meet me in the Adventurers' Guild's Bar once you've gathered your thoughts?","See ya!"],options:function(){return[Rt({title:"Sure...?",class:"enter",action:()=>{const n=c.get();n.tower_variables.kathryn_first_meeting_completed=!0,ee.commonMessage("Journal entry added (Travelers - Kathryn)"),Re(p.city)}})]}})}},ph=function(e){return{kacadu_meditation_gift:x({slug:"kacadu_meditation_gift",title:e,description:"The streets are flooded with blinding light, coming straight from the tower.",messagesTitle:he.kacadu.getName(),messages:["*A voice sounds in your mind*"],options:function(){return[U(p.kacadu_meditation_gift_2,{title:"Continue..."})]}}),kacadu_meditation_gift_2:x({slug:"kacadu_meditation_gift_2",title:e,description:"The streets are flooded with blinding light, coming straight from the tower.",messagesTitle:he.kacadu.getName(),messages:["And so, a feeble mortal has become a master of magic.","The tower deems you worthy of a gift - a rune of meditation.","Keep climbing, defy your mortal fate and become something greater."],options:function(){return[U(p.kacadu_meditation_gift_3,{title:"Continue..."})]}}),kacadu_meditation_gift_3:x({slug:"kacadu_meditation_gift_3",title:e,description:"The streets are flooded with blinding light, coming straight from the tower.",messagesTitle:he.kacadu.getName(),messages:["*The voice slowly fades away and so does the blinding light*"],options:function(){return[Rt({title:"What the hell...?!",class:"enter",action:()=>{const t=c.get();t.tower_variables.kacadu_meditation_rune_gift_completed=!0,ee.commonMessage("Journal entry added (Travelers - Kacadu)"),S.add(u.rune_meditation,1);const n=S.getInventoryItem(u.rune_meditation);n.isHeirloom=!0,n.isDeletable=!1,Re(p.city)}})]}})}},fa="City",ma="Bustling with activity",_h=function(){return{...mh(fa,ma),...ph(fa),city:x({slug:"city",title:fa,description:ma,getDescription:function(){return Ce.isNight()?"Illuminated by the moonlight.":Ce.isEvening()?"Much quieter than during the day.":ma},options:function(){return[U(p.tower,{getIcon:()=>P("tower")}),U(p.training_grounds,{getIcon:()=>P("question_mark")}),U(p.adventurers_guild,{getIcon:()=>P("adventurers_guild")}),U(p.craftsman_district,{getIcon:()=>P("craftsman_district")}),U(p.home,{getIcon:()=>P("home")}),U(p.forest_clearing,{title:"Enter Forest",getIcon:()=>P("forest")})]},onEntry:()=>{const e=c.get();h.getRebirthCount()>0&&e.tower_variables.kathryn_first_meeting_completed===!1&&Re(p.kathryn_first_meeting),e.rebirth.runes===2&&e.tower_variables.kacadu_meditation_rune_gift_completed===!1&&Re(p.kacadu_meditation_gift)}})}},hh=function(){return{forest_clearing:x({slug:"forest_clearing",title:"Forest Clearing",description:"A small cabin can be seen in the distance",options:function(){return[U(p.forest_outskirts,{getIcon:()=>P("forest")}),U(p.forest_hunter_cabin,{getIcon:()=>P("hunter_cabin")}),U(p.forest_harvest_wood,{title:"Harvest Wood",getIcon:()=>P("wood")}),U(p.forest_gather_herbs_basic,{title:"Gather Herbs",getIcon:()=>P("herb")}),M(this,p.city)]}}),forest_harvest_wood:x({slug:"forest_harvest_wood",title:"Forest Outskirts",description:"Close to the clearing, safe area to gather some wood.",options:function(){return[M(this,p.forest_clearing)]},onEntry:()=>q.start(Ae.forest_harvest_wood),onLeave:()=>{q.stop(),ue.itemIsEquipped(u.felling_axe,!0)&&A.getHp()<=0&&bt.unlockAchievement(Mt.felling_axe_resonance)}}),forest_gather_herbs_basic:x({slug:"forest_gather_herbs_basic",title:"Forest Outskirts",description:"Close to the clearing, safe area to gather some very basic herbs... among the thousands of weeds.",options:function(){return[M(this,p.forest_clearing)]},onEntry:()=>q.start(Ae.forest_gather_herbs_basic),onLeave:()=>q.stop()})}},yh=function(){return{forest_outskirts:x({slug:"forest_outskirts",title:"Forest Outskirts",description:"Close to the clearing, pretty safe area with some small game.",options:function(){return[U(p.forest_depths,{title:"Go deeper",getIcon:()=>P("forest"),isVisible:()=>c.get().variables.forest_outskirts_hunt_completed}),Qe(p.forest_outskirts_hunt,{title:"Hunt"}),Qe(p.forest_outskirts_hunt_endless,{title:"Hunt indefinitely",isVisible:()=>c.get().variables.forest_outskirts_hunt_completed}),M(this,p.forest_clearing)]}}),forest_outskirts_hunt:x({slug:"forest_outskirts_hunt",title:"Forest Outskirts",description:"Close to the clearing, pretty safe area with some small game.",options:function(){return[M(this,p.forest_outskirts)]},onEntry:()=>q.start(Ae.forest_outskirts_hunt),onLeave:()=>q.stop()}),forest_outskirts_hunt_finished:x({slug:"forest_outskirts_hunt_finished",title:"Forest Outskirts",description:"Close to the clearing, pretty safe area with some small game.",messages:["Having hunted for a while, you consider going deeper into the woods."],options:function(){return[U(p.forest_depths,{title:"Go deeper",getIcon:()=>P("forest")}),M(this,p.forest_outskirts,{title:"Leave"})]}}),forest_outskirts_hunt_endless:x({slug:"forest_outskirts_hunt_endless",title:"Forest Outskirts",description:"Close to the clearing, pretty safe area with some small game.",options:function(){return[M(this,p.forest_outskirts)]},onEntry:()=>q.start(Ae.forest_outskirts_hunt_endless),onLeave:()=>q.stop()})}},vh=function(){const e=c.get();return[U(p.lomsi_first_meeting_hunting_cabin,{title:"Talk to Lomsi",getIcon:()=>P("talk"),isVisible:()=>e.tower_variables.lomsi_bear_cave_meeting_completed&&!e.tower_variables.lomsi_hunting_cabin_meeting_completed})]},wh=function(e,t){return{lomsi_first_meeting_hunting_cabin:x({slug:"lomsi_first_meeting_hunting_cabin",title:e,description:t,messagesTitle:he.lomsi.getName(),messages:["Hey. So, as I already said, I am a hunter and a traveler. I usually stay here in the evening. The other hunter does not speak much, which suits me.","Anyway, I am primarily a hunter, obsessed with collecting cards. Once you get a monster card, you learn everything there is about the monster, and that feeling is extremely satisfying to me."],options:function(){return[U(p.lomsi_first_meeting_hunting_cabin_2,{title:"What does that have to do with me?"})]}}),lomsi_first_meeting_hunting_cabin_2:x({slug:"lomsi_first_meeting_hunting_cabin_2",title:e,description:t,messagesTitle:he.lomsi.getName(),getMessages:()=>["Ah, the short version of the story... of course.","I am collecting cards, compiling all the information I learn into books and selling those to other hunters and climbers.","You could either look for a card yourself to get the information, or simply just read a book. This way you would learn not only about the monster, but its card as well, all without going through days of hunting.","I am also constantly enriching my catalogue as I collect cards, so check with me from time to time as you climb.","And a free tip from hunter to hunter: you might have more luck gathering certain items, or maybe even cards, if you are wearing specific equipment. The exact details are for you to figure out, but I already told you about the hunting bow and a bear. Unfortunately, you do not learn this from a card.","Happy hunting, and do check my wares!"],options:function(){return[Rt({title:"Leave",class:"leave",action:()=>{const n=c.get();n.tower_variables.lomsi_hunting_cabin_meeting_completed=!0,ee.commonMessage("Journal entry added (Travelers - Lomsi)"),Re(p.forest_hunter_cabin)},getIcon:function(){return P("leave")}})]}})}},kh=function(){if(!Ce.isEvening())return[];const e=c.get();return[U(p.lomsi_shop_buy,{title:"Buy books from Lomsi",class:"buy",getIcon:()=>P("buy"),isVisible:()=>e.tower_variables.lomsi_hunting_cabin_meeting_completed})]},bh=function(){return{lomsi_shop_buy:Bn({slug:"lomsi_shop_buy",title:"Lomsi's Hunting Books",description:"Neatly stacked books are in front of you...",messages:["A wolf, rabbit, bear?"],options:function(){return[M(this,p.forest_hunter_cabin)]},getShopItems:function(){const e=c.get();let t=[C(u.bestiary_book_training_dummy,500),C(u.bestiary_book_rat,500),C(u.bestiary_book_tree,500),C(u.bestiary_book_weed,500),C(u.bestiary_book_chicken,500),C(u.bestiary_book_rabbit,500),C(u.bestiary_book_mountain_goat,500),C(u.bestiary_book_warthog,500),C(u.bestiary_book_wolf,500),C(u.bestiary_book_bear,500),C(u.bestiary_book_bat,500),C(u.bestiary_book_spider,500),C(u.bestiary_book_iron_vein,500)];return e.tower_variables.floor2_unlocked&&(t=[...t,C(u.bestiary_book_slime,500),C(u.bestiary_book_slime_water,500),C(u.bestiary_book_slime_fire,500),C(u.bestiary_book_slime_earth,500),C(u.bestiary_book_slime_wind,500)]),e.tower_variables.floor3_unlocked&&(t=[...t,C(u.bestiary_book_slime_holy,500),C(u.bestiary_book_slime_shadow,500)]),e.tower_variables.floor4_unlocked&&(t=[...t,C(u.bestiary_book_slimer,500),C(u.bestiary_book_slimer_water,500),C(u.bestiary_book_slimer_fire,500),C(u.bestiary_book_slimer_earth,500),C(u.bestiary_book_slimer_wind,500)]),e.tower_variables.floor5_unlocked&&(t=[...t,C(u.bestiary_book_slimer_holy,500),C(u.bestiary_book_slimer_shadow,500)]),e.tower_variables.floor6_unlocked&&(t=[...t,C(u.bestiary_book_slimelord,500),C(u.bestiary_book_slimelord_water,500),C(u.bestiary_book_slimelord_fire,500),C(u.bestiary_book_slimelord_earth,500),C(u.bestiary_book_slimelord_wind,500),C(u.bestiary_book_slimelord_holy,500),C(u.bestiary_book_slimelord_shadow,500)]),t}})}},pa="Hunter's Cabin",_a="The walls are decorated by hunting trophies.",Eh=function(){return{...wh(pa,_a),...bh(),forest_hunter_cabin:x({slug:"forest_hunter_cabin",title:pa,description:_a,messages:["Hello there, anything you need?"],options:function(){return[U(p.forest_hunter_cabin_tips,{title:"Ask about the whereabouts",getIcon:()=>P("talk")}),...vh(),...kh(),M(this,p.forest_clearing)]}}),forest_hunter_cabin_tips:x({slug:"forest_hunter_cabin_tips",title:pa,description:_a,messages:["Well, you are in a forest, you can get a lot of useful things here.","Meat, hides, bones and wood can all be obtained here.","But don't go in too deep, some of the creatures in the depths are really dangerous. There have even been sightings of a huge bear..."],options:function(){return[M(this,p.forest_hunter_cabin)]}})}},Ih=function(){return{forest_depths:x({slug:"forest_depths",title:"Forest Depths",description:"Dangerous beasts lurk around.",options:function(){return[U(p.forest_cave,{getIcon:()=>P("cave"),isVisible:()=>c.get().variables.forest_depths_hunt_completed}),U(p.forest_mine,{getIcon:()=>P("mine"),isVisible:()=>c.get().variables.forest_depths_hunt_completed}),Qe(p.forest_depths_hunt,{title:"Hunt"}),Qe(p.forest_depths_hunt_endless,{title:"Hunt indefinitely",isVisible:()=>c.get().variables.forest_depths_hunt_completed}),M(this,p.forest_outskirts)]}}),forest_depths_hunt:x({slug:"forest_depths_hunt",title:"Forest Depths",description:"Dangerous beasts lurk around.",options:function(){return[M(this,p.forest_depths)]},onEntry:()=>q.start(Ae.forest_depths_hunt),onLeave:()=>q.stop()}),forest_depths_hunt_finished:x({slug:"forest_depths_hunt_finished",title:"Forest Depths",description:"Dangerous beasts lurk around.",messages:["You see a cave ahead, you have a bad feeling about it...","There is also a mine entrance not far on the other side."],options:function(){return[U(p.forest_cave,{getIcon:()=>P("cave")}),U(p.forest_mine,{getIcon:()=>P("mine")}),M(this,p.forest_depths,{title:"Leave"})]}}),forest_depths_hunt_endless:x({slug:"forest_depths_hunt_endless",title:"Forest Depths",description:"Dangerous beasts lurk around.",options:function(){return[M(this,p.forest_depths)]},onEntry:()=>q.start(Ae.forest_depths_hunt_endless),onLeave:()=>q.stop()})}},Jl="Cave",zl="The bear lays dead, but someone is behind you...",Sh=function(){return{lomsi_first_meeting_bear_cave:x({slug:"lomsi_first_meeting_bear_cave",title:Jl,description:zl,messagesTitle:he.lomsi.getName(),messages:["Oh... seems like you have beat me to it.","And you are bleeding. Here, let me bandage that for you."],options:function(){return[U(p.lomsi_first_meeting_bear_cave_2,{title:"Thank you, who are you?"})]},onEntry:()=>{S.add(u.bandage,1,!0);const e=S.getInventoryItem(u.bandage);S.useInventoryItem(e)}}),lomsi_first_meeting_bear_cave_2:x({slug:"lomsi_first_meeting_bear_cave_2",title:Jl,description:zl,messagesTitle:he.lomsi.getName(),getMessages:()=>["Lomsi.","A hunter and also a traveler, whether you know what that means or not is of no importance.",ue.itemIsEquipped(u.hunting_bow)?"Seems like you had the foresight to use a hunting bow against the beast, preserving the pelt intact. Not bad.":"What a waste though, its pelt is ruined. You should have used a hunting bow to avoid damaging the pelt.","Since you have hunted the beast, you might be worth a chat. If you share that sentiment, meet me in the Hunter's Cabin.","Don't die."],options:function(){return[Rt({title:"Leave",class:"leave",action:()=>{const e=c.get();e.tower_variables.lomsi_bear_cave_meeting_completed=!0,ee.commonMessage("Journal entry added (Travelers - Lomsi)"),Re(p.forest_depths)},getIcon:function(){return P("leave")}})]}})}},xh=function(){return{...Sh(),forest_cave:x({slug:"forest_cave",title:"Cave",description:"A huge bear is in the middle of the cave.",options:function(){return[Qe(p.forest_cave_hunt,{title:"Fight the bear"}),M(this,p.forest_depths,{title:"Run away"})]}}),forest_cave_hunt:x({slug:"forest_cave_hunt",title:"Cave",description:"A huge bear is in the middle of the cave.",options:function(){return[M(this,p.forest_depths,{title:"Run away"})]},onEntry:()=>q.start(Ae.forest_cave_hunt),onLeave:()=>q.stop()}),forest_cave_hunt_finished:x({slug:"forest_cave_hunt_finished",title:"Cave",description:"A few bones lay here and there.",messages:["The large beast lays motionlessly."],options:function(){return[M(this,p.forest_depths,{title:"Leave"})]}})}},Mh=function(){const e=c.get(),t=e.variables.mine_man_first_meeting?[U(p.forest_mine_first_talk,{title:"Talk to the man",getIcon:()=>P("talk")})]:[],n=e.variables.mine_man_available?[U(p.forest_mine_repeatable_talk,{title:"Talk to the man",getIcon:()=>P("talk")})]:[];return[...t,...n]},Rh=function(){return{forest_mine_first_talk:x({slug:"forest_mine_first_talk",title:"Abandoned Mine",description:"Torches of magical nature line the walls, providing dim light.",messages:["Hello there, here to get some ore?","I would advise you to turn around, this place is infested with annoying critters. They don't seem like much, but they are quite dangerous...","You know what, I have mined quite a bit and have some extras, you can have them. I come here quite often, about every 3 days I'd say. If you need some ores but are unable to get them yourself, just come here later and I'll share.","Of course, if you need more then you are going to have to get them yourself, I wish you the best of luck!"],options:function(){return[M(this,p.forest_mine,{simple:!0})]},onEntry:()=>{S.add(u.iron_ore,5),c.get().variables.mine_man_first_meeting=!1,Ur.schedule(Fr.mine_man_reset,3)}}),forest_mine_repeatable_talk:x({slug:"forest_mine_repeatable_talk",title:"Abandoned Mine",description:"Torches of magical nature line the walls, providing dim light.",messages:["Nice to see you again! Here for more ore?","You can have these. If you need even more then I wish you the best of luck!"],options:function(){return[M(this,p.forest_mine,{simple:!0})]},onEntry:()=>{S.add(u.iron_ore,5),c.get().variables.mine_man_available=!1,Ur.schedule(Fr.mine_man_reset,3)}})}},Th=function(){return{...Rh(),forest_mine:x({slug:"forest_mine",title:"Abandoned Mine",description:"A man stands not far inside the mine.",getDescription:function(){const e=c.get();return e.variables.mine_man_first_meeting||e.variables.mine_man_available?this.description:"No sign of the generous man..."},options:function(){return[...Mh(),Qe(p.forest_mine_hunt,{title:"Go deeper"}),Qe(p.forest_mine_hunt_endless,{title:"Go deeper (infinite)",isVisible:()=>c.get().variables.forest_mine_hunt_completed}),M(this,p.forest_depths)]}}),forest_mine_hunt:x({slug:"forest_mine_hunt",title:"Abandoned Mine",description:"Infested with dangerous critters.",options:function(){return[M(this,p.forest_mine,{simple:!0})]},onEntry:()=>q.start(Ae.forest_mine_hunt),onLeave:()=>q.stop()}),forest_mine_hunt_endless:x({slug:"forest_mine_hunt_endless",title:"Abandoned Mine",description:"Infested with dangerous critters.",options:function(){return[M(this,p.forest_mine,{simple:!0})]},onEntry:()=>q.start(Ae.forest_mine_hunt_endless),onLeave:()=>q.stop()}),forest_mine_hunt_finished:x({slug:"forest_mine_hunt_finished",title:"Abandoned Mine",description:"Ore veins are visible in the dim light.",options:function(){return[U(p.forest_mine_ore,{title:"Mine Ore",getIcon:()=>P("iron_ore")}),M(this,p.forest_mine,{title:"Leave"})]}}),forest_mine_ore:x({slug:"forest_mine_ore",title:"Abandoned Mine",description:"Ore veins are visible in the dim light.",options:function(){return[M(this,p.forest_mine_hunt_finished,{title:"Leave"})]},onEntry:()=>q.start(Ae.forest_mine_ore),onLeave:()=>q.stop()})}},$h=function(){return{...hh(),...Eh(),...yh(),...Ih(),...Th(),...xh()}},p={..._h(),...w_(),...fh(),...C_(),...q_(),...F_(),...$h()},ha=new Yp,et={interval:null,loopRunning:!1,cardDropRate:.01,run:function(){c.load(),ha.onmessage=et.loop;const e=c.get();ha.postMessage({action:e.tickSpeed===0?"pause":"set-speed",value:e.tickSpeed})},loop:function(){const e=c.get();et.loopRunning||(et.loopRunning=!0,Ur.runScheduled(),Ve.generateNewGuildQuests(),q.running()&&q.handleCombat(),A.handleRegen(),we.handleRegen(),A.tickStatusEffects(),we.tickStatusEffects(),S.tickCooldowns(),Ve.clearExpired(),bt.checkAchievementUnlockConditions(),dn.running()&&dn.tickReading(),e.elapsedTime+=e.gameSpeed,ee.separatorMessage(),e.scene===p.bed.slug&&rt.sleeping(e.gameSpeed),c.save(),e.shouldUpdateWorker&&et.updateWorker(),et.loopRunning=!1)},updateWorker:function(){const e=c.get();ha.postMessage({action:e.tickSpeed===0?"pause":"set-speed",value:e.tickSpeed})}},yu=4*28*24*60,vu=yu/4,Dr=vu/28,Po=Dr/24,Dh=4,Ch=28,Xl=24,Zl=60,Hh=500,Ph=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ce={getTimeString:function(e){e=e||c.get().elapsedTime;let t=Math.floor(e/yu)+Hh,n=Math.floor(e/vu)%Dh+1,s=Ce.getDay(e)+1,o=(Math.floor(e/Po)%Xl).toString().padStart(2,"0"),a=(e%Zl).toString().padStart(2,"0");return`${t}/${n}/${s} ${o}:${a}`},getDateString:function(e){return Ce.getTimeString(e).split(" ")[0]},getTimeIcon:function(){if(Ce.isMorning())return"morning";if(Ce.isAfternoon())return"day";if(Ce.isEvening())return"evening";if(Ce.isNight())return"night"},getDayString:function(){let e=Ce.getDay()%7;return Ph[e]},getDay:function(e){return e=e||c.get().elapsedTime,Math.floor(e/Dr)%Ch},getHour:function(){let e=c.get().elapsedTime;return Math.floor(e/Po)%Xl},getMinute:function(){return c.get().elapsedTime%Zl},getDaysInUnits:function(e){return e*Dr},isNthDay:function(e){return Ce.getDay()%e===0},convertTimeToDays:function(e){return e/Dr},isMorning:function(){let e=Ce.getHour();return e>=6&&e<=12},isAfternoon:function(){let e=Ce.getHour();return e>=13&&e<=17},isEvening:function(){let e=Ce.getHour();return e>=18&&e<=21},isNight:function(){let e=Ce.getHour();return e>=22||e<=5},getTicksToMorning:function(){let e=Ce.getHour(),t=Ce.getMinute();return e>=6?Po*(24-e)+Po*6-t:Po*(6-e)-t},setMorning:function(){const e=c.get(),t=Ce.getTicksToMorning();e.elapsedTime+=t},pauseGame:function(){c.get().tickSpeed=0,c.get().shouldUpdateWorker=!0},setSpeed:function(e){const t=c.get(),n=t.tickSpeed===0,s=1e3/e;t.tickSpeed=s,t.shouldUpdateWorker=!0,n&&et.loop()}},Ah={__name:"ItemName",props:{inventoryItem:{default:null},item:{default:!0},arrows:{default:!1}},setup(e){const t=e,n=R(()=>{var a;let s=t.inventoryItem?ze.getName(t.inventoryItem):t.item.getName(),o=t.inventoryItem&&S.getItem(t.inventoryItem).isEquip?t.inventoryItem.rank:null;return o&&(s=Nt(s,o,(a=t.inventoryItem)==null?void 0:a.isAwakened)),s});return(s,o)=>(g(),m("span",null,[e.arrows?(g(),m(B,{key:0},[ne("<"+H(n.value)+">",1)],64)):(g(),m(B,{key:1},[ne(H(n.value),1)],64))]))}},Tt=Q(Ah,[["__scopeId","data-v-3a7c10bd"]]),rr=e=>(lt("data-v-e1baa532"),e=e(),ct(),e),Bh=["innerHTML"],qh={class:"descriptions"},Fh=["innerHTML"],Uh={key:1,class:"description requirements"},Lh=rr(()=>l("div",{class:"corner-title"},"Requirements",-1)),Oh={key:2,class:"description rewards c-success"},Wh=rr(()=>l("div",{class:"corner-title"},"Rewards",-1)),Gh={key:3,class:"description failure c-danger"},Kh=rr(()=>l("div",{class:"corner-title"},"Failure Consequences",-1)),jh={key:4,class:"description deadline c-danger"},Nh=rr(()=>l("div",{class:"corner-title"},"Deadline",-1)),Vh={key:5,class:"description deadline c-danger"},Qh=rr(()=>l("div",{class:"corner-title"},"Time Limit",-1)),Yh=["innerHTML"],Jh={__name:"QuestTooltip",setup(e){return(t,n)=>(g(),m(B,null,[l("div",{class:"title",innerHTML:r(Nt)(r(w).props.title,r(w).props.rank)},null,8,Bh),l("div",qh,[r(w).props.descriptions.description?(g(),m("div",{key:0,class:"description",innerHTML:r(w).props.descriptions.description},null,8,Fh)):T("",!0),r(w).props.descriptions.requirements?(g(),m("div",Uh,[Lh,(g(!0),m(B,null,oe(r(w).props.descriptions.requirements,s=>(g(),m("div",null,[ne(H(s.amount)+"x ",1),J(Tt,{arrows:!0,item:s.requirement},null,8,["item"])]))),256))])):T("",!0),r(w).props.descriptions.rewards?(g(),m("div",Oh,[Wh,(g(!0),m(B,null,oe(r(w).props.descriptions.rewards,s=>(g(),m("div",null,[s.type===r(ke).item?(g(),m(B,{key:0},[ne(H(s.amount)+"x ",1),J(Tt,{arrows:!0,item:s.item},null,8,["item"])],64)):T("",!0),s.type===r(ke).money?(g(),m(B,{key:1},[ne("+ "),J(Vn,{money:s.amount},null,8,["money"])],64)):T("",!0),s.type===r(ke).reputation?(g(),m(B,{key:2},[ne("+ "+H(s.amount)+" Reputation",1)],64)):T("",!0),s.type===r(ke).experience?(g(),m(B,{key:3},[ne("+ "+H(s.amount)+" EXP",1)],64)):T("",!0)]))),256))])):T("",!0),r(w).props.descriptions.failureConsequences?(g(),m("div",Gh,[Kh,(g(!0),m(B,null,oe(r(w).props.descriptions.failureConsequences,s=>(g(),m("div",null,[s.type===r(tr).money?(g(),m(B,{key:0},[ne("- "+H(s.amount)+" Money",1)],64)):T("",!0),s.type===r(tr).reputation?(g(),m(B,{key:1},[ne("- "+H(s.amount)+" Reputation",1)],64)):T("",!0)]))),256))])):T("",!0),r(w).props.deadline?(g(),m("div",jh,[Nh,ne(" "+H(r(Ce).getTimeString(r(w).props.deadline)),1)])):T("",!0),!r(w).props.deadline&&r(w).props.timeLimit?(g(),m("div",Vh,[Qh,ne(" "+H(r(w).props.timeLimit)+" Days ",1)])):T("",!0),r(w).props.descriptions.type?(g(),m("div",{key:6,class:"description",innerHTML:r(w).props.descriptions.type},null,8,Yh)):T("",!0)])],64))}},zh=Q(Jh,[["__scopeId","data-v-e1baa532"]]),Xh=function(e){let t=e.length,n;for(;t>0;)n=Math.floor(Math.random()*t),t--,[e[t],e[n]]=[e[n],e[t]];return e},Ve={rankReputationMapping:{G:0,F:10,E:100,D:200,C:300,B:400,A:500,S:600},questGenerationCount:6,questGenerationInterval:3,running:function(e){return c.get().quests[e.slug]},getTooltipProps:function(e){return{component:le(zh),title:e.name,deadline:e.expiresAt,timeLimit:e.timeLimit,descriptions:{description:e.description,requirements:e.getRequirements(),rewards:e.getRewards(),failureConsequences:e.getFailureConsequences(),type:"Quest"}}},requirementsMet:function(e){return e.getRequirements().every(t=>S.getCleanInventoryItems(t.requirement).reduce((o,a)=>o+=a.amount,0)>=t.amount)},removeRequiredItemsFromInventory:function(e){e.getRequirements().forEach(t=>{let n=S.getCleanInventoryItems(t.requirement);if(t.requirement.isEquip){for(let s=0;s<t.amount;s++)S.remove(n[s],1);return}S.remove(n[0],t.amount)})},giveCompletionRewards:function(e){const t=c.get();e.getRewards().forEach(n=>{switch(n.type){case ke.item:S.add(n.item,n.amount);break;case ke.money:A.addMoney(n.amount),ee.moneyMessage(n.amount);break;case ke.reputation:t.reputation+=n.amount,ee.commonMessage("+ "+n.amount+" reputation.");break;case ke.experience:A.gainExp(n.amount);break}})},startGuildQuest:function(e){const t=c.get();if(Ve.running(e)){ee.commonMessage("You already have this quest","c-danger");return}delete t.availableGuildQuests[e.slug],t.quests[e.slug]={expiresAt:t.elapsedTime+Ce.getDaysInUnits(e.timeLimit)},w.visible=!1},finishGuildQuest:function(e){Ve.requirementsMet(e)&&(rt.questFinished(),Ve.removeRequiredItemsFromInventory(e),Ve.giveCompletionRewards(e),delete c.get().quests[e.slug],w.visible=!1)},getAvailableQuests:function(){let e=[];return Object.keys(c.get().availableGuildQuests).forEach(t=>{e.push(ys[t])}),e},getAcceptedQuests:function(){const e=c.get();return Object.keys(e.quests).length===0?[]:Object.keys(e.quests).map(t=>({...ys[t],expiresAt:e.quests[t].expiresAt}))},clearExpired:function(){const e=c.get();Object.keys(e.quests).forEach(t=>{e.quests[t].expiresAt<=e.elapsedTime&&(Ve.handleFailureConsequences(ys[t]),delete e.quests[t])})},handleFailureConsequences:function(e){const t=c.get();e.getFailureConsequences().forEach(n=>{n.type===tr.reputation&&(t.reputation=fn(t.reputation-n.amount,0),ee.commonMessage("Quest expired. Lost "+n.amount+" reputation.","c-danger"))})},getNextQuestsAtString:function(){const t=c.get().lastQuestGeneratedAt+Ce.getDaysInUnits(Ve.questGenerationInterval);return Ce.getTimeString(t)},generateNewGuildQuests:function(){const e=c.get();if(e.lastQuestGeneratedAt!==void 0&&Ce.convertTimeToDays(e.elapsedTime-e.lastQuestGeneratedAt)<Ve.questGenerationInterval)return;e.availableGuildQuests={};const t=ys.woodworker_twigs.slug;e.availableGuildQuests[t]=t,Object.keys(Ve.rankReputationMapping).map(n=>{const s=Object.keys(ys).filter(a=>ys[a].rank===n&&ys[a].slug!==t);Xh(s),s.slice(0,n==="G"?Ve.questGenerationCount-1:Ve.questGenerationCount).forEach(a=>e.availableGuildQuests[a]=a)}),e.lastQuestGeneratedAt=e.elapsedTime,ee.commonMessage("There are new quests available in the Adventurers' Guild.")},rankUnlocked:function(e){return c.get().reputation>=Ve.rankReputationMapping[e]}},ko={running:function(){return c.get().activeQuestFinishing},start:function(){c.get().activeQuestFinishing=!0},stop:function(){c.get().activeQuestFinishing=!1},getAvailableQuests:function(){return Ve.getAcceptedQuests().filter(e=>Ve.running(e)&&Ve.requirementsMet(e))}},dn={running:function(){return!!c.get().activeReading},start:function(e){const t=c.get();if(St.running()||q.running()||Ge.running()||An.running()||Gn.running()||ko.running()||Se.running()){ee.commonMessage("Cannot do that while doing another action (reading, fighting, crafting, shopping,...).","c-danger");return}if(e.id===t.activeReading){dn.stop();return}t.activeReading=e.id},stop:function(){c.get().activeReading=null,O()},getCurrentReadingInventoryItem:function(){return S.getInventoryItemById(c.get().activeReading)},tickReading:function(){let e=S.getInventoryItemById(c.get().activeReading);if(e.readingDuration=fn(at(e.readingDuration-1*(1+A.getStudyingSpeed()/100)),0),ie.gainExp(K.studying,1),e.readingDuration<=0){let t=S.getItem(e);e.readingDuration=t.readingDuration,S.remove(e,1),t.doneReading(),dn.stop(),rt.readableRead()}}},St={running:function(){return c.get().activeEnchant!==null},start:function(e){if(dn.running()||q.running()||Ge.running()||An.running()||Gn.running()||ko.running()||Se.running()){ee.commonMessage("Cannot do that while doing another action (reading, fighting, crafting, shopping,...).","c-danger");return}if(e.id===c.get().activeEnchant){St.stop();return}c.get().activeEnchant=e.id},stop:function(){c.get().activeEnchant=null},applyEnchant:function(e,t,n){let s=St.getSlottedEnchantItem(e,t),o=St.getActiveEnchantInventoryItem();e.enchantSlots[t]=o.slug,!n&&(S.remove(o,1),c.get().activeEnchant=null,rt.enchantApplied(S.getItem(o),s))},getEnchantingSlotsCount:function(e){let t=S.getItem(e);return e.isAwakened?t.awakenedEnchantSlotsCount:t.enchantSlotsCount},getSlottedEnchantItem:function(e,t){let n=e.enchantSlots[t];return n?u[n]:null},getActiveEnchantInventoryItem:function(){return S.getInventoryItemById(c.get().activeEnchant)},getEnchantingEligibleInventoryItems:function(){return S.getRaw().filter(e=>!e.isEquipped&&St.getEnchantingSlotsCount(e)>0)},fakeEnchantedInventoryItem:function(e,t){let n=structuredClone(e);return St.applyEnchant(n,t,!0),n}},ze={isClean:function(e){return e.exp===0&&e.rank===0&&e.enchantSlots.length===0&&e.isEquipped===!1&&e.isFavorite===!1&&e.isHidden===!1&&e.isHeirloom===!1},getTooltipProps:function(e){if(!e)return;let t=S.getItem(e),n=t.getTooltipProps({rank:e.rank,isAwakened:e.isAwakened});return n.inventoryItemId=e.id,t.isEquip&&(n.descriptions.enchants=ze.getEnchantTooltipDescriptions(e),n.exp=e.exp,n.maxExp=t.getExpForRank(e.rank)??1,n.maxed=e.rank===ue.maxRank),e.startedAwakening&&(n.startedAwakening=!0,n.awakeningExp=e.awakeningExp,n.requiredAwakeningExp=t.requiredAwakeningExp,n.isAwakened=e.isAwakened),n},updateTooltip:function(e){w.visible&&w.props.inventoryItemId===e.id&&Lr(ze.getTooltipProps(e))},getEnchantTooltipDescriptions:function(e){let t=[],n=St.getEnchantingSlotsCount(e);for(let s=0;s<n;s++){let o=e.enchantSlots[s];if(!o){t.push({title:"<span class='c-gray'>Empty enchant slot</span>"});continue}let a=u[o];t.push({title:yv(a.getName()),descriptions:a.getEffects().map(d=>d.effect.getDescription(ue.getRankEffectModifier(d.value,e.rank)))})}return t},getEffects:function(e){let t=S.getItem(e);return e.isAwakened?t.getAwakenedEffects():t.getEffects()},getName:function(e){let t=S.getItem(e);return e.isAwakened?t.awakenedName:t.getName()},setHotkey:function(e,t){e.hotkey=t},clearHotkey:function(e){S.getRaw().forEach(t=>t.hotkey=t.hotkey===e?null:t.hotkey)},useHotkeyInventoryItem:function(e){const t=S.getRaw().find(n=>n.hotkey===e);t&&S.useInventoryItem(t)}},ie={maxLevel:99,maxRank:Io.length-1,getLearnedSkills:function(){const e=c.get();return Object.values(K).filter(t=>e.learnedSkills.includes(t.slug))},getLevel:function(e){return ie.getSkillState(e).level},getExp:function(e){return ie.getSkillState(e).exp},getSkillState:function(e){return c.get().skills[e.slug]},isMaxLevel:function(e){return ie.getSkillState(e).level>=ie.getMaxLevel(e)},getMaxLevel:function(e){return at(ie.maxLevel*(ie.getRank(e)+1)/(ie.maxRank+1),0)},getPerkIdentifier:function(e,t){return`${e.slug}_${t.level}`},gainExp:function(e,t){ie.isMaxLevel(e)||(ie.getSkillState(e).exp+=at(t*(1+A.getSkillExpModifier(e.slug)/100),2),ie.handleLevelUp(e),ie.updateTooltip(e),ie.updateItemTooltip(e))},handleLevelUp:function(e){let t=ie.getExpToNextLevel(e);ie.getSkillState(e).exp<t||ie.isMaxLevel(e)||(ie.onLevelUp(e,t),ie.handleLevelUp(e),rt.skillLevelUp(e))},onLevelUp:function(e,t){const n=c.get();let s=ie.getSkillState(e);s.level++,s.level===1&&!n.learnedSkills.includes(e.slug)&&n.learnedSkills.push(e.slug),s.exp=s.exp-t,ee.skillMessage(e),ie.applySkillEffects(e)},applySkillEffects:function(e){const t=c.get(),n=ie.getSkillState(e);e.getEffects().forEach(s=>{s.effect.up(c.get().player,s.value*n.level,e.slug,"skill")}),e.perks.forEach((s,o)=>{s.level<=n.level&&(t.tower_variables.skillPerksUnlocked[ie.getPerkIdentifier(e,s)]=!0,s.getEffects().forEach(a=>{a.effect.up(c.get().player,a.value,`${e.slug}_${o}`,"perk")}))})},getExpToNextLevel:function(e){return e.getExpForLevel(ie.getSkillState(e).level)},getTooltipProps:function(e){return{component:le(jp),skillSlug:e.slug,title:e.name,exp:ie.getExp(e),maxExp:ie.getExpToNextLevel(e),maxed:ie.isMaxLevel(e),rank:ie.getRank(e),descriptions:{description:e.description,effects:ie.getEffectDescriptions(e),perks:ie.getPerkDescriptions(e),type:"Skill"}}},getEffectDescriptions:function(e){return e.getEffects().map(t=>t.effect.getDescription(t.value)+" per level")},getPerkDescriptions:function(e){let t=[];for(let n=0;n<e.perks.length;n++){const s=e.perks[n],o=`Level ${s.level}:`,d=c.get().tower_variables.skillPerksUnlocked[ie.getPerkIdentifier(e,s)],f=s.level<=ie.getSkillState(e).level;t.push({title:o,descriptions:d||f?s.getEffects().map(_=>_.effect.getDescription(_.value)):["???"],unlocked:f})}return t},isMaxRank:function(e){return ie.getRank(e)>=ie.maxRank},getRank:function(e){return ie.getSkillState(e).rank},updateTooltip:function(e){w.visible&&w.props.skillSlug===e.slug&&Lr(ie.getTooltipProps(e))},updateItemTooltip:function(){w.visible&&w.props.inventoryItemId!==void 0&&Lr(ze.getTooltipProps(S.getInventoryItemById(w.props.inventoryItemId)))}},ot=function(e){return{type:"spell",slug:e.slug,name:e.name,description:e.description,target:e.target||"enemy",caster:e.caster||"player",element:e.element||k.neutral,cost:e.cost,scaling:e.scaling||0,scalingPerRank:e.scalingPerRank||0,dealsDamage:e.dealsDamage??!0,getEffects:e.getEffects||function(){return[]},getTargetState:function(){const t=c.get();return this.target==="enemy"?t.combat.enemy:t.player},getCasterState:function(){const t=c.get();return this.caster==="enemy"?t.combat.enemy:t.player},getTargetController:function(){return this.target==="enemy"?we:A},getCasterController:function(){return this.caster==="enemy"?we:A},getScaling:function(t){return t?this.scaling+t*this.scalingPerRank:this.scaling},getCost:function(t){t=t||1;let n=this.cost*t;return this.caster==="player"&&(n=n*(1-this.getCasterController().getManaEfficiency()/100)),fn(at(n),0)},use:function(t,n){t=t===void 0?this.getCost():t;let s=this.getTargetState();if(s===null)return"no-target";let o=this.getCasterState();if(o.mp<t)return"no-mp";o.mp-=t;let a=q.getMagicalDamageDone(this.getCasterController(),this.getTargetController(),this.getScaling(n),this.element);return this.caster==="player"&&(rt.spellCast(this,t,n),ie.gainExp(K.mana_control,t),this.element.slug!=="neutral"&&ie.gainExp(K[this.element.slug+"_affinity"],1)),this.getEffects().forEach(d=>{d.effect.up(s,d.value,this.name)}),ee.spellMessage(this,o.name,t,n),this.dealsDamage?(ee.spellMessage(this,o.name,t,n,a),q.dealMagicalDamage(this.getTargetController(),a,this.element.slug)?"target-died":!0):!0},getTooltipProps:e.getTooltipProps||function(t,n){return{component:le(Pp),rank:t,title:this.name,cost:n||this.getCost(),element:this.element.slug,scaling:this.getScaling(t),descriptions:{description:this.description,effects:this.getEffectDescriptions(t),type:this.getTypeDescription()}}},getEffectDescriptions:function(t){return this.getEffects().map(n=>n.effect.getDescription(n.value))},getTypeDescription:e.getTypeDescription||function(){return"Spell"}}},Zh=function(){return{test_test:ot({slug:"test_test",name:"Kuro's Might",description:"Reject magic, accept monke.",target:"player",caster:"player",cost:0,getEffects:()=>[i.createMdef(50),i.createCritPower(50),i.createStrPercentage(10)]}),arcane_bolt:ot({slug:"arcane_bolt",name:"Arcane Bolt",description:"Condensed magic power in the form of damaging bolt.",cost:5,scaling:200,scalingPerRank:20}),arcane_blast:ot({slug:"arcane_blast",name:"Arcane Blast",description:"A more powerful version of the arcane bolt.",cost:10,scaling:250,scalingPerRank:50}),enemy_arcane_bolt:ot({slug:"enemy_arcane_bolt",name:"Arcane Bolt",description:"Condensed magic power in the form of damaging bolt.",target:"player",caster:"enemy",cost:5,scaling:200}),enemy_sharp_swipe:ot({slug:"enemy_sharp_swipe",name:"Maul",description:"A quick swipe with sharp claws.",target:"player",caster:"enemy",cost:1,dealsDamage:!1,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.bleeding,caster:"enemy",target:"player"})]}),enemy_poison_bite:ot({slug:"enemy_poison_bite",name:"Poison Bite",description:"A venomous bite.",target:"player",caster:"enemy",cost:1,dealsDamage:!1,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.poison,caster:"enemy",target:"player"})]}),enemy_tackle:ot({slug:"enemy_tackle",name:"Tackle",description:"Tackle.",target:"player",caster:"enemy",cost:1,dealsDamage:!1,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.stun,caster:"enemy",target:"player"})]}),enemy_impale:ot({slug:"enemy_impale",name:"Impale",description:"Dangerous attack with a pointy horn.",target:"player",caster:"enemy",scaling:200,cost:1}),enemy_silence:ot({slug:"enemy_silence",name:"Silence",description:"Silence.",target:"player",caster:"enemy",cost:1,dealsDamage:!1,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.silence,caster:"enemy",target:"player"})]}),enemy_second_wind:ot({slug:"enemy_second_wind",name:"Second Wind",description:"Recovers HP, MP and applies a powerful buff.",target:"enemy",caster:"enemy",cost:0,dealsDamage:!1,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.second_wind,caster:"enemy",target:"enemy"})]})}},ey=function(){return{fire_arrow:ot({slug:"fire_arrow",name:"Fire Arrow",description:"An arrow made of fire.",element:k.fire,cost:5,scaling:200,scalingPerRank:20}),fireball:ot({slug:"fireball",name:"Fireball",description:"Powerful ball of fire.",element:k.fire,cost:10,scaling:250,scalingPerRank:50,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.burning,caster:"player",target:"enemy"})]}),enemy_fire_arrow:ot({slug:"enemy_fire_arrow",name:"Fire Arrow",description:"An arrow made of fire.",target:"player",caster:"enemy",element:k.fire,cost:5,scaling:200}),enemy_fireball:ot({slug:"enemy_fireball",name:"Fireball",description:"Ball of fire. Burns stuff.",target:"player",caster:"enemy",element:k.fire,cost:10,scaling:250,scalingPerRank:50,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.burning,caster:"enemy",target:"player"})]})}},ty=function(){return{water_splash:ot({slug:"water_splash",name:"Water Splash",description:"Small-sized spray of water.",element:k.water,cost:5,scaling:200,scalingPerRank:20}),water_jet:ot({slug:"water_jet",name:"Water Jet",description:"Powerful stream of water.",element:k.water,cost:10,scaling:250,scalingPerRank:50,getEffects:()=>[]}),enemy_water_splash:ot({slug:"enemy_water_splash",name:"Water Splash",description:"Small-sized spray of water.",target:"player",caster:"enemy",element:k.water,cost:5,scaling:200})}},ny=function(){return{stone_bullet:ot({slug:"stone_bullet",name:"Stone Bullet",description:"Small rock flying at the speed of wind.",element:k.earth,cost:5,scaling:200,scalingPerRank:20}),rockfall:ot({slug:"rockfall",name:"Rockfall",description:"Hurls a large rock towards the enemy.",element:k.earth,cost:10,scaling:250,scalingPerRank:50,getEffects:()=>[]}),enemy_stone_bullet:ot({slug:"enemy_stone_bullet",name:"Stone Bullet",description:"Small rock flying at the speed of wind.",target:"player",caster:"enemy",element:k.earth,cost:5,scaling:200})}},sy=function(){return{wind_blast:ot({slug:"wind_blast",name:"Wind Blast",description:"Blast of wind, not very powerful.",element:k.wind,cost:5,scaling:200,scalingPerRank:20}),wind_cutter:ot({slug:"wind_cutter",name:"Wind Cutter",description:"Sharp blade of wind, quite dangerous.",element:k.wind,cost:10,scaling:250,scalingPerRank:50,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.bleeding,caster:"player",target:"enemy"})]}),enemy_wind_blast:ot({slug:"enemy_wind_blast",name:"Wind Blast",description:"Blast of wind, not very powerful.",target:"player",caster:"enemy",element:k.wind,cost:5,scaling:200})}},iy=function(){return{enemy_shadow_lock:ot({slug:"enemy_shadow_lock",name:"Shadow Lock",description:"Locks the enemy shadow in place, making them unable to act.",element:k.shadow,caster:"enemy",target:"player",cost:10,dealsDamage:!1,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.stun,caster:"enemy",target:"player",durationMultiplier:3})]}),enemy_shadow_bolt:ot({slug:"enemy_shadow_bolt",name:"Shadow Bolt",description:"Bolt made out of dark matter.",element:k.shadow,scaling:200,caster:"enemy",target:"player",cost:5}),enemy_shadow_burn:ot({slug:"enemy_shadow_burn",name:"Shadow Burn",description:"Burn the enemy's shadow.",element:k.shadow,caster:"enemy",target:"player",cost:10,dealsDamage:!1,getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.burning,caster:"enemy",target:"player",durationMultiplier:.5})]})}},ar=e=>(lt("data-v-fdc35caa"),e=e(),ct(),e),oy=["innerHTML"],ry={class:"descriptions"},ay={class:"description cost"},ly=ar(()=>l("span",{class:"c-mp"},"MP",-1)),cy={key:0},uy=["innerHTML"],dy={key:1,class:"description scaling"},gy=ar(()=>l("span",{class:"c-int"},"INT",-1)),fy=ar(()=>l("span",{class:"c-hp"},"HP",-1)),my=ar(()=>l("span",{class:"c-int"},"INT",-1)),py=ar(()=>l("span",{class:"c-mp"},"MP",-1)),_y={key:2,class:"description effects"},hy=["innerHTML"],yy={key:3,class:"description money"},vy={class:"description split"},wy=["innerHTML"],ky={class:"element"},by={__name:"RecoverySpellTooltip",setup(e){return(t,n)=>{var s;return g(),m(B,null,[l("div",{class:"title",innerHTML:r(Nt)(r(w).props.title,r(w).props.rank)},null,8,oy),l("div",ry,[l("div",ay,[l("span",null,[ne("Cost: "+H(r(w).props.cost)+" ",1),ly]),r(w).props.chance?(g(),m("span",cy," Chance: "+H(r(w).props.chance)+"% ",1)):T("",!0)]),r(w).props.descriptions.description?(g(),m("div",{key:0,class:"description",innerHTML:r(w).props.descriptions.description},null,8,uy)):T("",!0),r(w).props.scaling?(g(),m("div",dy,[r(w).props.recoveryStat==="hp"?(g(),m(B,{key:0},[ne(" Recovers "+H(r(w).props.scaling)+"% of ",1),gy,ne(" as "),fy],64)):(g(),m(B,{key:1},[ne(" Recovers "+H(r(w).props.scaling)+"% of ",1),my,ne(" as "),py],64))])):T("",!0),(s=r(w).props.descriptions.effects)!=null&&s.length?(g(),m("div",_y,[(g(!0),m(B,null,oe(r(w).props.descriptions.effects,o=>(g(),m("div",{innerHTML:o},null,8,hy))),256))])):T("",!0),r(w).props.price?(g(),m("div",yy,[J(Vn,{money:r(w).props.price},null,8,["money"])])):T("",!0),l("div",vy,[r(w).props.descriptions.type?(g(),m("div",{key:0,class:"",innerHTML:r(w).props.descriptions.type},null,8,wy)):T("",!0),l("div",ky,[l("span",{class:se("c-"+r(w).props.element)},H(r(He)(r(w).props.element)),3)])])]),r(w).props.maxExp?(g(),xe(nn,{key:0,label:"",value:r(w).props.maxed?1:r(w).props.exp,maxValue:r(w).props.maxed?1:r(w).props.maxExp,color:"item-rank",hideValues:!!r(w).props.maxed},null,8,["value","maxValue","hideValues"])):T("",!0)],64)}}},Ey=Q(by,[["__scopeId","data-v-fdc35caa"]]),ec=function(e){return{__proto__:ot(e),isRecovery:!0,recoveryStat:e.recoveryStat||"hp",use:function(t,n){t=t===void 0?this.getCost():t;let s=this.getTargetState();if(s===null)return"no-target";let o=this.getCasterState();if(o.mp<t)return"no-mp";o.mp-=t;let a=this.getCasterController(),d=a.getInt()*(this.getScaling(n)/100),f=q.willCrit(a)?2+a.getCritPower()/100:1,_=1+a.getElementPower(this.element.slug)/100,b=d*_*f;return s[this.recoveryStat]+=b,$s(s),this.caster==="player"&&(rt.spellCast(this,t,n),ie.gainExp(K.mana_control,t),this.element.slug!=="neutral"&&ie.gainExp(K[this.element.slug+"_affinity"],1)),this.getEffects().forEach(I=>{I.effect.up(s,I.value,this.name)}),ee.spellMessage(this,o.name,t,n),!0},getTooltipProps:e.getTooltipProps||function(t,n){return{component:le(Ey),rank:t,title:this.name,cost:n||this.getCost(),element:this.element.slug,scaling:this.getScaling(t),recoveryStat:this.recoveryStat,descriptions:{description:this.description,effects:this.getEffectDescriptions(t),type:this.getTypeDescription()}}},getTypeDescription:e.getTypeDescription||function(){return"Spell"}}},Iy=function(){return{heal:ec({slug:"heal",name:"Heal",description:"Basic healing spell.",element:k.holy,cost:5,scaling:100,scalingPerRank:10,recoveryStat:"hp",target:"player",caster:"player"}),meditation:ec({slug:"meditation",name:"Meditation",description:"Basic recovery spell.",element:k.holy,cost:0,scaling:10,scalingPerRank:1.25,recoveryStat:"mp",target:"player",caster:"player"}),enemy_holy_bolt:ot({slug:"enemy_holy_bolt",name:"Holy Bolt",description:"Bolt made out of holy energy.",element:k.holy,cost:5,scaling:200,caster:"enemy",target:"player"})}},ce={...Zh(),...ey(),...ty(),...ny(),...sy(),...iy(),...Iy()},rt={enemyKill:function(e){h.logEnemyKill(e),e.slug===ae.training_dummy.slug&&rt.handleTrainingDummiesKillCounting()},spellCast:function(e,t,n){h.logManaUsed(t),h.logSpellCast(e),rt.handleFireArrowCounting(e,n)},consumableUsed:function(e){e.isScroll&&(h.logScrollUsed(),bt.isUnlocked(Mt.novice_staff_resonance)||(c.get().variables.novice_staff_awakened_fire_arrow_counter=0)),e.isFood&&h.logFoodUsed(),e.isDrink&&h.logDrinkUsed(),e.isHealthPotion&&h.logHealthPotionUsed(),e.isManaPotion&&h.logManaPotionUsed()},readableRead:function(){h.logReadableRead()},playerDeath:function(){h.logDeathCount(),rt.handleNoviceStaffResonanceUnlockOrReset()},questFinished:function(){h.logQuestFinished()},sceneEntered:function(){h.logScenesEntered()},itemObtained:function(e,t){h.logItemsObtained(t),e.isCard&&h.logCardsObtained()},itemBought:function(e,t,n){h.logItemsBought(n)},enchantApplied:function(e,t){h.logEnchantsApplied(),t&&h.logEnchantsOverwritten()},statusEffectApplied:function(e,t){t==="player"?h.logStatusEffectReceived():h.logStatusEffectApplied()},recipeCrafted:function(e,t){h.logItemsCrafted(t)},skillLevelUp:function(e){h.logTotalSkillLevelUps()},moneyGained:function(e){h.logMoneyGained(e)},moneySpent:function(e){h.logMoneySpent(e)},sleeping:function(e){h.logSleepingTime(e)},statusEffectTick:function(e,t){const n=pe[t.statusEffect],s=je.extractCasterTypeFromStatusEffectState(t),o=(a,d)=>{const f=n.getEffects()[0].effect.getPower(e,s,t.identifier);e.type==="player"?a(f):d(f)};n.slug===pe.bleeding.slug&&o(h.logBleedingDamageReceived,h.logBleedingDamageDealt),n.slug===pe.poison.slug&&o(h.logPoisonDamageReceived,h.logPoisonDamageDealt),n.slug===pe.burning.slug&&o(h.logBurningDamageReceived,h.logBurningDamageDealt),n.slug===pe.stun.slug&&(e.type==="player"?h.logTimeSpentStunned():h.logAfflictedStunTime()),n.slug===pe.silence.slug&&(e.type==="player"?h.logTimeSpentSilenced():h.logAfflictedSilenceTime())},physicalDamageDealt:function(e,t,n){e==="player"?(h.logPhysicalDamageReceived(t),h.logElementalDamageReceived(t,n)):(h.logPhysicalDamageDealt(t),h.logElementalDamageDealt(t,n))},magicalDamageDealt:function(e,t,n){e==="player"?(h.logMagicalDamageReceived(t),h.logElementalDamageReceived(t,n)):(h.logMagicalDamageDealt(t),h.logElementalDamageDealt(t,n))},rebirth:function(){h.logRebirthCount()},handleFireArrowCounting:function(e,t){t===void 0||bt.isUnlocked(Mt.novice_staff_resonance)||!rt.holdsAwakenedWeapon(u.novice_staff)||e.slug!==ce.fire_arrow.slug||c.get().variables.novice_staff_awakened_fire_arrow_counter++},handleNoviceStaffResonanceUnlockOrReset:function(){if(bt.isUnlocked(Mt.novice_staff_resonance)||!rt.holdsAwakenedWeapon(u.novice_staff))return;const e=c.get();e.variables.novice_staff_awakened_fire_arrow_counter>=1e3?bt.unlockAchievement(Mt.novice_staff_resonance):e.variables.novice_staff_awakened_fire_arrow_counter=0},handleTrainingDummiesKillCounting:function(){bt.isUnlocked(Mt.training_sword_resonance)||!rt.holdsAwakenedWeapon(u.training_sword)||c.get().variables.training_sword_awakened_training_dummy_kill_counter++},holdsAwakenedWeapon:function(e){return ue.itemIsEquipped(e,!0)}},Sy=e=>(lt("data-v-0a99a6db"),e=e(),ct(),e),xy=["innerHTML"],My={class:"descriptions"},Ry=["innerHTML"],Ty={key:1,class:"description effects"},$y=["innerHTML"],Dy={class:"description enchant"},Cy=["innerHTML"],Hy=["innerHTML"],Py={key:3,class:"description recipe"},Ay=Sy(()=>l("div",{class:"corner-title"},"Materials",-1)),By={class:"recipe-material"},qy={key:4,class:"description money"},Fy=["innerHTML"],Uy={__name:"ItemTooltip",setup(e){return(t,n)=>(g(),m(B,null,[l("div",{class:"title",innerHTML:r(w).props.title},null,8,xy),l("div",My,[r(w).props.descriptions.description?(g(),m("div",{key:0,class:"description",innerHTML:r(w).props.descriptions.description},null,8,Ry)):T("",!0),r(w).props.descriptions.effects&&r(w).props.descriptions.effects.length>0?(g(),m("div",Ty,[(g(!0),m(B,null,oe(r(w).props.descriptions.effects,s=>(g(),m("div",{innerHTML:s},null,8,$y))),256))])):T("",!0),r(w).props.descriptions.enchants?(g(!0),m(B,{key:2},oe(r(w).props.descriptions.enchants,s=>(g(),m("div",Dy,[l("div",{class:"enchant-title",innerHTML:s.title},null,8,Cy),(g(!0),m(B,null,oe(s.descriptions,o=>(g(),m("div",{innerHTML:o},null,8,Hy))),256))]))),256)):T("",!0),r(w).props.descriptions.recipe?(g(),m("div",Py,[Ay,(g(!0),m(B,null,oe(r(w).props.descriptions.recipe.materials,s=>(g(),m("div",null,[l("div",By,[l("span",null,[ne(H(s.quantity)+"x ",1),J(Tt,{arrows:!0,item:s.getItem()},null,8,["item"])])])]))),256))])):T("",!0),r(w).props.price?(g(),m("div",qy,[J(Vn,{money:r(w).props.price},null,8,["money"])])):T("",!0),r(w).props.descriptions.type?(g(),m("div",{key:5,class:"description",innerHTML:r(w).props.descriptions.type},null,8,Fy)):T("",!0)]),r(w).props.maxExp?(g(),xe(nn,{key:0,label:"",value:r(w).props.maxed?1:r(w).props.exp,maxValue:r(w).props.maxed?1:r(w).props.maxExp,color:"item-rank",hideValues:!!r(w).props.maxed},null,8,["value","maxValue","hideValues"])):T("",!0),r(w).props.startedAwakening?(g(),xe(nn,{key:1,class:"awakening",label:"",value:r(w).props.isAwakened?1:r(w).props.awakeningExp,maxValue:r(w).props.isAwakened?1:r(w).props.requiredAwakeningExp,color:"item-awakening",hideValues:!!r(w).props.isAwakened},null,8,["value","maxValue","hideValues"])):T("",!0)],64))}},wu=Q(Uy,[["__scopeId","data-v-0a99a6db"]]),ea=function(e){return{slug:e.slug,name:e.name,slot:e.slot,description:e.description,getIcon:e.getIcon||function(){return this.slug},getName:function(){return this.name},getDescription:function(){return this.description},getEffects:e.getEffects||function(){return[]},getTooltipProps:e.getTooltipProps||function(t){return t=t||{},{component:le(wu),title:this.getName(),price:t==null?void 0:t.price,descriptions:{description:this.getDescription(),effects:this.getEffectDescriptions(),type:this.getTypeDescription()}}},getEffectDescriptions:e.getEffectDescriptions||function(){return this.getEffects().map(t=>t.effect.getDescription(t.value))},getTypeDescription:e.getTypeDescription||function(){const t=this.slot?this.slot.split("_").map(s=>He(s)).reverse().join(" "):"",n=He(this.type);return t?n+" / "+t:n}}},jt=function(e){return{__proto__:ea(e),type:"consumable",target:e.target,isConsumable:!0,cooldown:e.cooldown||0,getTargetState:function(){return this.target==="enemy"?we.getEntityState:A.getEntityState()},use:e.use||function(){let t=this.getTargetState();return t===null?"no-target":(this.getEffects().forEach(n=>{n.effect.up(t,n.value,this.name)}),rt.consumableUsed(this),(this.isFood||this.isDrink||this.isHealthPotion||this.isManaPotion)&&ie.gainExp(K.gluttony,1),!0)}}},ya=function(e){return{__proto__:jt(e),slot:"food",isFood:!0}},Ly=function(){return{dry_bread:ya({slug:"dry_bread",name:"Dry Bread",description:"A piece of dry bread. Somewhat filling, no risk of food poisoning, cheap. Nothing to complain about, right? Right?",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.dry_bread,caster:"player",target:"player"})]}),cooked_rat_meat:ya({slug:"cooked_rat_meat",name:"Cooked Rat Meat",description:"A poor man's solution.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.cooked_rat_meat,caster:"player",target:"player"})]}),cooked_meat:ya({slug:"cooked_meat",name:"Cooked Meat",description:"A good chunk of cooked meat. Tasty and filling.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.cooked_meat,caster:"player",target:"player"})]})}},ye=function(e){const t=e.slug.split("_");t.shift();const n=t.map(s=>He(s)).join(" ");return e.name="Diagram - "+n,e.description="Teaches how to make "+n+".",{__proto__:jt(e),type:"readable",slot:"diagram",isReadable:!0,isDiagram:!0,readingDuration:e.readingDuration||60,getIcon:e.getIcon||(()=>"diagram"),getRecipe:e.getRecipe||function(){if(e.getRecipes)return e.getRecipes()[t.join("_")]},use:function(){if(Ge.hasLearnedRecipe(this.getRecipe()))return"already-learned";dn.start(S.getInventoryItem(this))},doneReading:e.doneReading||function(){Ge.learnRecipe(this.getRecipe())},getTooltipProps:e.getTooltipProps||function(s){return s=s||{},{component:le(wu),title:this.getName(),price:s==null?void 0:s.price,descriptions:{recipe:this.getRecipe(),description:this.getDescription(),type:this.getTypeDescription()}}}}},de=function(e){return{getSkill:e.getSkill||function(){},slug:e.slug,name:e.name,materials:e.materials,results:e.results,expGained:e.expGained||0,canCraft:e.canCraft||function(){return!0},additionalRequirementDescription:e.additionalRequirementDescription}},Oy={slug:"blacksmithing",recipes:{iron_ingot:de({getSkill:()=>K.blacksmithing,slug:"iron_ingot",name:"Iron Ingot",expGained:1,materials:[{getItem:()=>u.iron_ore,quantity:5}],results:[{getItem:()=>u.iron_ingot,quantity:1}]}),iron_helmet:de({getSkill:()=>K.blacksmithing,slug:"iron_helmet",name:"Iron Helmet",expGained:5,materials:[{getItem:()=>u.iron_ingot,quantity:5}],results:[{getItem:()=>u.iron_helmet,quantity:1}]}),iron_armor:de({getSkill:()=>K.blacksmithing,slug:"iron_armor",name:"Iron Armor",expGained:10,materials:[{getItem:()=>u.iron_ingot,quantity:10}],results:[{getItem:()=>u.iron_armor,quantity:1}]}),iron_boots:de({getSkill:()=>K.blacksmithing,slug:"iron_boots",name:"Iron Boots",expGained:7,materials:[{getItem:()=>u.iron_ingot,quantity:7}],results:[{getItem:()=>u.iron_boots,quantity:1}]}),iron_sword:de({getSkill:()=>K.blacksmithing,slug:"iron_sword",name:"Iron Sword",expGained:8,materials:[{getItem:()=>u.iron_ingot,quantity:8}],results:[{getItem:()=>u.iron_sword,quantity:1}]})}},Wy={slug:"enchanting",recipes:{enchant_minor_experience:de({getSkill:()=>K.enchanting,slug:"enchant_minor_experience",name:"Enchant Minor Experience",expGained:5,materials:[{getItem:()=>u.twig,quantity:15}],results:[{getItem:()=>u.enchant_minor_experience,quantity:1}]}),enchant_minor_health:de({getSkill:()=>K.enchanting,slug:"enchant_minor_health",name:"Enchant Minor Health",expGained:5,materials:[{getItem:()=>u.rat_tail,quantity:30}],results:[{getItem:()=>u.enchant_minor_health,quantity:1}]}),enchant_minor_strength:de({getSkill:()=>K.enchanting,slug:"enchant_minor_strength",name:"Enchant Minor Strength",expGained:5,materials:[{getItem:()=>u.wolf_fang,quantity:1}],results:[{getItem:()=>u.enchant_minor_strength,quantity:1}]}),enchant_minor_intelligence:de({getSkill:()=>K.enchanting,slug:"enchant_minor_intelligence",name:"Enchant Minor Intelligence",expGained:5,materials:[{getItem:()=>u.feather,quantity:25}],results:[{getItem:()=>u.enchant_minor_intelligence,quantity:1}]}),enchant_minor_dexterity:de({getSkill:()=>K.enchanting,slug:"enchant_minor_dexterity",name:"Enchant Minor Dexterity",expGained:5,materials:[{getItem:()=>u.rabbit_fur,quantity:25}],results:[{getItem:()=>u.enchant_minor_dexterity,quantity:1}]}),enchant_minor_dr:de({getSkill:()=>K.enchanting,slug:"enchant_minor_dr",name:"Enchant Minor Damage Reduction",expGained:5,materials:[{getItem:()=>u.boar_tusk,quantity:1}],results:[{getItem:()=>u.enchant_minor_dr,quantity:1}]}),enchant_minor_mdef:de({getSkill:()=>K.enchanting,slug:"enchant_minor_mdef",name:"Enchant Minor Magical Defense",expGained:5,materials:[{getItem:()=>u.goat_horn,quantity:1}],results:[{getItem:()=>u.enchant_minor_mdef,quantity:1}]})}},Gy={slug:"tailoring",recipes:{cloth:de({getSkill:()=>K.tailoring,slug:"cloth",name:"Cloth",expGained:1,materials:[{getItem:()=>u.wool,quantity:5}],results:[{getItem:()=>u.cloth,quantity:1}]}),bandage:de({getSkill:()=>K.tailoring,slug:"bandage",name:"Bandage",expGained:1,materials:[{getItem:()=>u.cloth,quantity:1}],results:[{getItem:()=>u.bandage,quantity:3}]}),string:de({getSkill:()=>K.tailoring,slug:"string",name:"String",expGained:1,materials:[{getItem:()=>u.spider_silk,quantity:5}],results:[{getItem:()=>u.string,quantity:1}]}),novice_hat:de({getSkill:()=>K.tailoring,slug:"novice_hat",name:"Novice Hat",expGained:8,materials:[{getItem:()=>u.cloth,quantity:5},{getItem:()=>u.fragment_mana,quantity:5}],results:[{getItem:()=>u.novice_hat,quantity:1}]}),novice_robe:de({getSkill:()=>K.tailoring,slug:"novice_robe",name:"Novice Robe",expGained:18,materials:[{getItem:()=>u.cloth,quantity:10},{getItem:()=>u.fragment_mana,quantity:15}],results:[{getItem:()=>u.novice_robe,quantity:1}]}),novice_shoes:de({getSkill:()=>K.tailoring,slug:"novice_shoes",name:"Novice Shoes",expGained:12,materials:[{getItem:()=>u.cloth,quantity:7},{getItem:()=>u.fragment_mana,quantity:10}],results:[{getItem:()=>u.novice_shoes,quantity:1}]})}},Ky={slug:"woodworking",recipes:{training_sword:de({getSkill:()=>K.woodworking,slug:"training_sword",name:"Training Sword",expGained:2,materials:[{getItem:()=>u.wood,quantity:10}],results:[{getItem:()=>u.training_sword,quantity:1}]}),wooden_shield:de({getSkill:()=>K.woodworking,slug:"wooden_shield",name:"Wooden Shield",expGained:2,materials:[{getItem:()=>u.wood,quantity:10}],results:[{getItem:()=>u.wooden_shield,quantity:1}]}),wooden_armguard:de({getSkill:()=>K.woodworking,slug:"wooden_armguard",name:"Wooden Armguard",expGained:1,materials:[{getItem:()=>u.wood,quantity:6}],results:[{getItem:()=>u.wooden_armguard,quantity:1}]}),novice_staff:de({getSkill:()=>K.woodworking,slug:"novice_staff",name:"Novice Staff",expGained:12,materials:[{getItem:()=>u.wood,quantity:10},{getItem:()=>u.fragment_mana,quantity:20}],results:[{getItem:()=>u.novice_staff,quantity:1}]}),hunting_bow:de({getSkill:()=>K.woodworking,slug:"hunting_bow",name:"Hunting Bow",expGained:5,materials:[{getItem:()=>u.wood,quantity:10},{getItem:()=>u.string,quantity:3}],results:[{getItem:()=>u.hunting_bow,quantity:1}]})}},jy={slug:"cooking",recipes:{cooked_rat_meat:de({getSkill:()=>K.cooking,slug:"cooked_rat_meat",name:"Cooked Rat Meat",expGained:1,materials:[{getItem:()=>u.rat_meat,quantity:1},{getItem:()=>u.wood,quantity:1}],results:[{getItem:()=>u.cooked_rat_meat,quantity:1}]}),cooked_meat:de({getSkill:()=>K.cooking,slug:"cooked_meat",name:"Cooked Meat",expGained:2,materials:[{getItem:()=>u.raw_meat,quantity:1},{getItem:()=>u.wood,quantity:1}],results:[{getItem:()=>u.cooked_meat,quantity:1}]})}},Ny={slug:"scrollcrafting",recipes:{scroll_of_arcane_bolt:de({getSkill:()=>K.scrollcrafting,slug:"scroll_of_arcane_bolt",name:"Arcane Bolt",expGained:1,materials:[{getItem:()=>u.fragment_mana,quantity:5}],results:[{getItem:()=>u.scroll_of_arcane_bolt,quantity:1}]}),scroll_of_fire_arrow:de({getSkill:()=>K.scrollcrafting,slug:"scroll_of_fire_arrow",name:"Fire Arrow",expGained:1,materials:[{getItem:()=>u.fragment_fire,quantity:5}],results:[{getItem:()=>u.scroll_of_fire_arrow,quantity:1}]}),scroll_of_water_splash:de({getSkill:()=>K.scrollcrafting,slug:"scroll_of_water_splash",name:"Water Splash",expGained:1,materials:[{getItem:()=>u.fragment_water,quantity:5}],results:[{getItem:()=>u.scroll_of_water_splash,quantity:1}]}),scroll_of_stone_bullet:de({getSkill:()=>K.scrollcrafting,slug:"scroll_of_stone_bullet",name:"Stone Bullet",expGained:1,materials:[{getItem:()=>u.fragment_earth,quantity:5}],results:[{getItem:()=>u.scroll_of_stone_bullet,quantity:1}]}),scroll_of_wind_blast:de({getSkill:()=>K.scrollcrafting,slug:"scroll_of_wind_blast",name:"Wind Blast",expGained:1,materials:[{getItem:()=>u.fragment_wind,quantity:5}],results:[{getItem:()=>u.scroll_of_wind_blast,quantity:1}]}),scroll_of_heal:de({getSkill:()=>K.scrollcrafting,slug:"scroll_of_heal",name:"Heal",expGained:1,materials:[{getItem:()=>u.fragment_holy,quantity:5}],results:[{getItem:()=>u.scroll_of_heal,quantity:1}]}),novice_tome:de({getSkill:()=>K.scrollcrafting,slug:"novice_tome",name:"Novice Tome",expGained:5,materials:[{getItem:()=>u.novice_tome_page,quantity:5},{getItem:()=>u.leather,quantity:1},{getItem:()=>u.fragment_mana,quantity:5}],results:[{getItem:()=>u.novice_tome,quantity:1}]})}},Vy={slug:"runecarving",recipes:{rune_arcane_bolt:de({getSkill:()=>K.runecarving,slug:"rune_arcane_bolt",name:"Arcane Bolt",expGained:5,materials:[{getItem:()=>u.rune,quantity:1},{getItem:()=>u.scroll_of_arcane_bolt,quantity:1},{getItem:()=>u.fragment_mana,quantity:50}],results:[{getItem:()=>u.rune_arcane_bolt,quantity:1}]}),rune_fire_arrow:de({getSkill:()=>K.runecarving,slug:"rune_fire_arrow",name:"Fire Arrow",expGained:5,materials:[{getItem:()=>u.rune,quantity:1},{getItem:()=>u.scroll_of_fire_arrow,quantity:1},{getItem:()=>u.fragment_fire,quantity:50}],results:[{getItem:()=>u.rune_fire_arrow,quantity:1}]}),rune_water_splash:de({getSkill:()=>K.runecarving,slug:"rune_water_splash",name:"Water Splash",expGained:5,materials:[{getItem:()=>u.rune,quantity:1},{getItem:()=>u.scroll_of_water_splash,quantity:1},{getItem:()=>u.fragment_water,quantity:50}],results:[{getItem:()=>u.rune_water_splash,quantity:1}]}),rune_stone_bullet:de({getSkill:()=>K.runecarving,slug:"rune_stone_bullet",name:"Stone Bullet",expGained:5,materials:[{getItem:()=>u.rune,quantity:1},{getItem:()=>u.scroll_of_stone_bullet,quantity:1},{getItem:()=>u.fragment_earth,quantity:50}],results:[{getItem:()=>u.rune_stone_bullet,quantity:1}]}),rune_wind_blast:de({getSkill:()=>K.runecarving,slug:"rune_wind_blast",name:"Wind Blast",expGained:5,materials:[{getItem:()=>u.rune,quantity:1},{getItem:()=>u.scroll_of_wind_blast,quantity:1},{getItem:()=>u.fragment_wind,quantity:50}],results:[{getItem:()=>u.rune_wind_blast,quantity:1}]}),rune_heal:de({getSkill:()=>K.runecarving,slug:"rune_heal",name:"Heal",expGained:10,materials:[{getItem:()=>u.rune,quantity:1},{getItem:()=>u.scroll_of_heal,quantity:1},{getItem:()=>u.fragment_holy,quantity:50}],results:[{getItem:()=>u.rune_heal,quantity:1}],canCraft:()=>ie.getLevel(K.runecarving)>=1,additionalRequirementDescription:"Requires Runecarving level 1"})}},Qy={slug:"leatherworking",recipes:{leather:de({getSkill:()=>K.leatherworking,slug:"leather",name:"Leather",expGained:1,materials:[{getItem:()=>u.raw_hide,quantity:5}],results:[{getItem:()=>u.leather,quantity:1}]}),leather_hat:de({getSkill:()=>K.leatherworking,slug:"leather_hat",name:"Leather Hat",expGained:5,materials:[{getItem:()=>u.leather,quantity:5}],results:[{getItem:()=>u.leather_hat,quantity:1}]}),leather_armor:de({getSkill:()=>K.leatherworking,slug:"leather_armor",name:"Leather Armor",expGained:10,materials:[{getItem:()=>u.leather,quantity:10}],results:[{getItem:()=>u.leather_armor,quantity:1}]}),leather_shoes:de({getSkill:()=>K.leatherworking,slug:"leather_shoes",name:"Leather Shoes",expGained:7,materials:[{getItem:()=>u.leather,quantity:7}],results:[{getItem:()=>u.leather_shoes,quantity:1}]}),bear_cloak:de({getSkill:()=>K.leatherworking,slug:"bear_cloak",name:"Bear Cloak",expGained:15,materials:[{getItem:()=>u.pristine_bear_pelt,quantity:1},{getItem:()=>u.string,quantity:5},{getItem:()=>u.leather,quantity:5}],results:[{getItem:()=>u.bear_cloak,quantity:1}]}),quiver:de({getSkill:()=>K.leatherworking,slug:"quiver",name:"Quiver",expGained:7,materials:[{getItem:()=>u.leather,quantity:5},{getItem:()=>u.string,quantity:2}],results:[{getItem:()=>u.quiver,quantity:1}]})}},Yy={slug:"jewelcrafting",recipes:{wolf_fang_amulet:de({getSkill:()=>K.jewelcrafting,slug:"wolf_fang_amulet",name:"Wolf Fang Amulet",expGained:10,materials:[{getItem:()=>u.wolf_fang,quantity:5}],results:[{getItem:()=>u.wolf_fang_amulet,quantity:1}]}),iron_ring:de({getSkill:()=>K.jewelcrafting,slug:"iron_ring",name:"Iron Ring",expGained:2,materials:[{getItem:()=>u.iron_ingot,quantity:2}],results:[{getItem:()=>u.iron_ring,quantity:1}]}),iron_earring:de({getSkill:()=>K.jewelcrafting,slug:"iron_earring",name:"Iron Earring",expGained:2,materials:[{getItem:()=>u.iron_ingot,quantity:2}],results:[{getItem:()=>u.iron_earring,quantity:1}]}),slime_ring:de({getSkill:()=>K.jewelcrafting,slug:"slime_ring",name:"Slime Ring",expGained:5,materials:[{getItem:()=>u.iron_ingot,quantity:3},{getItem:()=>u.item_slime,quantity:20}],results:[{getItem:()=>u.slime_ring,quantity:1}]}),slime_earring:de({getSkill:()=>K.jewelcrafting,slug:"slime_earring",name:"Slime Earring",expGained:5,materials:[{getItem:()=>u.iron_ingot,quantity:3},{getItem:()=>u.item_slime,quantity:20}],results:[{getItem:()=>u.slime_earring,quantity:1}]})}},Jy={slug:"alchemy",recipes:{bone_dust:de({getSkill:()=>K.alchemy,slug:"bone_dust",name:"Bone Dust",expGained:1,materials:[{getItem:()=>u.bone,quantity:1}],results:[{getItem:()=>u.bone_dust,quantity:1}]}),antidote:de({getSkill:()=>K.alchemy,slug:"antidote",name:"Antidote",expGained:2,materials:[{getItem:()=>u.water,quantity:1},{getItem:()=>u.herb,quantity:3}],results:[{getItem:()=>u.antidote,quantity:1}]}),enchanted_water:de({getSkill:()=>K.alchemy,slug:"enchanted_water",name:"Enchanted Water",expGained:2,materials:[{getItem:()=>u.water,quantity:1},{getItem:()=>u.fragment_mana,quantity:2}],results:[{getItem:()=>u.enchanted_water,quantity:1}]}),minor_healing_potion:de({getSkill:()=>K.alchemy,slug:"minor_healing_potion",name:"Minor Healing Potion",expGained:3,materials:[{getItem:()=>u.herb,quantity:3},{getItem:()=>u.item_slime,quantity:1}],results:[{getItem:()=>u.minor_healing_potion,quantity:1}]}),healing_potion:de({getSkill:()=>K.alchemy,slug:"healing_potion",name:"Healing Potion",expGained:5,materials:[{getItem:()=>u.herb,quantity:5},{getItem:()=>u.item_slime,quantity:2},{getItem:()=>u.bone_dust,quantity:1}],results:[{getItem:()=>u.healing_potion,quantity:1}]}),minor_mana_potion:de({getSkill:()=>K.alchemy,slug:"minor_mana_potion",name:"Minor Mana Potion",expGained:3,materials:[{getItem:()=>u.fragment_mana,quantity:3},{getItem:()=>u.item_slime,quantity:1}],results:[{getItem:()=>u.minor_mana_potion,quantity:1}]}),mana_potion:de({getSkill:()=>K.alchemy,slug:"mana_potion",name:"Mana Potion",expGained:5,materials:[{getItem:()=>u.fragment_mana,quantity:5},{getItem:()=>u.item_slime,quantity:2},{getItem:()=>u.bat_wing,quantity:1}],results:[{getItem:()=>u.mana_potion,quantity:1}]})}},qt={blacksmithing:Oy,tailoring:Gy,enchanting:Wy,woodworking:Ky,cooking:jy,alchemy:Jy,scrollcrafting:Ny,runecarving:Vy,leatherworking:Qy,jewelcrafting:Yy},Ao=()=>qt.blacksmithing.recipes,zy=function(e){return{diagram_iron_ingot:ye({slug:"diagram_iron_ingot",readingDuration:e*2,getRecipes:Ao}),diagram_iron_sword:ye({slug:"diagram_iron_sword",readingDuration:e*10,getRecipes:Ao}),diagram_iron_helmet:ye({slug:"diagram_iron_helmet",readingDuration:e*8,getRecipes:Ao}),diagram_iron_armor:ye({slug:"diagram_iron_armor",readingDuration:e*10,getRecipes:Ao}),diagram_iron_boots:ye({slug:"diagram_iron_boots",readingDuration:e*8,getRecipes:Ao})}},Bo=()=>qt.woodworking.recipes,Xy=function(e){return{diagram_training_sword:ye({slug:"diagram_training_sword",readingDuration:e,getRecipes:Bo}),diagram_wooden_shield:ye({slug:"diagram_wooden_shield",readingDuration:e,getRecipes:Bo}),diagram_wooden_armguard:ye({slug:"diagram_wooden_armguard",readingDuration:e,getRecipes:Bo}),diagram_novice_staff:ye({slug:"diagram_novice_staff",readingDuration:e*10,getRecipes:Bo}),diagram_hunting_bow:ye({slug:"diagram_hunting_bow",readingDuration:e*10,getRecipes:Bo})}},uo=()=>qt.tailoring.recipes,Zy=function(e){return{diagram_cloth:ye({slug:"diagram_cloth",readingDuration:e*2,getRecipes:uo}),diagram_bandage:ye({slug:"diagram_bandage",readingDuration:e*3,getRecipes:uo}),diagram_string:ye({slug:"diagram_string",readingDuration:e*3,getRecipes:uo}),diagram_novice_hat:ye({slug:"diagram_novice_hat",readingDuration:e*8,getRecipes:uo}),diagram_novice_robe:ye({slug:"diagram_novice_robe",readingDuration:e*10,getRecipes:uo}),diagram_novice_shoes:ye({slug:"diagram_novice_shoes",readingDuration:e*8,getRecipes:uo})}},vs=()=>qt.scrollcrafting.recipes,e0=function(e){return{diagram_scroll_of_arcane_bolt:ye({slug:"diagram_scroll_of_arcane_bolt",readingDuration:e*1,getRecipes:vs,doneReading:function(){Ge.learnRecipe(this.getRecipe()),Ge.learnRecipe(qt.runecarving.recipes.rune_arcane_bolt,!0)}}),diagram_scroll_of_fire_arrow:ye({slug:"diagram_scroll_of_fire_arrow",readingDuration:e*6,getRecipes:vs,doneReading:function(){Ge.learnRecipe(this.getRecipe()),Ge.learnRecipe(qt.runecarving.recipes.rune_fire_arrow,!0)}}),diagram_scroll_of_water_splash:ye({slug:"diagram_scroll_of_water_splash",readingDuration:e*6,getRecipes:vs,doneReading:function(){Ge.learnRecipe(this.getRecipe()),Ge.learnRecipe(qt.runecarving.recipes.rune_water_splash,!0)}}),diagram_scroll_of_stone_bullet:ye({slug:"diagram_scroll_of_stone_bullet",readingDuration:e*6,getRecipes:vs,doneReading:function(){Ge.learnRecipe(this.getRecipe()),Ge.learnRecipe(qt.runecarving.recipes.rune_stone_bullet,!0)}}),diagram_scroll_of_wind_blast:ye({slug:"diagram_scroll_of_wind_blast",readingDuration:e*6,getRecipes:vs,doneReading:function(){Ge.learnRecipe(this.getRecipe()),Ge.learnRecipe(qt.runecarving.recipes.rune_wind_blast,!0)}}),diagram_scroll_of_heal:ye({slug:"diagram_scroll_of_heal",readingDuration:e*12,getRecipes:vs,doneReading:function(){Ge.learnRecipe(this.getRecipe()),Ge.learnRecipe(qt.runecarving.recipes.rune_heal,!0)}}),diagram_novice_tome:ye({slug:"diagram_novice_tome",readingDuration:e*8,getRecipes:vs,doneReading:function(){Ge.learnRecipe(this.getRecipe())}})}},go=()=>qt.leatherworking.recipes,t0=function(e){return{diagram_leather:ye({slug:"diagram_leather",readingDuration:e,getRecipes:go}),diagram_leather_hat:ye({slug:"diagram_leather_hat",readingDuration:e*8,getRecipes:go}),diagram_leather_armor:ye({slug:"diagram_leather_armor",readingDuration:e*10,getRecipes:go}),diagram_leather_shoes:ye({slug:"diagram_leather_shoes",readingDuration:e*8,getRecipes:go}),diagram_bear_cloak:ye({slug:"diagram_bear_cloak",readingDuration:e*10,getRecipes:go}),diagram_quiver:ye({slug:"diagram_quiver",readingDuration:e*8,getRecipes:go})}},ws=()=>qt.alchemy.recipes,n0=function(e){return{diagram_bone_dust:ye({slug:"diagram_bone_dust",readingDuration:e*2,getRecipes:ws}),diagram_antidote:ye({slug:"diagram_antidote",readingDuration:e*3,getRecipes:ws}),diagram_enchanted_water:ye({slug:"diagram_enchanted_water",readingDuration:e*3,getRecipes:ws}),diagram_minor_healing_potion:ye({slug:"diagram_minor_healing_potion",readingDuration:e*6,getRecipes:ws}),diagram_healing_potion:ye({slug:"diagram_healing_potion",readingDuration:e*12,getRecipes:ws}),diagram_minor_mana_potion:ye({slug:"diagram_minor_mana_potion",readingDuration:e*6,getRecipes:ws}),diagram_mana_potion:ye({slug:"diagram_mana_potion",readingDuration:e*12,getRecipes:ws})}},s0=function(e){return{}},ks=()=>qt.enchanting.recipes,i0=function(e){return{diagram_enchant_minor_experience:ye({slug:"diagram_enchant_minor_experience",readingDuration:e*1,getRecipes:ks}),diagram_enchant_minor_health:ye({slug:"diagram_enchant_minor_health",readingDuration:e*5,getRecipes:ks}),diagram_enchant_minor_strength:ye({slug:"diagram_enchant_minor_strength",readingDuration:e*5,getRecipes:ks}),diagram_enchant_minor_intelligence:ye({slug:"diagram_enchant_minor_intelligence",readingDuration:e*5,getRecipes:ks}),diagram_enchant_minor_dexterity:ye({slug:"diagram_enchant_minor_dexterity",readingDuration:e*5,getRecipes:ks}),diagram_enchant_minor_dr:ye({slug:"diagram_enchant_minor_dr",readingDuration:e*8,getRecipes:ks}),diagram_enchant_minor_mdef:ye({slug:"diagram_enchant_minor_mdef",readingDuration:e*8,getRecipes:ks})}},qo=()=>qt.jewelcrafting.recipes,Fo=60,o0=function(e){return{diagram_wolf_fang_amulet:ye({slug:"diagram_wolf_fang_amulet",readingDuration:Fo*12,getRecipes:qo}),diagram_iron_ring:ye({slug:"diagram_iron_ring",readingDuration:Fo*6,getRecipes:qo}),diagram_iron_earring:ye({slug:"diagram_iron_earring",readingDuration:Fo*6,getRecipes:qo}),diagram_slime_ring:ye({slug:"diagram_slime_ring",readingDuration:Fo*10,getRecipes:qo}),diagram_slime_earring:ye({slug:"diagram_slime_earring",readingDuration:Fo*10,getRecipes:qo})}},bs=30,r0=function(){return{...zy(bs),...Xy(bs),...Zy(bs),...e0(bs),...t0(bs),...n0(bs),...s0(),...i0(bs),...o0()}},Tn=function(e){return{__proto__:jt(e),type:"readable",slot:"book",isReadable:!0,readingDuration:e.readingDuration||60,getIcon:e.getIcon||(()=>"book"),use:function(){dn.start(S.getInventoryItem(this))},doneReading:e.doneReading||function(){}}},$n=60,a0=function(){return{book_blacksmithing:Tn({slug:"book_blacksmithing",name:"Blacksmithing manual",description:"Grants <span class='c-highlight'>Blacksmithing Theory</span>. Upon using <span class='c-highlight'>Blacksmithing Theory</span>, you will gain 100% more Blacksmithing experience for 300 seconds.",readingDuration:$n*30,doneReading:function(){S.add(u.book_blacksmithing_buff,1)}}),book_tailoring:Tn({slug:"book_tailoring",name:"Tailoring manual",description:"Grants <span class='c-highlight'>Tailoring Theory</span>. Upon using <span class='c-highlight'>Tailoring Theory</span>, you will gain 100% more Tailoring experience for 300 seconds.",readingDuration:$n*30,doneReading:function(){S.add(u.book_tailoring_buff,1)}}),book_enchanting:Tn({slug:"book_enchanting",name:"Enchanting manual",description:"Grants <span class='c-highlight'>Enchanting Theory</span>. Upon using <span class='c-highlight'>Enchanting Theory</span>, you will gain 100% more Enchanting experience for 300 seconds.",readingDuration:$n*30,doneReading:function(){S.add(u.book_enchanting_buff,1)}}),book_woodworking:Tn({slug:"book_woodworking",name:"Woodworking manual",description:"Grants <span class='c-highlight'>Woodworking Theory</span>. Upon using <span class='c-highlight'>Woodworking Theory</span>, you will gain 100% more Woodworking experience for 300 seconds.",readingDuration:$n*30,doneReading:function(){S.add(u.book_woodworking_buff,1)}}),book_cooking:Tn({slug:"book_cooking",name:"Cooking manual",description:"Grants <span class='c-highlight'>Cooking Theory</span>. Upon using <span class='c-highlight'>Cooking Theory</span>, you will gain 100% more Cooking experience for 300 seconds.",readingDuration:$n*30,doneReading:function(){S.add(u.book_cooking_buff,1)}}),book_alchemy:Tn({slug:"book_alchemy",name:"Alchemy manual",description:"Grants <span class='c-highlight'>Alchemy Theory</span>. Upon using <span class='c-highlight'>Alchemy Theory</span>, you will gain 100% more Alchemy experience for 300 seconds.",readingDuration:$n*30,doneReading:function(){S.add(u.book_alchemy_buff,1)}}),book_scrollcrafting:Tn({slug:"book_scrollcrafting",name:"Scrollcrafting manual",description:"Grants <span class='c-highlight'>Scrollcrafting Theory</span>. Upon using <span class='c-highlight'>Scrollcrafting Theory</span>, you will gain 100% more Scrollcrafting experience for 300 seconds.",readingDuration:$n*30,doneReading:function(){S.add(u.book_scrollcrafting_buff,1)}}),book_runecarving:Tn({slug:"book_runecarving",name:"Runecarving manual",description:"Grants <span class='c-highlight'>Runecarving Theory</span>. Upon using <span class='c-highlight'>Runecarving Theory</span>, you will gain 100% more Runecarving experience for 300 seconds.",readingDuration:$n*60,doneReading:function(){S.add(u.book_runecarving_buff,1)}}),book_leatherworking:Tn({slug:"book_leatherworking",name:"Leatherworking manual",description:"Grants <span class='c-highlight'>Leatherworking Theory</span>. Upon using <span class='c-highlight'>Leatherworking Theory</span>, you will gain 100% more Leatherworking experience for 300 seconds.",readingDuration:$n*30,doneReading:function(){S.add(u.book_leatherworking_buff,1)}}),book_jewelcrafting:Tn({slug:"book_jewelcrafting",name:"Jewelcrafting manual",description:"Grants <span class='c-highlight'>Jewelcrafting Theory</span>. Upon using <span class='c-highlight'>Jewelcrafting Theory</span>, you will gain 100% more Jewelcrafting experience for 300 seconds.",readingDuration:$n*30,doneReading:function(){S.add(u.book_jewelcrafting_buff,1)}})}},l0=function(e){return{__proto__:jt(e),slot:"drink",isDrink:!0}},c0=function(){return{water:l0({slug:"water",name:"Water",description:"Clean water, refreshing.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.water,caster:"player",target:"player"})]})}},tc=function(e){return{__proto__:jt(e),slot:"potion_health",isHealthPotion:!0}},u0=function(){return{minor_healing_potion:tc({slug:"minor_healing_potion",name:"Minor Healing Potion",description:"Cheap version of the healing potion, has minor healing effect.",cooldown:5,getEffects:function(){return[i.createRecoverHpPercentage(10)]}}),healing_potion:tc({slug:"healing_potion",name:"Healing Potion",description:"Standard healing potion, has decent healing effect",cooldown:10,getEffects:function(){return[i.createRecoverHpPercentage(25)]}})}},nc=function(e){return{__proto__:jt(e),slot:"potion_mana",isManaPotion:!0}},d0=function(){return{minor_mana_potion:nc({slug:"minor_mana_potion",name:"Minor Mana Potion",description:"Cheap version of the mana potion, restores a small amount of mana.",cooldown:5,getEffects:function(){return[i.createRecoverMpPercentage(10)]}}),mana_potion:nc({slug:"mana_potion",name:"Mana Potion",description:"Standard mana potion, restores a decent amount of mana.",cooldown:10,getEffects:function(){return[i.createRecoverMpPercentage(25)]}})}},qe=function(e){const t=e.slug.split("_");return t.shift(),t.shift(),{__proto__:jt(e),type:"readable",slot:"bestiary_book",isReadable:!0,isBestiaryBook:!0,readingDuration:e.readingDuration||60,getIcon:e.getIcon||(()=>"book"),getEnemy:e.getEnemy||function(){return ae[t.join("_")]},getName:function(){return"Bestiary Book - "+this.getEnemy().getName()},getDescription:function(){return"Unlock bestiary entry for "+this.getEnemy().getName()+"."},use:function(){if(sn.isEntryUnlocked(this.getEnemy()))return"already-learned";dn.start(S.getInventoryItem(this))},doneReading:e.doneReading||function(){sn.unlockEntry(this.getEnemy())}}},Fe=60,g0=function(){return{bestiary_book_rat:qe({slug:"bestiary_book_rat",readingDuration:Fe}),bestiary_book_training_dummy:qe({slug:"bestiary_book_training_dummy",readingDuration:Fe}),bestiary_book_tree:qe({slug:"bestiary_book_tree",readingDuration:Fe}),bestiary_book_weed:qe({slug:"bestiary_book_weed",readingDuration:Fe}),bestiary_book_chicken:qe({slug:"bestiary_book_chicken",readingDuration:Fe}),bestiary_book_rabbit:qe({slug:"bestiary_book_rabbit",readingDuration:Fe}),bestiary_book_mountain_goat:qe({slug:"bestiary_book_mountain_goat",readingDuration:Fe}),bestiary_book_warthog:qe({slug:"bestiary_book_warthog",readingDuration:Fe}),bestiary_book_wolf:qe({slug:"bestiary_book_wolf",readingDuration:Fe}),bestiary_book_bear:qe({slug:"bestiary_book_bear",readingDuration:Fe}),bestiary_book_bat:qe({slug:"bestiary_book_bat",readingDuration:Fe}),bestiary_book_spider:qe({slug:"bestiary_book_spider",readingDuration:Fe}),bestiary_book_iron_vein:qe({slug:"bestiary_book_iron_vein",readingDuration:Fe}),bestiary_book_slime:qe({slug:"bestiary_book_slime",readingDuration:Fe}),bestiary_book_slime_water:qe({slug:"bestiary_book_slime_water",readingDuration:Fe}),bestiary_book_slime_fire:qe({slug:"bestiary_book_slime_fire",readingDuration:Fe}),bestiary_book_slime_earth:qe({slug:"bestiary_book_slime_earth",readingDuration:Fe}),bestiary_book_slime_wind:qe({slug:"bestiary_book_slime_wind",readingDuration:Fe}),bestiary_book_slime_holy:qe({slug:"bestiary_book_slime_holy",readingDuration:Fe}),bestiary_book_slime_shadow:qe({slug:"bestiary_book_slime_shadow",readingDuration:Fe}),bestiary_book_slimer:qe({slug:"bestiary_book_slimer",readingDuration:Fe}),bestiary_book_slimer_water:qe({slug:"bestiary_book_slimer_water",readingDuration:Fe}),bestiary_book_slimer_fire:qe({slug:"bestiary_book_slimer_fire",readingDuration:Fe}),bestiary_book_slimer_earth:qe({slug:"bestiary_book_slimer_earth",readingDuration:Fe}),bestiary_book_slimer_wind:qe({slug:"bestiary_book_slimer_wind",readingDuration:Fe}),bestiary_book_slimer_holy:qe({slug:"bestiary_book_slimer_holy",readingDuration:Fe}),bestiary_book_slimer_shadow:qe({slug:"bestiary_book_slimer_shadow",readingDuration:Fe}),bestiary_book_slimelord:qe({slug:"bestiary_book_slimelord",readingDuration:Fe}),bestiary_book_slimelord_water:qe({slug:"bestiary_book_slimelord_water",readingDuration:Fe}),bestiary_book_slimelord_fire:qe({slug:"bestiary_book_slimelord_fire",readingDuration:Fe}),bestiary_book_slimelord_earth:qe({slug:"bestiary_book_slimelord_earth",readingDuration:Fe}),bestiary_book_slimelord_wind:qe({slug:"bestiary_book_slimelord_wind",readingDuration:Fe}),bestiary_book_slimelord_holy:qe({slug:"bestiary_book_slimelord_holy",readingDuration:Fe}),bestiary_book_slimelord_shadow:qe({slug:"bestiary_book_slimelord_shadow",readingDuration:Fe})}},Dn=function(e){return{__proto__:jt(e),slot:"book_buff",isBookBuff:!0,getIcon:e.getIcon||(()=>"book")}},f0=function(){return{book_blacksmithing_buff:Dn({slug:"book_blacksmithing_buff",name:"Blacksmithing Theory",description:"Acquired blacksmithing theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.book_blacksmithing_buff,caster:"player",target:"player"})]}),book_tailoring_buff:Dn({slug:"book_tailoring_buff",name:"Tailoring Theory",description:"Acquired tailoring theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.book_tailoring_buff,caster:"player",target:"player"})]}),book_enchanting_buff:Dn({slug:"book_enchanting_buff",name:"Enchanting Theory",description:"Acquired enchanting theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.book_enchanting_buff,caster:"player",target:"player"})]}),book_woodworking_buff:Dn({slug:"book_woodworking_buff",name:"Woodworking Theory",description:"Acquired woodworking theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.book_woodworking_buff,caster:"player",target:"player"})]}),book_cooking_buff:Dn({slug:"book_cooking_buff",name:"Cooking Theory",description:"Acquired cooking theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.book_cooking_buff,caster:"player",target:"player"})]}),book_alchemy_buff:Dn({slug:"book_alchemy_buff",name:"Alchemy Theory",description:"Acquired alchemy theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.book_alchemy_buff,caster:"player",target:"player"})]}),book_scrollcrafting_buff:Dn({slug:"book_scrollcrafting_buff",name:"Scrollcrafting Theory",description:"Acquired scrollcrafting theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.book_scrollcrafting_buff,caster:"player",target:"player"})]}),book_runecarving_buff:Dn({slug:"book_runecarving_buff",name:"Runecarving Theory",description:"Acquired runecarving theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.book_runecarving_buff,caster:"player",target:"player"})]}),book_leatherworking_buff:Dn({slug:"book_leatherworking_buff",name:"Leatherworking Theory",description:"Acquired leatherworking theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.book_leatherworking_buff,caster:"player",target:"player"})]}),book_jewelcrafting_buff:Dn({slug:"book_jewelcrafting_buff",name:"Jewelcrafting Theory",description:"Acquired jewelcrafting theory ready to be taken advantage of through some practice.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.book_jewelcrafting_buff,caster:"player",target:"player"})]})}},m0=function(){return{...Ly(),...c0(),...r0(),...g0(),...a0(),...f0(),...u0(),...d0(),bandage:jt({slug:"bandage",name:"Bandage",slot:"Medicine",description:"Cloth bandage, effective at stopping bleeding.",getEffects:function(){return[i.createRemoveBleeding()]}}),antidote:jt({slug:"antidote",name:"Antidote",slot:"Medicine",description:"Mixture of medicinal ingredients, effective at stopping most poisons.",getEffects:function(){return[i.createRemovePoison()]}}),enchanted_water:jt({slug:"enchanted_water",name:"Enchanted Water",slot:"Medicine",description:"A jug of enchanted water, effective at dousing basic magical fire.",getEffects:function(){return[i.createRemoveBurning()]}}),kacadu_blessing:jt({slug:"kacadu_blessing",name:"Kacadu's Blessing",slot:"potion",description:"THE POWAH",getEffects:function(){return[i.createStatusEffectTriggerEffect({statusEffect:pe.kacadu_blessing,caster:"player",target:"player"})]}}),throwing_stone:jt({slug:"throwing_stone",name:"Throwing Stone",slot:"throwable",description:"Might hurt a bit",target:"enemy",getEffects:function(){return[i.createTakeHp(10)]}})}},cn=function(e){return{__proto__:jt(e),type:"enchant",isEnchant:!0,use:function(){St.start(S.getInventoryItem(this))}}},p0=function(){return{enchant_minor_experience:cn({slug:"enchant_minor_experience",name:"Enchant - Minor Experience",description:"A weak enchant that increases the user's experience gained a little.",getIcon:()=>"experience",getEffects:()=>[i.createExpModifier(2.5)]}),enchant_minor_health:cn({slug:"enchant_minor_health",name:"Enchant - Minor Health",description:"A weak enchant that increases the user's health a little.",getIcon:()=>"health",getEffects:()=>[i.createMaxHp(10)]}),enchant_minor_strength:cn({slug:"enchant_minor_strength",name:"Enchant - Minor Strength",description:"A weak enchant that increases the user's strength a little.",getIcon:()=>"strength",getEffects:()=>[i.createStr(1)]}),enchant_minor_intelligence:cn({slug:"enchant_minor_intelligence",name:"Enchant - Minor Intelligence",description:"A weak enchant that increases the user's intelligence a little.",getIcon:()=>"intelligence",getEffects:()=>[i.createInt(1)]}),enchant_minor_dexterity:cn({slug:"enchant_minor_dexterity",name:"Enchant - Minor Dexterity",description:"A weak enchant that increases the user's dexterity a little.",getIcon:()=>"dexterity",getEffects:()=>[i.createDex(10)]}),enchant_minor_dr:cn({slug:"enchant_minor_dr",name:"Enchant - Minor Damage Reduction",description:"A weak enchant that increases the user's damage reduction a little.",getIcon:()=>"damage_reduction",getEffects:()=>[i.createDr(.5)]}),enchant_minor_mdef:cn({slug:"enchant_minor_mdef",name:"Enchant - Minor Magical Defense",description:"A weak enchant that increases the user's magical defense a little.",getIcon:()=>"magical_defense",getEffects:()=>[i.createMdef(.5)]}),enchant_poison:cn({slug:"enchant_poison",name:"Enchant - Poison",description:"When applied to equipment, causes the enemy to get poisoned with each hit.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.poison,caster:"player",target:"enemy"})]}),enchant_burning:cn({slug:"enchant_burning",name:"Enchant - Burning",description:"When applied to equipment, causes burning to the enemy with each hit.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.burning,caster:"player",target:"enemy"})]}),enchant_bleeding:cn({slug:"enchant_bleeding",name:"Enchant - Bleeding",description:"When applied to equipment, causes bleeding to the enemy with each hit.",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.bleeding,caster:"player",target:"enemy"})]}),enchant_kacadu_blessing:cn({slug:"enchant_kacadu_blessing",name:"Enchant - Kacadu's blessing",description:"",getEffects:()=>[i.createMaxHp(1e3),i.createMaxMp(500),i.createStr(50),i.createInt(50)]})}},Oe=function(e){return{__proto__:ea(e),type:"material",getTypeDescription:e.getTypeDescription||function(){return He(this.type)}}},_0=function(){return{fragment_mana:Oe({slug:"fragment_mana",name:"Mana Fragment",description:"Crystallized mana, rarely found in entities of magical nature, or those touched by mana.<br><br> Small and filled with impurities."}),fragment_fire:Oe({slug:"fragment_fire",name:"Fire Fragment",description:"Crystallized fire-attuned mana, rarely found in entities of fire nature.<br><br> Small and filled with impurities."}),fragment_water:Oe({slug:"fragment_water",name:"Water Fragment",description:"Crystallized water-attuned mana, rarely found in entities of water nature.<br><br> Small and filled with impurities."}),fragment_earth:Oe({slug:"fragment_earth",name:"Earth Fragment",description:"Crystallized earth-attuned mana, rarely found in entities of earth nature.<br><br> Small and filled with impurities."}),fragment_wind:Oe({slug:"fragment_wind",name:"Wind Fragment",description:"Crystallized wind-attuned mana, rarely found in entities of wind nature.<br><br> Small and filled with impurities."}),fragment_shadow:Oe({slug:"fragment_shadow",name:"Shadow Fragment",description:"Crystallized shadow-attuned mana, rarely found in entities of shadow nature.<br><br> Small and filled with impurities."}),fragment_holy:Oe({slug:"fragment_holy",name:"Holy Fragment",description:"Crystallized holy-attuned mana, rarely found in entities of holy nature.<br><br> Small and filled with impurities."})}},h0=function(){return{..._0(),rat_meat:Oe({slug:"rat_meat",name:"Rat Meat",description:"Beggars can't be choosers. Although you should probably cook it first."}),raw_meat:Oe({slug:"raw_meat",name:"Raw Meat",description:"A piece of raw flesh, better cook it first."}),wood:Oe({slug:"wood",name:"Wood",description:"A piece of wood."}),herb:Oe({slug:"herb",name:"Herb",description:"Herb, commonly used in medicine."}),bone:Oe({slug:"bone",name:"Bone",description:"Bone extracted from medium-sized beast. Can be processed in multiple ways."}),bone_dust:Oe({slug:"bone_dust",name:"Bone Dust",description:"A ground bone, necessary ingredient when it comes to crafting potions. Mainly those of recovery nature."}),item_slime:Oe({slug:"item_slime",name:"Slime",description:"Said to have mild healing effects. Also used as a binding agent."}),raw_hide:Oe({slug:"raw_hide",name:"Raw Hide",description:"Raw material used in crafting leather."}),leather:Oe({slug:"leather",name:"Leather",description:"Processed material, mostly used in making leather armor and durable working clothes."}),pristine_bear_pelt:Oe({slug:"pristine_bear_pelt",name:"Pristine Bear Pelt",description:"Perfectly extracted bear pelt, would make for a great cloak. Perhaps someone skilled with leather could help with that."}),wool:Oe({slug:"wool",name:"Wool",description:"Raw material used in crafting cloth."}),cloth:Oe({slug:"cloth",name:"Cloth",description:"Processed material, mostly used in making warm clothes. Also the material of choice for crafting magical robes."}),spider_silk:Oe({slug:"spider_silk",name:"Spider Silk",description:"Very durable and flexible, can be processed into string."}),string:Oe({slug:"string",name:"String",description:"Made out of spider silk. Necessary component when crafting clothes."}),wolf_fang:Oe({slug:"wolf_fang",name:"Wolf Fang",description:"Large wolf fang."}),iron_ore:Oe({slug:"iron_ore",name:"Iron Ore",description:"Raw material used in crafting iron ingots."}),iron_ingot:Oe({slug:"iron_ingot",name:"Iron Ingot",description:"Valuable material used for many things. Perfect for crafting durable weapons and armor."}),rune:Oe({slug:"rune",name:"Rune",description:"A piece of blank runestone, very rare and valuable. Used in making spell runes."}),feather:Oe({slug:"feather",name:"Feather",description:"A piece of feather."}),rabbit_fur:Oe({slug:"rabbit_fur",name:"Rabbit Fur",description:"A piece of rabbit fur."}),rat_tail:Oe({slug:"rat_tail",name:"Rat Tail",description:"A rat tail. Yuck."}),bat_wing:Oe({slug:"bat_wing",name:"Bat Wing",description:"A bat wing, might have some use in alchemy."}),boar_tusk:Oe({slug:"boar_tusk",name:"Boar Tusk",description:"A boar tusk, heavy."}),goat_horn:Oe({slug:"goat_horn",name:"Goat Horn",description:"A goat horn, pointy."}),twig:Oe({slug:"twig",name:"Twig",description:"A twig, quite brittle."})}},y0=["innerHTML"],v0=["innerHTML"],w0={key:1,class:"desc effects"},k0=["innerHTML"],b0={key:2,class:"enchants"},E0={class:"desc enchant"},I0=["innerHTML"],S0=["innerHTML"],x0={key:3,class:"description money"},M0=["innerHTML"],R0={__name:"SplitTooltip",setup(e){return(t,n)=>(g(),m(B,null,[l("div",{class:"title",innerHTML:r(w).props.title},null,8,y0),r(w).props.descriptions.description?(g(),m("div",{key:0,class:"desc lore",innerHTML:r(w).props.descriptions.description},null,8,v0)):T("",!0),r(w).props.descriptions.effects&&r(w).props.descriptions.effects.length>0?(g(),m("div",w0,[(g(!0),m(B,null,oe(r(w).props.descriptions.effects,s=>(g(),m("div",{innerHTML:s},null,8,k0))),256))])):T("",!0),r(w).props.descriptions.enchants.length?(g(),m("div",b0,[(g(!0),m(B,null,oe(r(w).props.descriptions.enchants,s=>(g(),m("div",E0,[l("div",{class:"enchant-title",innerHTML:s.title},null,8,I0),(g(!0),m(B,null,oe(s.descriptions,o=>(g(),m("div",{class:"enchant-stats",innerHTML:o},null,8,S0))),256))]))),256))])):T("",!0),r(w).props.price?(g(),m("div",x0,[J(Vn,{money:r(w).props.price},null,8,["money"])])):T("",!0),r(w).props.descriptions.type?(g(),m("div",{key:4,class:"desc type",innerHTML:r(w).props.descriptions.type},null,8,M0)):T("",!0),r(w).props.maxExp?(g(),xe(nn,{key:5,label:"",value:r(w).props.maxed?1:r(w).props.exp,maxValue:r(w).props.maxed?1:r(w).props.maxExp,color:"item-rank",hideValues:!!r(w).props.maxed},null,8,["value","maxValue","hideValues"])):T("",!0),r(w).props.startedAwakening?(g(),xe(nn,{key:6,class:"awakening",label:"",value:r(w).props.isAwakened?1:r(w).props.awakeningExp,maxValue:r(w).props.isAwakened?1:r(w).props.requiredAwakeningExp,color:"item-awakening",hideValues:!!r(w).props.isAwakened},null,8,["value","maxValue","hideValues"])):T("",!0)],64))}},T0=Q(R0,[["__scopeId","data-v-7924b157"]]),tt=function(e){return{__proto__:ea(e),type:"equip",isEquip:!0,powerLevel:e.powerLevel||1e3,enchantSlotsCount:e.enchantSlotsCount||0,canAwaken:e.canAwaken||!1,awakenedName:e.awakenedName||e.name,awakenedDescription:e.awakenedDescription||e.description,awakenedEnchantSlotsCount:e.awakenedEnchantSlotsCount||e.enchantSlotsCount,requiredAwakeningExp:e.requiredAwakeningExp||1,onAwakening:e.onAwakening||function(){},requiredRankExpModifier:e.requiredRankExpModifier||1,getExpForRank:e.getExpForRank||function(t){switch(t){case 0:return 1e3*this.requiredRankExpModifier;case 1:return 3e3*this.requiredRankExpModifier;case 2:return 9e3*this.requiredRankExpModifier;case 3:return 25e3*this.requiredRankExpModifier;case 4:return 4e4*this.requiredRankExpModifier;case 5:return 75e3*this.requiredRankExpModifier;case 6:return 15e4*this.requiredRankExpModifier}},getAwakenedEffects:e.getAwakenedEffects||function(){},getTooltipProps:e.getTooltipProps||function(t){return t=t||{},{component:le(T0),split:!0,rank:t.rank,price:t==null?void 0:t.price,title:Nt(t.isAwakened?this.awakenedName:this.name,t.rank,t.isAwakened),descriptions:{description:t.isAwakened?this.awakenedDescription:this.description,effects:this.getEffectDescriptions(t.rank,t.isAwakened),type:this.getTypeDescription(),enchants:[...Array(this.enchantSlotsCount).keys()].map(()=>({title:"<span class='c-gray'>Empty enchant slot</span>"}))}}},getEffectDescriptions:function(t,n){return t=t||0,(n?this.getAwakenedEffects():this.getEffects()).map(s=>s.effect.getDescription(ue.getRankEffectModifier(s.value,t)))}}},$0=function(){return{wooden_shield:tt({slug:"wooden_shield",slot:"offhand",name:"Wooden Shield",description:"Handy shield, might save your life.",enchantSlotsCount:1,powerLevel:1,requiredRankExpModifier:.3,getEffects:()=>[i.createDef(5),i.createDr(1)]}),quiver:tt({slug:"quiver",slot:"offhand",name:"Quiver",description:"Basic leather quiver.",enchantSlotsCount:1,powerLevel:5,getEffects:()=>[i.createDex(50)]}),novice_tome:tt({slug:"novice_tome",slot:"offhand",name:"Novice Tome",description:"Basic tome for novice mages. Improves spell casting ability.",enchantSlotsCount:2,powerLevel:5,getEffects:()=>[i.createIntPercentage(3),i.createMaxMpPercentage(3),i.createManaEfficiency(3),i.createMdef(5)]})}},D0=function(){return{test_weapon:tt({slug:"test_weapon",slot:"weapon",name:"Test Weapon",description:"Testing weapon, you should not have this. Tsk tsk.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createFireWeaponElement()],requiredRankExpModifier:.1,getIcon:()=>"training_sword"}),test_weapon2:tt({slug:"test_weapon2",slot:"offhand",name:"Test Weapon",description:"Testing weapon, you should not have this. Tsk tsk.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createWaterWeaponElement()],requiredRankExpModifier:.1,getIcon:()=>"training_sword"}),training_sword:tt({slug:"training_sword",slot:"weapon",name:"Training Sword",description:"Basic training sword, made out of wood.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createMaxHp(15),i.createStr(2)],canAwaken:!0,awakenedName:"Trainee's Determination",awakenedDescription:"From dawn until dusk, day after day, he kept swinging. His dream to climb the Tower.<br><br>And climb the tower he did. Alas, he did not get very far and perished.<br><br>The sword resonates with the soul of this poor lad whose name nobody remembers.",awakenedEnchantSlotsCount:2,requiredAwakeningExp:50,requiredRankExpModifier:.3,getAwakenedEffects:()=>[i.createMaxHp(50),i.createStr(6)],onAwakening:()=>{bt.unlockAchievement(Mt.training_sword_awakening)}}),iron_sword:tt({slug:"iron_sword",slot:"weapon",name:"Iron Sword",description:"A sword made out of iron, pretty reliable.",enchantSlotsCount:0,powerLevel:1,getEffects:()=>[i.createStr(5)],canAwaken:!0,awakenedName:"Halvord's Reliability",awakenedDescription:"His father was a blacksmith. When he reached adulthood, his father gifted him a seemingly basic sword. At that time he questioned his father in his mind, but did not say a word.<br><br> Thirty years passed, and the very same sword still hung on his hip. Only much later, when his father was long dead, did he realize that this sword was his father's masterpiece.<br><br> A slight regret tinged his heart, since he did not appreciate his father's art. Luckily, his son inherited the late blacksmith's talent which appeased his regret and filled him with pride.<br><br> Every day he climbed the tower to provide for his family. Just like the sword he wore, he was reliable. He knew his limits, did not push his luck and returned home safely with enough to live comfortably. Despite climbing the tower his whole life, he passed in his sleep.<br><br> The sword resonates with the soul of Halvord.",awakenedEnchantSlotsCount:1,requiredAwakeningExp:20,getAwakenedEffects:()=>[i.createMaxHp(100),i.createStr(15),i.createDr(2)],onAwakening:()=>{bt.unlockAchievement(Mt.iron_sword_awakening)}}),hunting_bow:tt({slug:"hunting_bow",slot:"weapon",name:"Hunting Bow",description:"Useful for hunting game",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createStr(2),i.createDex(20),i.createBeastHatred(25)],canAwaken:!0,awakenedName:"Kylee's Regret",awakenedDescription:"Since early childhood, she spent most of her time in the forest, familiarizing herself with its fauna. Having grown up, she became an excellent huntress, albeit a bit arrogant.<br><br>Despite being warned by her father countless times, she set out to hunt the bear.<br><br> The bow resonates with the soul of Kylee.",awakenedEnchantSlotsCount:2,requiredAwakeningExp:20,getAwakenedEffects:()=>[i.createStr(10),i.createDex(100),i.createBeastHatred(50)],onAwakening:()=>{bt.unlockAchievement(Mt.hunting_bow_awakening)}}),novice_staff:tt({slug:"novice_staff",slot:"weapon",name:"Novice Staff",description:"Basic wooden staff with some pieces of crystal embedded in the wood.",enchantSlotsCount:2,powerLevel:1,getEffects:()=>[i.createMaxMp(20),i.createInt(5),i.createMpRegen(.1)],canAwaken:!0,awakenedName:"Jorm's Foolishness",awakenedDescription:"Young bachelor with huge prospects. He was, after all, a rune user.<br><br> By sheer luck he obtained a rune and even managed to inscribe it with fire arrow. Unfortunately, this made him underestimate the importance of bringing some spell scrolls with him, especially as a pure magic user, as he called himself.<br><br> After all, he had no need for scrolls as someone with a rune, a permanent source of spell. Fighting fire slime with only a fire arrow rune made him realize his mistake.<br><br> This staff resonates with the soul of Jorm.",awakenedEnchantSlotsCount:3,requiredAwakeningExp:25,getAwakenedEffects:()=>[i.createMaxMp(30),i.createInt(10),i.createFirePower(25),i.createMpRegen(.2)],onAwakening:()=>{bt.unlockAchievement(Mt.novice_staff_awakening)}}),felling_axe:tt({slug:"felling_axe",slot:"weapon",name:"Felling Axe",description:"Axe used for cutting trees.<br><br>Doubles the amount of wood gained from trees.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createPlantHatred(25)],canAwaken:!0,awakenedName:"Stronk's Relentlessness",awakenedDescription:"Chopping trees was his life's calling.<br><br>Every day, without fail, he arrived at the forest to chop trees. No matter the weather, no matter how battered his body was, he kept his axe in his hands.<br><br>Until one day, he was found dead standing in front of a tree, his axe firmly stuck in a tree.<br><br> This axe resonates with the soul of Stronk.<br><br> Triples the amount of wood gained from trees.",awakenedEnchantSlotsCount:2,requiredAwakeningExp:1,requiredRankExpModifier:.1,getAwakenedEffects:()=>[i.createPlantHatred(50)],onAwakening:()=>{bt.unlockAchievement(Mt.felling_axe_awakening)}})}},Un=function(e){return{__proto__:tt(e),type:"equip",slot:"rune",isRune:!0,getSpell:e.getSpell||function(){},chance:e.chance||0,requiredRankExpModifier:e.requiredRankExpModifier||1,getExpForRank:e.getExpForRank||function(t){switch(t){case 0:return 500*this.requiredRankExpModifier;case 1:return 1500*this.requiredRankExpModifier;case 2:return 5e3*this.requiredRankExpModifier;case 3:return 12500*this.requiredRankExpModifier;case 4:return 25e3*this.requiredRankExpModifier;case 5:return 5e4*this.requiredRankExpModifier;case 6:return 1e5*this.requiredRankExpModifier}},getCost:e.getCost||function(t){return this.getSpell().getCost()},getChance:function(t){let n=t===7?2:1+t*14/100;return bn(at(this.chance*n),100)},getTooltipProps:function(t){t=t||{};let n=this.getSpell().getTooltipProps(t.rank);return n.split=!1,n.title=this.name,n.cost=this.getCost(t.rank),n.chance=this.getChance(t.rank),n.descriptions.description=this.getSpell().description,n.descriptions.type=this.getTypeDescription(),n}}},C0=function(){return{rune_test:Un({slug:"rune_test",name:"Rune - Kuro's might",chance:0,powerLevel:1,requiredRankExpModifier:.1,getSpell:()=>ce.test_test,getEffects:()=>[i.createMdef(50),i.createCritPower(50),i.createStrPercentage(10)]}),rune_arcane_bolt:Un({slug:"rune_arcane_bolt",name:"Rune - Arcane Bolt",chance:20,powerLevel:1,requiredRankExpModifier:.1,getSpell:()=>ce.arcane_bolt}),rune_fire_arrow:Un({slug:"rune_fire_arrow",name:"Rune - Fire Arrow",chance:20,powerLevel:1,requiredRankExpModifier:.1,getSpell:()=>ce.fire_arrow}),rune_water_splash:Un({slug:"rune_water_splash",name:"Rune - Water Splash",chance:20,powerLevel:1,requiredRankExpModifier:.1,getSpell:()=>ce.water_splash}),rune_stone_bullet:Un({slug:"rune_stone_bullet",name:"Rune - Stone Bullet",chance:20,powerLevel:1,requiredRankExpModifier:.1,getSpell:()=>ce.stone_bullet}),rune_wind_blast:Un({slug:"rune_wind_blast",name:"Rune - Wind Blast",chance:20,powerLevel:1,requiredRankExpModifier:.1,getSpell:()=>ce.wind_blast}),rune_fireball:Un({slug:"rune_fireball",name:"Rune - Fireball",chance:20,powerLevel:1,requiredRankExpModifier:.1,getSpell:()=>ce.fireball}),rune_heal:Un({slug:"rune_heal",name:"Rune - Heal",chance:10,powerLevel:1,requiredRankExpModifier:.1,getSpell:()=>ce.heal}),rune_meditation:Un({slug:"rune_meditation",name:"Rune - Meditation",chance:50,powerLevel:1,requiredRankExpModifier:1,getSpell:()=>ce.meditation})}};function ku(e){return e.charAt(0).toUpperCase()+e.slice(1)}function sc(e){let t=e.split("_"),n=[];return t.forEach(s=>{n.push(ku(s))}),n.join(" ")}const gn=function(e){let t=e.spell.slug;return{__proto__:jt(e),slug:"scroll_of_"+t,name:"Scroll - "+sc(t),slot:"scroll",isScroll:!0,description:"Casts "+sc(t),cooldown:1,getSpell:()=>ce[t],getCost:e.getCost||function(){return this.getSpell().getCost(.5)},use:function(){if(A.isSilenced())return ee.commonMessage("You are silenced.","c-danger"),!1;let n=this.getSpell().use(this.getCost());return(n==="target-died"||n===!0)&&rt.consumableUsed(this),n==="target-died"?(q.handleEnemyDeath(),!0):n},getTooltipProps:function(n){let s=this.getSpell().getTooltipProps(n==null?void 0:n.rank);return s.title=this.name,s.cost=this.getCost(),s.descriptions.description=this.getSpell().description,s.descriptions.type=ku(this.slot),s.price=n==null?void 0:n.price,s}}},H0=function(){return{scroll_of_arcane_bolt:gn({spell:ce.arcane_bolt}),scroll_of_arcane_blast:gn({spell:ce.arcane_blast})}},P0=function(){return{scroll_of_fire_arrow:gn({spell:ce.fire_arrow}),scroll_of_fireball:gn({spell:ce.fireball})}},A0=function(){return{scroll_of_water_splash:gn({spell:ce.water_splash}),scroll_of_water_jet:gn({spell:ce.water_jet})}},B0=function(){return{scroll_of_stone_bullet:gn({spell:ce.stone_bullet}),scroll_of_rockfall:gn({spell:ce.rockfall})}},q0=function(){return{scroll_of_wind_blast:gn({spell:ce.wind_blast}),scroll_of_wind_cutter:gn({spell:ce.wind_cutter})}},F0=function(){return{scroll_of_heal:gn({spell:ce.heal}),scroll_of_meditation:gn({spell:ce.meditation})}},U0=function(){return{...H0(),...P0(),...A0(),...B0(),...q0(),...F0()}},Ue=function(e){const t=e.slug.split("_");return t.shift(),e.getSource=()=>ae[t.join("_")],e.getName=()=>"Card - "+e.getSource().name,e.getDescription=()=>"Contains the essence of "+e.getSource().name+".",{__proto__:cn(e),type:"enchant",isCard:!0,getSource:e.getSource||function(){},getName:e.getName||function(){},getDescription:e.getDescription||function(){}}},L0=function(){return{card_training_dummy:Ue({slug:"card_training_dummy",getEffects:()=>[i.createExpModifier(5)]}),card_rat:Ue({slug:"card_rat",getEffects:()=>[i.createMaxHp(20)]}),card_tree:Ue({slug:"card_tree",getEffectDescriptions:function(){return['Adds a 5% base chance to receive <span class="c-earth">Wood</span> on any kill (non-stacking).']}}),card_weed:Ue({slug:"card_weed",getEffectDescriptions:function(){return['Adds a 5% base chance to receive <span class="c-wind">Herb</span> on any kill (non-stacking).']}}),card_chicken:Ue({slug:"card_chicken",getEffects:()=>[i.createInt(2)]}),card_rabbit:Ue({slug:"card_rabbit",getEffects:()=>[i.createDex(20)]}),card_wolf:Ue({slug:"card_wolf",getEffects:()=>[i.createStr(2)]}),card_warthog:Ue({slug:"card_warthog",getEffects:()=>[i.createDr(1)]}),card_mountain_goat:Ue({slug:"card_mountain_goat",getEffects:()=>[i.createMdef(1)]}),card_bear:Ue({slug:"card_bear",getEffects:()=>[i.createStatusEffectTriggerEffect({statusEffect:pe.bleeding,caster:"player",target:"enemy"})]}),card_bat:Ue({slug:"card_bat",getEffects:()=>[i.createShadowHatred(10)]}),card_spider:Ue({slug:"card_spider",getEffects:()=>[i.createPoisonResistance(10)]}),card_iron_vein:Ue({slug:"card_iron_vein",getEffectDescriptions:function(){return['Adds a 5% base chance to receive <span class="c-neutral">Iron Ore</span> on any kill (non-stacking).']}}),card_slime:Ue({slug:"card_slime",getEffects:()=>[i.createFormlessHatred(10)]}),card_slime_fire:Ue({slug:"card_slime_fire",getEffects:()=>[i.createFireResistance(1)]}),card_slime_water:Ue({slug:"card_slime_water",getEffects:()=>[i.createWaterResistance(1)]}),card_slime_earth:Ue({slug:"card_slime_earth",getEffects:()=>[i.createEarthResistance(1)]}),card_slime_wind:Ue({slug:"card_slime_wind",getEffects:()=>[i.createWindResistance(1)]}),card_slime_holy:Ue({slug:"card_slime_holy",getEffects:()=>[i.createHolyResistance(1)]}),card_slime_shadow:Ue({slug:"card_slime_shadow",getEffects:()=>[i.createShadowResistance(1)]}),card_slimer:Ue({slug:"card_slimer",getEffects:()=>[i.createFormlessHatred(15)]}),card_slimer_fire:Ue({slug:"card_slimer_fire",getEffects:()=>[i.createFireResistance(2)]}),card_slimer_water:Ue({slug:"card_slimer_water",getEffects:()=>[i.createWaterResistance(2)]}),card_slimer_earth:Ue({slug:"card_slimer_earth",getEffects:()=>[i.createEarthResistance(2)]}),card_slimer_wind:Ue({slug:"card_slimer_wind",getEffects:()=>[i.createWindResistance(2)]}),card_slimer_holy:Ue({slug:"card_slimer_holy",getEffects:()=>[i.createHolyResistance(2)]}),card_slimer_shadow:Ue({slug:"card_slimer_shadow",getEffects:()=>[i.createShadowResistance(2)]}),card_slimelord:Ue({slug:"card_slimelord",getEffects:()=>[i.createFormlessHatred(20)]}),card_slimelord_fire:Ue({slug:"card_slimelord_fire",getEffects:()=>[i.createFireHatred(20)]}),card_slimelord_water:Ue({slug:"card_slimelord_water",getEffects:()=>[i.createWaterHatred(20)]}),card_slimelord_earth:Ue({slug:"card_slimelord_earth",getEffects:()=>[i.createEarthHatred(20)]}),card_slimelord_wind:Ue({slug:"card_slimelord_wind",getEffects:()=>[i.createWindHatred(20)]}),card_slimelord_holy:Ue({slug:"card_slimelord_holy",getEffects:()=>[i.createHolyHatred(20)]}),card_slimelord_shadow:Ue({slug:"card_slimelord_shadow",getEffects:()=>[i.createShadowHatred(20)]})}},O0=function(){return{test_armor:tt({slug:"test_armor",slot:"armor",name:"Test Armor",description:"For testing purposes. You should not have this.",enchantSlotsCount:2,powerLevel:1,getEffects:()=>[i.createStr(95),i.createDef(100),i.createDr(100),i.createInt(40),i.createFireArmorElement(),i.createPoisonResistance(10),i.createBleedingResistance(80),i.createBurningResistance(12),i.createMpRegenPercentage(50),i.createHpRegenPercentage(50)]}),test_armor2:tt({slug:"test_armor2",slot:"armor",name:"Test Armor",description:"For testing purposes. You should not have this.",enchantSlotsCount:2,powerLevel:1,getEffects:()=>[i.createWaterArmorElement()],getIcon:()=>"test_armor"}),iron_armor:tt({slug:"iron_armor",slot:"armor",name:"Iron Armor",description:"An armor made out of iron, provides very good protection when it comes to mundane equipment.",enchantSlotsCount:0,powerLevel:1,getEffects:()=>[i.createMaxHp(30),i.createDef(10),i.createDr(3),i.createStr(4)]}),leather_armor:tt({slug:"leather_armor",slot:"armor",name:"Leather Armor",description:"An armor made out of regular leather, provides decent protection while being very flexible.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createMaxHp(20),i.createDef(7),i.createDr(2),i.createDex(50)]}),novice_robe:tt({slug:"novice_robe",slot:"armor",name:"Novice Robe",description:"Smooth to the touch, imbued with mana. Provides no physical protection but enhances magical capabilities.",enchantSlotsCount:2,powerLevel:1,getEffects:()=>[i.createMaxMp(15),i.createMdef(10),i.createInt(4),i.createMpRegen(.1)]})}},W0=function(){return{iron_helmet:tt({slug:"iron_helmet",slot:"headgear",name:"Iron Helmet",description:"Basic helmet made out of iron, provides very good protection when it comes to mundane equipment.",enchantSlotsCount:0,powerLevel:1,getEffects:()=>[i.createMaxHp(15),i.createDef(5),i.createDr(1),i.createStr(2)]}),leather_hat:tt({slug:"leather_hat",slot:"headgear",name:"Leather Hat",description:"A hat made out of regular leather, provides minor protection.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createMaxHp(10),i.createDef(3),i.createDr(1),i.createDex(20)]}),novice_hat:tt({slug:"novice_hat",slot:"headgear",name:"Novice Hat",description:"Smooth to the touch, imbued with mana.",enchantSlotsCount:2,powerLevel:1,getEffects:()=>[i.createMaxMp(8),i.createMdef(5),i.createInt(2)]})}},G0=function(){return{iron_boots:tt({slug:"iron_boots",slot:"shoes",name:"Iron Boots",description:"A pair of boots made out of iron, provides very good protection when it comes to mundane equipment.",enchantSlotsCount:0,powerLevel:1,getEffects:()=>[i.createMaxHp(20),i.createDef(7),i.createDr(2),i.createStr(3)]}),leather_shoes:tt({slug:"leather_shoes",slot:"shoes",name:"Leather Shoes",description:"A pair of shoes made out of regular leather, provides decent protection.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createMaxHp(15),i.createDef(5),i.createDr(1),i.createDex(40)]}),novice_shoes:tt({slug:"novice_shoes",slot:"shoes",name:"Novice Shoes",description:"Smooth to the touch, imbued with mana. Provides no physical protection but enhances magical capabilities.",enchantSlotsCount:2,powerLevel:1,getEffects:()=>[i.createMaxMp(8),i.createMdef(7),i.createInt(3)]})}},K0=function(){return{bear_cloak:tt({slug:"bear_cloak",slot:"garment",name:"Bear Cloak",description:"A cloak made out of pristine bear pelt. Surprisingly very sturdy, provides moderate protection.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createMaxHp(15),i.createDef(5),i.createDr(1),i.createNeutralResistance(10)]})}},j0=function(){return{iron_ring:tt({slug:"iron_ring",slot:"accessory_left",name:"Iron Ring",description:"A simple iron ring.",enchantSlotsCount:1,powerLevel:1,requiredRankExpModifier:.5,getEffects:()=>[]}),slime_ring:tt({slug:"slime_ring",slot:"accessory_left",name:"Slime Ring",description:"Amalgamation of slime and iron in the form of a ring.",enchantSlotsCount:0,powerLevel:5,requiredRankExpModifier:.5,getEffects:()=>[i.createDropModifier(5)]})}},N0=function(){return{wooden_armguard:tt({slug:"wooden_armguard",slot:"accessory_right",name:"Wooden Armguard",description:"A few pieces of wood strung together, provides some protection.",enchantSlotsCount:0,powerLevel:1,requiredRankExpModifier:.3,getEffects:()=>[i.createDr(1)]}),iron_earring:tt({slug:"iron_earring",slot:"accessory_right",name:"Iron Earring",description:"A simple iron earring.",enchantSlotsCount:1,powerLevel:1,requiredRankExpModifier:.5,getEffects:()=>[]}),slime_earring:tt({slug:"slime_earring",slot:"accessory_right",name:"Slime Earring",description:"Amalgamation of slime and iron in the form of an earring.",enchantSlotsCount:0,powerLevel:5,requiredRankExpModifier:.5,getEffects:()=>[i.createExpModifier(10)]})}},V0=function(){return{wolf_fang_amulet:tt({slug:"wolf_fang_amulet",slot:"amulet",name:"Fang Amulet",description:"An amulet made out of wolf fangs. A hunter's trophy.",enchantSlotsCount:1,powerLevel:1,getEffects:()=>[i.createBeastHatred(20)]})}},Q0=function(e){return{__proto__:ea(e),type:"junk",getTypeDescription:e.getTypeDescription||function(){return He(this.type)}}},Y0=function(){return{ruined_bear_pelt:Q0({slug:"ruined_bear_pelt",name:"Ruined Bear Pelt",description:"Ruined bear pelt, useless."})}},J0=function(){return{novice_tome_page:Oe({slug:"novice_tome_page",name:"Novice Tome Page",description:"Random page from Novice Tome, can be reassembled with enough pieces and a diagram."})}},u={...K0(),...W0(),...V0(),...D0(),...O0(),...$0(),...N0(),...G0(),...j0(),...C0(),...m0(),...U0(),...p0(),...L0(),...h0(),...J0(),...Y0()},z0=function(e){return{id:c.get().helpers.inventoryId++,slug:e.slug,amount:e.amount||1,isEquipped:e.isEquipped||!1,isFavorite:e.isFavorite||!1,isHeirloom:e.isHeirloom||!1,isHidden:e.isHidden||!1,isDeletable:e.isDeletable||!0,enchantSlots:e.enchantSlots||[],cooldown:e.cooldown||0,isAwakened:!1,startedAwakening:!1,canAwaken:!1,awakeningExp:0,rank:0,exp:0,hotkey:null}},S={add:function(e,t,n){rt.itemObtained(e,t);const s=c.get();let o=null;if(n||ee.itemMessage(e,t),e.isEquip){for(let d=0;d<t;d++){const f=S.createInventoryItem(e,1);s.inventory.push(f),e.isRune&&(f.isHeirloom=!0)}return}e.isCard&&sn.unlockEntry(e.getSource());let a=S.getInventoryItem(e);a?a.amount+=t:(e.isReadable&&(o=S.createInventoryItem(e,t),o.readingDuration=e.readingDuration),s.inventory.push(o||S.createInventoryItem(e,t)))},remove:function(e,t){const n=c.get();let s=n.inventory.indexOf(e);if(!e.isEquipped){if(S.getItem(e).isEquip){w.visible=!1,n.inventory.splice(s,1);return}if(e.amount<t){ee.commonMessage("You cannot remove more items than you have.","c-danger");return}if(e.amount===t){w.visible=!1,n.inventory.splice(s,1);return}n.inventory[s].amount-=t}},get:function(){return S.sort(S.filter(c.get().inventory))},getRaw:function(){return c.get().inventory},createInventoryItem:function(e,t){return z0({slug:e.slug,amount:t})},useInventoryItem:function(e){if(A.isStunned()){ee.commonMessage("You are stunned.","c-danger");return}let t=S.getItem(e);if(t.isEquip){let n=t.isRune?wo:ue;e.isEquipped?n.remove(e.id):n.add(e);return}if(t.isEnchant){t.use();return}if(t.isReadable){t.use()==="already-learned"&&ee.commonMessage("You already know this recipe!","c-danger");return}if(t.isConsumable){if(e.cooldown>0)return;let n=t.use();if(e.cooldown=t.cooldown,n===!0){S.remove(e,1);return}n==="no-target"&&ee.commonMessage("No target.","c-danger"),n==="no-mp"&&ee.commonMessage("You do not have enough mana!","c-danger");return}console.log("unexpected item used")},getInventoryItemQuantity:function(e){let t=S.getInventoryItem(e);return t?t.amount:0},getCleanInventoryItems:function(e){return c.get().inventory.filter(t=>t.slug===e.slug&&ze.isClean(t))},getInventoryItem:function(e){return c.get().inventory.find(t=>t.slug===e.slug)},getInventoryItemById:function(e){return c.get().inventory.find(t=>t.id==e)},getItem:function(e){return e===null?null:u[e.slug]},getItemById:function(e){return S.getItem(S.getInventoryItemById(e))},tickCooldowns:function(){S.getRaw().forEach(e=>e.cooldown=fn(e.cooldown-1,0))},sort:function(e){const t=c.get();return e.sort((n,s)=>{if(n.isEquipped&&!s.isEquipped)return 1;if(!n.isEquipped&&s.isEquipped)return-1;if(n.isFavorite&&!s.isFavorite)return 1;if(!n.isFavorite&&s.isFavorite)return-1;let o=t.inventorySettings.sort,a=ze.getName(n),d=ze.getName(s);if(o==="alpha_asc")return-1*a.localeCompare(d);if(o==="alpha_desc")return a.localeCompare(d);if(o==="quantity_asc")return n.amount<s.amount?1:-1;if(o==="quantity_desc")return n.amount>s.amount?1:-1;const f=["equip","consumable","readable","material","junk","enchant","card"];return o==="type_asc"?f.indexOf(S.getItem(n).type)<f.indexOf(S.getItem(s).type)?1:-1:o==="type_desc"?f.indexOf(S.getItem(n).type)>f.indexOf(S.getItem(s).type)?1:-1:n.id<s.id?1:-1}).reverse()},filter:function(e){let t=c.get().inventorySettings.filter;return e.filter(n=>{if(n.isHidden)return t==="isHidden";let s=S.getItem(n);return t==="none"?!0:t==="etc"?!s.isEquip&&!s.isConsumable:t==="isConsumable"?s.isConsumable&&!s.isEnchant:t==="isHeirloom"?n.isHeirloom:s[t]})},setFilter:function(e){c.get().inventorySettings.filter=e},getFilter:function(){return c.get().inventorySettings.filter},setSort:function(e){const t=c.get();if(e==="default"){t.inventorySettings.sort="none";return}if(t.inventorySettings.sort==="none"){t.inventorySettings.sort=e+"_asc";return}let n=t.inventorySettings.sort.split("_");n[0]=e,n[1]=n[1]==="asc"?"desc":"asc",t.inventorySettings.sort=n.join("_")},toggleFavorite:function(e){e.isFavorite=!e.isFavorite},toggleHidden:function(e){e.isHidden=!e.isHidden,O()}},ue={maxRank:Io.length-1,add:function(e){const t=c.get();let s=S.getItem(e).slot;t.equipment[s]&&ue.remove(t.equipment[s]),t.equipment[s]=e.id,ue.applyEquipEffects(e),e.isEquipped=!0,St.stop(),O()},remove:function(e){const t=S.getInventoryItemById(e);c.get().equipment[S.getItem(t).slot]=null,ue.removeEquipEffects(t),t.isEquipped=!1},getEquippedItem:function(e){return S.getItemById(c.get().equipment[e])},itemIsEquipped:function(e,t){return ue.getEquippedInventoryItems().some(n=>n.slug===e.slug&&(t?n.isAwakened:!0))},cardIsEquipped:function(e){return ue.getEquippedInventoryItems().some(t=>t.enchantSlots.some(n=>n===e.slug))},getEquippedInventoryItems:function(){const e=[];return ue.getEquipmentSlots().forEach(t=>{const n=S.getInventoryItemById(c.get().equipment[t]);n&&e.push(n)}),e},getEquippedInventoryItem:function(e){return S.getInventoryItemById(c.get().equipment[e])},getEquipmentSlots:function(){return Object.keys(c.get().equipment)},applyEquipEffects:function(e,t){let n=(s,o)=>a=>(t?a.effect.eachTick:!a.effect.eachTick)&&a.effect.up(c.get().player,ue.getRankEffectModifier(a.value,e.rank),s,o);ze.getEffects(e).forEach(n(e.id,"item")),ue.forEachEnchantEffect(e,n)},removeEquipEffects:function(e){const t=c.get();let n=(s,o)=>a=>a.effect.down(t.player,s);ze.getEffects(e).forEach(n(e.id)),ue.forEachEnchantEffect(e,n),$s(t.player)},forEachEnchantEffect:function(e,t){e.enchantSlots.forEach((n,s)=>{var o;return(o=u[n])==null?void 0:o.getEffects().forEach(t(`${n}_${e.id}_${s}`,"enchant"))})},getRankEffectModifier:function(e,t){let n=1+t*14/100;return t===7&&(n=2),at(e*n)},gainExpAllEquip:function(e){ue.getEquipmentSlots().forEach(function(t){const n=S.getInventoryItemById(c.get().equipment[t]);ue.gainExp(n,e)})},gainExp:function(e,t){!e||e.rank===ue.maxRank||(e.exp+=t,ue.handleRankUp(e),ze.updateTooltip(e))},handleRankUp:function(e){if(e.rank===ue.maxRank)return;let t=S.getItem(e),n=t.getExpForRank(e.rank);if(!(e.exp<n)){if(e.rank++,e.exp=e.exp-n,ue.applyEquipEffects(e),ee.inventoryItemRankUpMessage(e),e.rank===ue.maxRank&&t.canAwaken){ue.startAwakening(e);return}ue.handleRankUp(e)}},startAwakening:function(e){ee.startAwakeningMessage(e),e.startedAwakening=!0},feeding:function(){return c.get().activeFeeding!==null},getFeedingInventoryItem:function(){return S.getInventoryItemById(c.get().activeFeeding)},startFeeding:function(e){ue.getFeedableItems(e).length<=0||(c.get().activeFeeding=e.id)},stopFeeding:function(){c.get().activeFeeding=null},getFeedingInventoryItem:function(){return S.getInventoryItemById(c.get().activeFeeding)},getFeedingFuel:function(e){const t=ue.getFeedableItems(e),n=S.getItem(e).requiredAwakeningExp-e.awakeningExp,s=t.length>n?n:t.length;return t.slice(0,s)},feed:function(){const e=ue.getFeedingInventoryItem(),t=ue.getFeedingFuel(e),n=t.length;t.forEach(s=>{S.remove(s,1)}),ee.feedingMessage(e,S.getItem(e),n),e.canAwaken||(e.awakeningExp+=n),e.awakeningExp>=S.getItem(e).requiredAwakeningExp&&(ee.awakeningAvailableMessage(e),e.canAwaken=!0),ue.stopFeeding()},getFeedableItems:function(e){return S.getCleanInventoryItems(S.getItem(e))},awaken:function(e){ee.awakeningMessage(e),S.getItem(e).onAwakening(),e.isAwakened=!0,e.isEquipped&&(ue.removeEquipEffects(e),ue.applyEquipEffects(e))}};function zn(e,t=1){let s=(e.rank||0)+1;return e.level*s*t}function ic(){const e=[];return ue.cardIsEquipped(u.card_tree)&&e.push(N(u.wood,5,1)),ue.cardIsEquipped(u.card_weed)&&e.push(N(u.herb,5,1)),ue.cardIsEquipped(u.card_iron_vein)&&e.push(N(u.iron_ore,5,1)),e}const $e=function(e){return{slug:e.slug,name:e.name,description:e.description,rank:e.rank||0,level:e.level,exp:On(e.exp,zn(e)),hp:On(e.maxHp,zn(e,10)),maxHp:On(e.maxHp,zn(e,10)),mp:On(e.maxMp!==void 0?e.maxHp:zn(e)),maxMp:On(e.maxMp,zn(e)),str:On(e.str,zn(e)),dex:On(e.dex,zn(e)),int:On(e.int,zn(e)),def:e.def||0,mdef:e.mdef||0,dr:e.dr||0,hpRegen:e.hpRegen||0,hpRegenPercentage:e.hpRegenPercentage||0,isBoss:e.isBoss||!1,dealsDamage:e.dealsDamage===void 0?!0:e.dealsDamage,race:e.race,raceResistances:e.raceResistances,raceHatreds:e.raceHatreds,elementResistances:e.elementResistances,elementHatreds:e.elementHatreds,elementPowers:e.elementPowers,armorElement:e.armorElement||k.neutral,weaponElement:e.weaponElement||k.neutral,bleedingResistance:e.bleedingResistance||0,burningResistance:e.burningResistance||0,poisonResistance:e.poisonResistance||0,skill:e.skill||K.combat_mastery,image:e.image||P(e.slug),excludeFromBestiary:e.excludeFromBestiary||!1,getName:function(){return this.name},getDrops:function(){return e.getDrops?[...ic(),...e.getDrops()]:ic()},getSpells:e.getSpells||function(){return[]},onKill:e.onKill||function(){}}},X0=function(){return{training_dummy:$e({slug:"training_dummy",name:"Training Dummy",level:1,dex:0,int:0,def:0,mdef:0,race:X.construct,getDrops:()=>[N(u.twig,10,1),N(u.card_training_dummy,et.cardDropRate,1)]}),rat:$e({slug:"rat",name:"Rat",level:2,dex:50,int:0,def:0,mdef:0,maxMp:1,race:X.beast,getSpells:function(){return[{spell:ce.enemy_poison_bite,chance:5}]},getDrops:()=>[N(u.rat_meat,10,1),N(u.rat_tail,10,1),N(u.card_rat,et.cardDropRate,1)]})}},Z0=function(){return{tree:$e({slug:"tree",name:"Tree",level:1,maxHp:500,maxMp:0,str:0,dex:0,int:0,def:0,mdef:0,exp:5,race:X.plant,armorElement:k.earth,skill:K.woodcutting,dealsDamage:!1,getDrops:()=>{const e=ue.itemIsEquipped(u.felling_axe),t=ue.itemIsEquipped(u.felling_axe,!0);return[e?t?N(u.wood,100,3):N(u.wood,100,2):N(u.wood,100,1),N(u.card_tree,et.cardDropRate,1)]}}),weed:$e({slug:"weed",name:"Weed",level:1,maxHp:1,maxMp:0,str:0,dex:0,int:0,def:0,mdef:0,race:X.plant,armorElement:k.earth,skill:K.herbalism,dealsDamage:!1,getDrops:()=>[N(u.herb,5,1),N(u.card_weed,et.cardDropRate,1)]}),chicken:$e({slug:"chicken",name:"Chicken",level:2,maxMp:0,dex:3,int:10,def:0,mdef:0,race:X.beast,getDrops:()=>[N(u.raw_meat,3,1),N(u.feather,5,1),N(u.card_chicken,et.cardDropRate,1)]}),rabbit:$e({slug:"rabbit",name:"Rabbit",level:5,maxMp:0,str:3,dex:200,int:0,def:0,mdef:0,race:X.beast,getDrops:()=>[N(u.raw_meat,3,1),N(u.rabbit_fur,5,1),N(u.card_rabbit,et.cardDropRate,1)]}),mountain_goat:$e({slug:"mountain_goat",name:"Mountain Goat",level:7,str:6,dex:15,int:3,def:5,mdef:10,maxMp:1,race:X.beast,getDrops:()=>[N(u.raw_meat,5,1),N(u.bone,5,1),N(u.wool,5,1),N(u.goat_horn,.5,1),N(u.card_mountain_goat,et.cardDropRate,1)],getSpells:function(){return[{spell:ce.enemy_impale,chance:5}]}}),warthog:$e({slug:"warthog",name:"Warthog",level:8,maxMp:1,str:7,dex:10,int:0,def:10,mdef:0,dr:1,race:X.beast,getDrops:()=>[N(u.raw_meat,10,1),N(u.raw_hide,5,1),N(u.bone,5,1),N(u.boar_tusk,.5,1),N(u.card_warthog,et.cardDropRate,1)],getSpells:function(){return[{spell:ce.enemy_tackle,chance:5}]}}),wolf:$e({slug:"wolf",name:"Wolf",level:12,maxMp:1,str:10,dex:50,int:0,def:5,mdef:0,race:X.beast,getDrops:()=>[N(u.raw_meat,5,1),N(u.raw_hide,5,1),N(u.bone,5,1),N(u.wolf_fang,.5,1),N(u.card_wolf,et.cardDropRate,1)],getSpells:function(){return[{spell:ce.enemy_sharp_swipe,chance:5}]}}),bear:$e({slug:"bear",name:"Bear",level:20,race:X.beast,rank:1,maxHp:1200,maxMp:1,str:25,dex:60,int:0,def:20,mdef:0,dr:2,hpRegen:5,exp:500,isBoss:!0,getDrops:()=>[N(u.raw_meat,100,5),ue.itemIsEquipped(u.hunting_bow)?N(u.pristine_bear_pelt,100,1):N(u.ruined_bear_pelt,100,1),N(u.raw_hide,50,5),N(u.bone,50,5),N(u.card_bear,1,1)],getSpells:function(){return[{spell:ce.enemy_sharp_swipe,chance:100}]},onKill:function(){const e=S.getInventoryItemById(c.get().equipment.weapon);e&&e.slug===u.hunting_bow.slug&&e.isAwakened&&e.isEquipped&&bt.unlockAchievement(Mt.hunting_bow_resonance)}}),bat:$e({slug:"bat",name:"Bat",level:15,str:12,dex:100,int:0,def:10,mdef:10,dr:1,race:X.beast,element:k.shadow,getDrops:()=>[N(u.bat_wing,5,1),N(u.card_bat,et.cardDropRate,1)]}),spider:$e({slug:"spider",name:"Spider",level:17,str:15,dex:100,int:0,def:10,mdef:10,dr:2,race:X.insect,element:k.shadow,getDrops:()=>[N(u.spider_silk,5,1),N(u.card_spider,et.cardDropRate,1)],getSpells:function(){return[{spell:ce.enemy_poison_bite,chance:5}]}}),iron_vein:$e({slug:"iron_vein",name:"Iron Vein",level:1,maxHp:1500,str:0,dex:0,int:0,def:0,mdef:0,exp:15,race:X.formless,armorElement:k.earth,skill:K.mining,dealsDamage:!1,getDrops:()=>[N(u.iron_ore,100,1),N(u.card_iron_vein,et.cardDropRate,1)]})}},Uo=e=>{const t="card_slime"+(e==="mana"?"":"_"+e);return kv([N(u.item_slime,5,1),N(u["fragment_"+e],5,1),N(u.rune,et.cardDropRate,1),N(u[t],et.cardDropRate,1)])},Er={level:20,maxMp:5,str:8,int:16,dex:25,def:8,mdef:20,dr:0},ev=function(){return{slime:$e({slug:"slime",name:"Slime",level:18,maxMp:0,str:16,int:0,dex:50,def:15,mdef:0,dr:2,race:X.formless,getDrops:()=>[...Uo("mana")]}),slime_water:$e({slug:"slime_water",name:"Water Slime",...Er,race:X.formless,armorElement:k.water,getDrops:()=>[...Uo("water")],getSpells:function(){return[{spell:ce.enemy_water_splash,chance:20}]}}),slime_fire:$e({slug:"slime_fire",name:"Fire Slime",...Er,race:X.formless,armorElement:k.fire,getDrops:()=>[...Uo("fire")],getSpells:function(){return[{spell:ce.enemy_fire_arrow,chance:20}]}}),slime_earth:$e({slug:"slime_earth",name:"Earth Slime",...Er,race:X.formless,armorElement:k.earth,getDrops:()=>[...Uo("earth")],getSpells:function(){return[{spell:ce.enemy_stone_bullet,chance:20}]}}),slime_wind:$e({slug:"slime_wind",name:"Wind Slime",...Er,race:X.formless,armorElement:k.wind,getDrops:()=>[...Uo("wind")],getSpells:function(){return[{spell:ce.enemy_wind_blast,chance:20}]}}),floor_1_boss:$e({slug:"floor_1_boss",name:"Kacadu's Shadow, the Examiner",level:20,maxHp:3e3,maxMp:100,str:40,int:40,dex:200,def:35,mdef:50,dr:10,rank:1,exp:1e3,race:X.formless,armorElement:k.shadow,weaponElement:k.shadow,isBoss:!0,getDrops:()=>[N(u.item_slime,100,5),N(u.rune,1,1)],getSpells:function(){return[{spell:ce.enemy_shadow_lock,chance:5},{spell:ce.enemy_shadow_bolt,chance:5},{spell:ce.enemy_shadow_burn,chance:10}]},onKill:function(){sn.unlockEntry(this)}})}},oc=e=>{const t="card_slime"+(e==="mana"?"":"_"+e);return[N(u.item_slime,5,1),N(u["fragment_"+e],5,1),N(u.rune,et.cardDropRate,1),N(u[t],et.cardDropRate,1)].filter(n=>!n.item.isDiagram||!Ge.hasLearnedRecipe(n.item.getRecipe()))},rc={level:22,maxMp:5,str:10,int:20,dex:28,def:10,mdef:22,dr:2},tv=function(){return{slime_holy:$e({slug:"slime_holy",name:"Holy Slime",...rc,race:X.formless,armorElement:k.holy,getDrops:()=>[...oc("holy")],getSpells:function(){return[{spell:ce.enemy_holy_bolt,chance:20}]}}),slime_shadow:$e({slug:"slime_shadow",name:"Shadow Slime",...rc,race:X.formless,armorElement:k.shadow,getDrops:()=>[...oc("shadow")],getSpells:function(){return[{spell:ce.enemy_shadow_bolt,chance:20}]}}),floor_2_boss:$e({slug:"floor_2_boss",name:"Gorglott, the Sponge",level:25,maxHp:1e3,maxMp:0,str:0,int:0,dex:0,def:95,mdef:0,dr:20,rank:1,exp:1e3,race:X.formless,armorElement:k.earth,weaponElement:k.earth,isBoss:!0,getDrops:()=>[N(u.item_slime,100,5),N(u.rune,1,1)],onKill:function(){sn.unlockEntry(this)},bleedingResistance:80})}},Lo=e=>{const t="card_slimer"+(e==="mana"?"":"_"+e);return[N(u.item_slime,10,1),N(u["fragment_"+e],10,1),N(u.novice_tome_page,.2,1),N(u.rune,et.cardDropRate,1),N(u[t],et.cardDropRate,1),N(u.diagram_slime_ring,.1,1),N(u.diagram_slime_earring,.1,1)].filter(n=>!n.item.isDiagram||!Ge.hasLearnedRecipe(n.item.getRecipe()))},Ir={level:25,maxMp:10,str:12,int:24,dex:36,def:15,mdef:25,dr:5},nv=function(){return{slimer:$e({slug:"slimer",name:"Slimer",level:22,maxMp:0,str:25,int:0,dex:80,def:25,mdef:0,dr:8,race:X.formless,getDrops:()=>[...Lo("mana")]}),slimer_water:$e({slug:"slimer_water",name:"Water Slimer",...Ir,race:X.formless,armorElement:k.water,getDrops:()=>[...Lo("water")],getSpells:function(){return[{spell:ce.enemy_water_splash,chance:40}]}}),slimer_fire:$e({slug:"slimer_fire",name:"Fire Slimer",...Ir,race:X.formless,armorElement:k.fire,getDrops:()=>[...Lo("fire")],getSpells:function(){return[{spell:ce.enemy_fire_arrow,chance:40}]}}),slimer_earth:$e({slug:"slimer_earth",name:"Earth Slimer",...Ir,race:X.formless,armorElement:k.earth,getDrops:()=>[...Lo("earth")],getSpells:function(){return[{spell:ce.enemy_stone_bullet,chance:40}]}}),slimer_wind:$e({slug:"slimer_wind",name:"Wind Slimer",...Ir,race:X.formless,armorElement:k.wind,getDrops:()=>[...Lo("wind")],getSpells:function(){return[{spell:ce.enemy_wind_blast,chance:40}]}}),floor_3_boss:$e({slug:"floor_3_boss",name:"Mixa, the Rotator",level:30,maxHp:3e3,maxMp:0,str:100,int:0,dex:0,def:0,mdef:0,dr:0,rank:1,exp:1500,race:X.formless,armorElement:k.neutral,weaponElement:k.neutral,isBoss:!0,getDrops:()=>[N(u.item_slime,100,5),N(u.rune,1,1)],onKill:function(){sn.unlockEntry(this)}}),floor_3_shadow_hound:$e({slug:"floor_3_shadow_hound",name:"Shadow Hound",level:35,maxHp:3e3,maxMp:5,str:120,int:0,dex:400,def:25,mdef:25,dr:20,rank:1,exp:1e3,race:X.beast,armorElement:k.shadow,weaponElement:k.shadow,excludeFromBestiary:!0,getSpells:function(){return[{spell:ce.enemy_tackle,chance:5},{spell:ce.enemy_second_wind,chance:100,hpThreshold:.33,additionalCondition:()=>!we.getEntityState().usedSecondWind,onUse:()=>{const e=we.getEntityState();e.usedSecondWind=!0}}]}})}},ac=e=>{const t="card_slimer"+(e==="mana"?"":"_"+e);return[N(u.item_slime,5,1),N(u["fragment_"+e],5,1),N(u.novice_tome_page,.5,1),N(u.rune,et.cardDropRate,1),N(u[t],et.cardDropRate,1),N(u.diagram_slime_ring,.15,1),N(u.diagram_slime_earring,.15,1)].filter(n=>!n.item.isDiagram||!Ge.hasLearnedRecipe(n.item.getRecipe()))},lc={level:27,maxMp:10,str:16,int:26,dex:40,def:15,mdef:25,dr:5},sv=function(){return{slimer_holy:$e({slug:"slimer_holy",name:"Holy Slimer",...lc,race:X.formless,armorElement:k.holy,getDrops:()=>[...ac("holy")],getSpells:function(){return[{spell:ce.enemy_holy_bolt,chance:40}]}}),slimer_shadow:$e({slug:"slimer_shadow",name:"Shadow Slimer",...lc,race:X.formless,armorElement:k.shadow,getDrops:()=>[...ac("shadow")],getSpells:function(){return[{spell:ce.enemy_shadow_bolt,chance:40}]}}),floor_4_boss:$e({slug:"floor_4_boss",name:"Xerox, the Blaze",level:35,maxHp:2e3,maxMp:100,str:20,int:80,dex:0,def:30,mdef:50,dr:10,rank:1,exp:2e3,race:X.formless,armorElement:k.fire,weaponElement:k.fire,isBoss:!0,getDrops:()=>[N(u.item_slime,100,5),N(u.novice_tome_page,100,1),N(u.rune,1,1)],getSpells:function(){return[{spell:ce.enemy_fire_arrow,chance:50},{spell:ce.enemy_fireball,chance:25}]},onKill:function(){sn.unlockEntry(this)}})}},Es=e=>{const t="card_slimelord"+(e==="mana"?"":"_"+e);return[N(u.item_slime,25,1),N(u["fragment_"+e],25,1),N(u.rune,et.cardDropRate,1),N(u[t],et.cardDropRate,1),N(u.diagram_slime_ring,.3,1),N(u.diagram_slime_earring,.3,1)].filter(n=>!n.item.isDiagram||!Ge.hasLearnedRecipe(n.item.getRecipe()))},Sr={level:30,maxMp:15,str:20,int:35,dex:60,def:20,mdef:30,dr:8},cc={level:35,maxMp:25,str:25,int:40,dex:100,def:20,mdef:30,dr:8},iv=function(){return{slimelord:$e({slug:"slimelord",name:"Slimelord",level:28,maxMp:0,str:40,int:0,dex:150,def:30,mdef:0,dr:15,race:X.formless,getDrops:()=>[...Es("mana")]}),slimelord_water:$e({slug:"slimelord_water",name:"Water Slimelord",...Sr,race:X.formless,armorElement:k.water,getDrops:()=>[...Es("water")],getSpells:function(){return[{spell:ce.enemy_water_splash,chance:60}]}}),slimelord_fire:$e({slug:"slimelord_fire",name:"Fire Slimelord",...Sr,race:X.formless,armorElement:k.fire,getDrops:()=>[...Es("fire")],getSpells:function(){return[{spell:ce.enemy_fire_arrow,chance:60}]}}),slimelord_earth:$e({slug:"slimelord_earth",name:"Earth Slimelord",...Sr,race:X.formless,armorElement:k.earth,getDrops:()=>[...Es("earth")],getSpells:function(){return[{spell:ce.enemy_stone_bullet,chance:60}]}}),slimelord_wind:$e({slug:"slimelord_wind",name:"Wind Slimelord",...Sr,race:X.formless,armorElement:k.wind,getDrops:()=>[...Es("wind")],getSpells:function(){return[{spell:ce.enemy_wind_blast,chance:60}]}}),slimelord_holy:$e({slug:"slimelord_holy",name:"Holy Slimelord",...cc,race:X.formless,armorElement:k.holy,getDrops:()=>[...Es("holy")],getSpells:function(){return[{spell:ce.enemy_holy_bolt,chance:60}]}}),slimelord_shadow:$e({slug:"slimelord_shadow",name:"Shadow Slimelord",...cc,race:X.formless,armorElement:k.shadow,getDrops:()=>[...Es("shadow")],getSpells:function(){return[{spell:ce.enemy_shadow_bolt,chance:60}]}}),floor_5_boss:$e({slug:"floor_5_boss",name:"Kacadu's Shadow, the Examiner",level:40,maxHp:6e3,maxMp:100,str:60,int:60,dex:250,def:40,mdef:55,dr:20,rank:2,exp:5e3,race:X.formless,armorElement:k.shadow,weaponElement:k.shadow,isBoss:!0,getDrops:()=>[N(u.item_slime,100,5),N(u.rune,1,1)],getSpells:function(){return[{spell:ce.enemy_shadow_lock,chance:5},{spell:ce.enemy_shadow_bolt,chance:10},{spell:ce.enemy_shadow_burn,chance:15}]},onKill:function(){sn.unlockEntry(this)}})}},ov=function(){return{...ev(),...tv(),...nv(),...sv(),...iv()}},N=function(e,t,n){return{item:e,chance:t,amount:n}},ae={...X0(),...Z0(),...ov()},hn={latestMigration:10,migrateToLatest:function(e){hn.migrateTo(e,hn.latestMigration)},migrateTo:function(e,t){t>e.migration?hn.runMigrations(e,t):hn.reverseMigrations(e,t)},runMigrations:function(e,t){let n=e.migration;for(;n<t;){n++;const s=`migration_${n}_up`;hn[s](e)}e.migration=n},reverseMigrations:function(e,t){let n=e.migration;for(;n>t;){const s=`migration_${n}_down`;hn[s](e),n--}e.migration=n},migration_1_up:function(e){e.testing="aye",console.log("migrated up to 1")},migration_1_down:function(e){delete e.testing,console.log("migrated down from 1")},migration_2_up:function(e){e.log=c.createCleanState().log,e.helpers.messageId=1,e.achievements=e.achievements.filter(t=>Object.keys(Mt).includes(t))},migration_3_up:function(e){e.last_saved_at=null},migration_3_down:function(e){delete e.last_saved_at},migration_4_up:function(e){console.log("migration 4")},migration_5_up:function(e){console.log("migration 5"),hn.removeEntryEnemyBestiary(e,ae.floor_3_shadow_hound)},migration_6_up:function(e){console.log("migration 6"),e.tower_variables.skillPerksUnlocked={}},migration_7_up:function(e){console.log("migration 7"),e.log=bu()},migration_8_up:function(e){console.log("migration 8"),je.removeStatusEffect(pe.bleeding.slug,e.player),je.removeStatusEffect(pe.poison.slug,e.player),je.removeStatusEffect(pe.burning.slug,e.player)},migration_9_up:function(e){console.log("migration 9");let t=we.getEntityState();t&&je.removeStatusEffect(pe.bleeding.slug,t)},migration_10_up:function(e){console.log("migration 10"),e.inventory.forEach(t=>{u[t.slug].isRune&&(t.isHeirloom=!0)})},removeEntryEnemyBestiary:function(e,t){delete e.bestiary[t.slug]},changeMonsterSlug:function(e,t,n){const s=e.bestiary[t];delete e.bestiary[t],e.bestiary[n]=s,hn.fixBestiaryOrder(e),hn.changeItemSlug(e,"card_"+t,"card_"+n)},fixBestiaryOrder:function(e){const t=Eu();Object.keys(e.bestiary).forEach(n=>{t[n]=e.bestiary[n]}),e.bestiary=t},changeItemSlug:function(e,t,n){e.inventory.forEach(s=>{s.slug===t&&(s.slug=n),s.enchantSlots.includes(t)&&(s.enchantSlots[s.enchantSlots.indexOf(t)]=n)})}},rv=function(){S.add(u.rune_fire_arrow,1),c.get().skills.runecarving.exp===0&&(Se.increaseSkillRank(K.runecarving.slug),Se.applySkillRankBonuses(),ie.gainExp(K.runecarving,1001)),sn.unlockEntry(ae.training_dummy),sn.unlockEntry(ae.warthog),sn.unlockEntry(ae.mountain_goat),S.add(u.diagram_enchant_minor_experience,1),S.add(u.diagram_enchant_minor_dr,1),S.add(u.diagram_enchant_minor_mdef,1),S.add(u.enchant_minor_experience,1),Se.unlockWorkshopStations(),Se.applyCraftingStationUnlocks(),Se.setStartingReputation(10),Se.applyReputationBonus(),S.add(u.minor_healing_potion,100),S.add(u.twig,100),S.add(u.boar_tusk,100),S.add(u.goat_horn,100),S.add(u.test_armor,1),bt.unlockAchievement(Mt.items_crafted_0),Re(p.home)},Ln=nr({}),c={debug:!1,get:function(){return Ln},init:function(){c.replaceState(c.createCleanState()),c.resolveNewGameState()},replaceState:function(e){for(const t in e)Ln[t]=e[t]},replaceStateWithSave:function(e){const t=["player","skills","statistics"];c.replaceSkillState(e.skills),c.replacePlayerState(e.player),c.replaceStatisticsState(e.statistics);for(const n in e)t.includes(n)||(Ln[n]=e[n])},replaceStatisticsState:function(e){for(const t in e)Ln.statistics[t]=e[t]},replaceSkillState:function(e){for(const t in e)Ln.skills[t]=e[t]},replacePlayerState:function(e){for(const t in e)t!=="stats"&&(Ln.player[t]=e[t])},resolveNewGameState:function(){Ln.player.money=42,S.add(u.dry_bread,10,!0),S.add(u.bandage,5,!0),S.add(u.antidote,5,!0),S.add(u.enchanted_water,5,!0),Ge.learnRecipe(qt.cooking.recipes.cooked_rat_meat,!0),Ge.learnRecipe(qt.cooking.recipes.cooked_meat,!0),c.debug&&rv()},save:function(){localStorage.setItem("save",c.getStateString()),c.get().last_saved_at=c.get().elapsedTime},load:function(){c.replaceState(c.createCleanState());const e=JSON.parse(localStorage.getItem("save"));if(!e){c.init();return}hn.migrateToLatest(e),c.replaceStateWithSave(e),c.applyStatModifiers()},isSaved:function(){const e=c.get(),t=5;return e.last_saved_at===null?!1:e.elapsedTime-e.last_saved_at<=t},exportSave:function(){c.getStateString();var e=new Date;const t="save_"+e.toLocaleString()+".txt";var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(c.getStateString())),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},getStateString:function(){return JSON.stringify(Ln)},loadFromString:function(e){e!==""&&(localStorage.setItem("save",e),c.load())},applyStatModifiers:function(){ue.getEquippedInventoryItems().forEach(e=>ue.applyEquipEffects(e)),bt.getUnlockedAchievements().forEach(e=>bt.applyAchievementEffects(e)),A.setLevelUpStatModifiers(!1),ie.getLearnedSkills().forEach(e=>ie.applySkillEffects(e)),je.reApplyAllStatusEffectsEffects(),Se.applyBlessingEffects(),Ln.scene===p.bed.slug&&(Re(p.home),Re(p.bed))},createCleanState:function(){return{last_saved_at:null,selectedInfoTab:"Log",activeOverlay:null,darkMode:!1,journal:{selectedTab:null,selectedStat:null,selectedPerson:null,selectedGuidebookEntry:null},highlightInventoryGuide:!0,migration:hn.latestMigration,lastQuestGeneratedAt:void 0,elapsedTime:480,gameSpeed:1,tickSpeed:1e3,shouldUpdateWorker:!1,player:A.createPlayerState(),log:bu(),inventory:uv(),inventorySettings:dv(),shoppingSettings:gv(),questSelectingRank:"none",equipment:lv(),runes:cv(),skills:mv(),learnedSkills:pv(),learnedCraftingRecipes:fv(),reputation:0,combat:av(),activeQuestSelecting:!1,activeQuestFinishing:!1,activeShopping:null,activeCrafting:null,activeEnchant:null,activeFeeding:null,activeReading:null,activeDeleting:null,activeRebirth:null,rebirthBlessings:[],scene:"start",rebirth:hv(),scheduledEvents:{},achievements:[],titles:[wn.unremarkable.slug],title:wn.unremarkable.slug,statistics:_v(),bestiary:Eu(),availableGuildQuests:{},quests:{},preferences:{combatLog:!0},workshopCraftingStations:uc(),townCraftingStations:uc(!0),helpers:{inventoryId:1,messageId:1},variables:{basement_fight_completed:!1,training_grounds_fight_completed:!1,free_stuff_completed:!1,felling_axe_received:!1,forest_outskirts_hunt_completed:!1,forest_depths_hunt_completed:!1,forest_cave_hunt_completed:!1,forest_mine_hunt_completed:!1,mine_man_first_meeting:!0,mine_man_available:!1,leatherworking_pristine_pelt_quest_finished:!1,leatherworking_shop_bear_cloak_available:!1,blacksmithing_shop_iron_sword_awaken_reaction_finished:!1,novice_staff_awakened_fire_arrow_counter:0,training_sword_awakened_training_dummy_kill_counter:0},tower_variables:{kathryn_first_meeting_completed:!1,kathryn_first_meeting_bar_completed:!1,kathryn_third_floor_secret_room_completed:!1,lomsi_bear_cave_meeting_completed:!1,lomsi_hunting_cabin_meeting_completed:!1,kacadu_meditation_rune_gift_completed:!1,floor1_unlocked:!1,floor1_fight1_completed:!1,floor2_unlocked:!1,floor2_fight1_completed:!1,floor3_unlocked:!1,floor3_fight1_completed:!1,floor4_unlocked:!1,floor4_fight1_completed:!1,floor5_unlocked:!1,floor5_fight1_completed:!1,floor5_fight2_completed:!1,floor6_unlocked:!1,skillPerksUnlocked:{}}}}},uc=function(e=!1){return{blacksmithing:!1,tailoring:!1,woodworking:e,leatherworking:!1,alchemy:!1,cooking:!0,enchanting:!1,scrollcrafting:!1,runecarving:!0,jewelcrafting:!1}},av=function(){return{enemyGroup:null,enemy:null,paused:!1}},lv=function(){return{garment:null,headgear:null,amulet:null,weapon:null,armor:null,offhand:null,accessory_right:null,shoes:null,accessory_left:null}},cv=function(){return{availableSlots:1,maxSlots:4,slots:[null,null,null,null]}},uv=function(){return[]},dv=function(){return{filter:"none",sort:"none"}},gv=function(){return{filter:"none"}},fv=function(){return{blacksmithing:[],tailoring:[],leatherworking:[],woodworking:[],alchemy:[],cooking:[],enchanting:[],scrollcrafting:[],runecarving:[],jewelcrafting:[]}},bu=function(){return{messages:{combat:[],item:[],other:[]},filter:"none"}},mv=function(){let e={};return Object.keys(K).forEach(t=>{e[t]={level:0,exp:0,rank:0,maxLevel:ie.maxLevel/Io.length}}),e},Eu=function(){let e={};return Object.keys(ae).forEach(t=>{ae[t].excludeFromBestiary||(e[t]=!1)}),e},pv=function(){return[]},_v=function(){return{enemiesKilled:0,bossesKilled:0,raceKilled:{humanoid:0,beast:0,angel:0,demon:0,dragon:0,fish:0,insect:0,plant:0,undead:0,construct:0,formless:0},elementKilled:{neutral:0,fire:0,water:0,wind:0,earth:0,shadow:0,holy:0},scenesEntered:0,itemsBought:0,itemsObtained:0,cardsObtained:0,questsFinished:0,questsFailed:0,enchantsApplied:0,enchantsOverwritten:0,spellsCast:0,scrollsUsed:0,manaUsed:0,foodUsed:0,drinksUsed:0,healthPotionsUsed:0,manaPotionsUsed:0,readablesRead:0,statusEffectsApplied:0,statusEffectsReceived:0,itemsCrafted:0,totalSkillLevelUps:0,moneyGained:0,moneySpent:0,deathCount:0,sleepingTime:0,bleedingDamageReceived:0,bleedingDamageDealt:0,poisonDamageReceived:0,poisonDamageDealt:0,burningDamageReceived:0,burningDamageDealt:0,timeSpentStunned:0,afflictedStunTime:0,timeSpentSilenced:0,afflictedSilenceTime:0,physicalDamageReceived:0,physicalDamageDealt:0,magicalDamageReceived:0,magicalDamageDealt:0,rebirthCount:0,elementalDamageDealt:{neutral:0,fire:0,water:0,wind:0,earth:0,shadow:0,holy:0},elementalDamageReceived:{neutral:0,fire:0,water:0,wind:0,earth:0,shadow:0,holy:0}}},hv=function(){return{takenBonusesCount:{},skillExpModifiers:(()=>{let e={};return Object.keys(K).forEach(t=>{e[t]=0}),e})(),rank:0,reputation:0,runes:1,skillRanks:(()=>{let e={};return Object.keys(K).forEach(t=>{e[t]=0}),e})(),heirloomIds:[],unlockedWorkshopCraftingStations:[]}},ee={maxSize:250,getMessages:function(){const e=c.get(),t=e.log.messages.combat.concat(e.log.messages.item,e.log.messages.other);let n={};return ee.filterMessages(t).sort((s,o)=>s.id>o.id?1:-1).filter(s=>s.type==="SeparatorMessage"&&n.type==="SeparatorMessage"?!1:(n=s,!0))},filterMessages:function(e){const t=c.get().log.filter;return e.filter(n=>t==="none"||n.category==="separator"?!0:n.category===t)},setFilter:function(e){c.get().log.filter=e},getFilter:function(){return c.get().log.filter},addMessage:function(e){const t=c.get();for(e.category=e.category||"other";t.log.messages[e.category].length>=ee.maxSize;)t.log.messages[e.category].shift();t.log.messages[e.category].push({id:ee.getNextId(),...e})},commonMessage:function(e,t){ee.addMessage({type:"CommonMessage",message:e,color:t})},separatorMessage:function(){const e=c.get();["combat","item","other"].forEach(n=>{if(e.log.messages[n].length===0)return;e.log.messages[n][e.log.messages[n].length-1].type!=="SeparatorMessage"&&ee.addMessage({category:n,type:"SeparatorMessage"})})},skillMessage:function(e){ee.addMessage({type:"SkillMessage",skill:e.slug,level:c.get().skills[e.slug].level})},achievementMessage:function(e){ee.addMessage({type:"AchievementMessage",achievement:e.slug})},titleMessage:function(e){ee.addMessage({type:"TitleMessage",title:e.slug})},moneyMessage:function(e){ee.addMessage({type:"MoneyMessage",money:e})},combatMessage:function(e,t){c.get().preferences.combatLog&&ee.addMessage({category:"combat",type:"CommonMessage",message:e,color:t})},spellMessage:function(e,t,n,s,o){ee.addMessage({category:"combat",type:"SpellMessage",spell:e.slug,cost:n,rank:s,caster:e.caster,message:o===void 0?t+" used <"+Nt(e.name,s)+">":"<"+Nt(e.name,s)+"> dealt "+o+" damage"})},startAwakeningMessage:function(e){ee.addMessage({type:"StartAwakeningMessage",inventoryItem:e.id})},awakeningAvailableMessage:function(e){ee.addMessage({type:"AwakeningAvailableMessage",inventoryItem:e.id})},awakeningMessage:function(e){ee.addMessage({type:"AwakeningMessage",inventoryItem:e.id})},feedingMessage:function(e,t,n){ee.addMessage({type:"FeedingMessage",inventoryItem:e.id,item:t.slug,amount:n})},damageDealtMessage:function(e,t){let n=c.get().player.name+" hit "+e.name+" for "+t;ee.combatMessage(n,"damage-dealt")},damageReceivedMessage:function(e,t){let n=e.name+" hit "+c.get().player.name+" for "+t;ee.combatMessage(n,"damage-received")},gainedExpMessage:function(e){let t="EXP + "+at(e);ee.combatMessage(t,"c-exp-lighter")},itemMessage:function(e,t){ee.addMessage({category:"item",type:"ItemMessage",item:e.slug,amount:t})},inventoryItemRankUpMessage:function(e){ee.addMessage({type:"InventoryItemRankUpMessage",inventoryItem:structuredClone(Ke(e))})},getNextId:function(){const e=c.get();e.helpers.messageId>=1e8&&ee.reset();let n=e.helpers.messageId;return e.helpers.messageId++,n},reset:function(){const e=c.get();e.log=c.createCleanState().log,e.helpers.messageId=1}},Iu={handleRegen:function(){let e=this.getEntityState();if(!e)return;let t=this.handleOriginalHp?e.hp:null;e.hp=e.hp+this.getHpRegen(),e.hp=e.hp+at(this.getMaxHp()*this.getHpRegenPercentage()/100),e.mp=e.mp+this.getMpRegen(),e.mp=e.mp+at(this.getMaxMp()*this.getMpRegenPercentage()/100),$s(e),e.hp<=0&&t!==0&&this.handleDeath()},isStunned:function(){return je.hasStatusEffect(pe.stun.slug,this.getEntityState())},isSilenced:function(){return je.hasStatusEffect(pe.silence.slug,this.getEntityState())},addStatusEffect:function(e){let t=this.getEntityState();return t?(je.addStatusEffect(e,t),!0):"no-target"},tickStatusEffects:function(){let e=this.getEntityState();e&&je.tickStatusEffects(e)},getStatusEffects:function(){return je.getStatusEffects(this.getEntityState())},getRank:function(){return this.getEntityState().rank},getLevel:function(){return this.getEntityState().level},getExp:function(){return this.getEntityState().exp},getHp:function(){return at(this.getEntityState().hp)},getMp:function(){return at(this.getEntityState().mp)},getArmorElementSlug:function(){return this.getEntityState().armorElement},getWeaponElementSlug:function(){return this.getEntityState().weaponElement},getRace:function(){return this.getEntityState().race},getSkill:function(){return this.getEntityState().skill},getStr:function(){return this.getStat(this.getEntityState().stats.str)},getDex:function(){return this.getStat(this.getEntityState().stats.dex)},getInt:function(){return this.getStat(this.getEntityState().stats.int)},getDef:function(){return this.getStat(this.getEntityState().stats.def)},getMdef:function(){return this.getStat(this.getEntityState().stats.mdef)},getDr:function(){return this.getStat(this.getEntityState().stats.dr)},getPoisonResistance:function(){return this.getStat(this.getEntityState().stats.poisonResistance)},getBleedingResistance:function(){return this.getStat(this.getEntityState().stats.bleedingResistance)},getBurningResistance:function(){return this.getStat(this.getEntityState().stats.burningResistance)},getCritPower:function(){return this.getStat(this.getEntityState().stats.critPower)},getMaxHp:function(){return this.getStat(this.getEntityState().stats.maxHp)},getMaxMp:function(){return this.getStat(this.getEntityState().stats.maxMp)},getHpRegen:function(){return this.getStat(this.getEntityState().stats.hpRegen,2)},getMpRegen:function(){return this.getStat(this.getEntityState().stats.mpRegen,2)},getHpRegenPercentage:function(){return this.getStat(this.getEntityState().stats.hpRegenPercentage,2)},getMpRegenPercentage:function(){return this.getStat(this.getEntityState().stats.mpRegenPercentage,2)},getStudyingSpeed:function(){return this.getStat(this.getEntityState().stats.studyingSpeed,2)},getManaEfficiency:function(){return this.getStat(this.getEntityState().stats.manaEfficiency,2)},getDiscount:function(){return this.getStat(this.getEntityState().stats.discount,2)},getElementResistance:function(e){return this.getStat(this.getEntityState().stats.elementResistances[e])},getElementHatred:function(e){return this.getStat(this.getEntityState().stats.elementHatreds[e])},getElementPower:function(e){return this.getStat(this.getEntityState().stats.elementPowers[e])},getRaceResistance:function(e){return this.getStat(this.getEntityState().stats.raceResistances[e])},getRaceHatred:function(e){return this.getStat(this.getEntityState().stats.raceHatreds[e])},getSkillExpModifier:function(e){return this.getStat(this.getEntityState().stats.skillExpModifiers[e])},getCraftingProficiency:function(e){return this.getStat(this.getEntityState().stats.craftingProficiencies[e])},getExpModifier:function(){return this.getStat(this.getEntityState().stats.expModifier)},getDropModifier:function(){return this.getStat(this.getEntityState().stats.dropModifier)},getStat:function(e,t){return at(this.applyStatModifiers(e),t||2)},applyStatModifiers:function(e){let t=e.base,n=0,s=0;for(const o in e.modifiers){if(!e.modifiers.hasOwnProperty(o))continue;const a=e.modifiers[o];a.valueType==="flat"&&(n+=a.value),a.valueType==="percentage"&&(s+=a.value)}return(t+n)*(1+s/100)},createEntityState:function(e){var t,n,s,o,a,d,f,_,b,I,$,j,re,De,ge,st,_t,yt,Be,dt,xt,Te,Ht,Ct,zt,ve,Vt,Xt,gt,fs,Ye,Je,ft,Xe,En,ms,In,Zt,Ro,cr,ur,on,ps;return{type:e.type,name:e.name,slug:e.slug,rank:e.rank||0,level:e.level||1,exp:e.exp||0,money:e.money||0,race:e.race||X.formless,armorElement:e.armorElement||k.neutral.slug,weaponElement:e.weaponElement||k.neutral.slug,skill:e.skill,hp:e.maxHp,mp:e.maxMp,statusEffects:[],stats:{expModifier:{base:0,modifiers:{}},dropModifier:{base:0,modifiers:{}},maxHp:{base:e.maxHp,modifiers:{}},maxMp:{base:e.maxMp,modifiers:{}},str:{base:e.str===void 0?1:e.str,modifiers:{}},dex:{base:e.dex===void 0?0:e.dex,modifiers:{}},int:{base:e.int===void 0?1:e.int,modifiers:{}},def:{base:e.def===void 0?0:e.def,modifiers:{}},mdef:{base:e.mdef===void 0?0:e.mdef,modifiers:{}},dr:{base:e.dr||0,modifiers:{}},critPower:{base:e.critPower===void 0?0:e.critPower,modifiers:{}},hpRegen:{base:e.hpRegen||0,modifiers:{}},hpRegenPercentage:{base:e.hpRegenPercentage||0,modifiers:{}},mpRegen:{base:e.mpRegen||0,modifiers:{}},mpRegenPercentage:{base:e.mpRegenPercentage||0,modifiers:{}},studyingSpeed:{base:e.studyingSpeed||0,modifiers:{}},manaEfficiency:{base:e.manaEfficiency||0,modifiers:{}},discount:{base:e.discount||0,modifiers:{}},poisonResistance:{base:e.poisonResistance||0,modifiers:{}},bleedingResistance:{base:e.bleedingResistance||0,modifiers:{}},burningResistance:{base:e.burningResistance||0,modifiers:{}},elementResistances:{neutral:{base:((t=e.elementResistances)==null?void 0:t.neutral)||0,modifiers:{}},fire:{base:((n=e.elementResistances)==null?void 0:n.fire)||0,modifiers:{}},water:{base:((s=e.elementResistances)==null?void 0:s.water)||0,modifiers:{}},wind:{base:((o=e.elementResistances)==null?void 0:o.wind)||0,modifiers:{}},earth:{base:((a=e.elementResistances)==null?void 0:a.earth)||0,modifiers:{}},shadow:{base:((d=e.elementResistances)==null?void 0:d.shadow)||0,modifiers:{}},holy:{base:((f=e.elementResistances)==null?void 0:f.holy)||0,modifiers:{}}},elementHatreds:{neutral:{base:((_=e.elementHatreds)==null?void 0:_.neutral)||0,modifiers:{}},fire:{base:((b=e.elementHatreds)==null?void 0:b.fire)||0,modifiers:{}},water:{base:((I=e.elementHatreds)==null?void 0:I.water)||0,modifiers:{}},wind:{base:(($=e.elementHatreds)==null?void 0:$.wind)||0,modifiers:{}},earth:{base:((j=e.elementHatreds)==null?void 0:j.earth)||0,modifiers:{}},shadow:{base:((re=e.elementHatreds)==null?void 0:re.shadow)||0,modifiers:{}},holy:{base:((De=e.elementHatreds)==null?void 0:De.holy)||0,modifiers:{}}},elementPowers:{neutral:{base:((ge=e.elementPowers)==null?void 0:ge.neutral)||0,modifiers:{}},fire:{base:((st=e.elementPowers)==null?void 0:st.fire)||0,modifiers:{}},water:{base:((_t=e.elementPowers)==null?void 0:_t.water)||0,modifiers:{}},wind:{base:((yt=e.elementPowers)==null?void 0:yt.wind)||0,modifiers:{}},earth:{base:((Be=e.elementPowers)==null?void 0:Be.earth)||0,modifiers:{}},shadow:{base:((dt=e.elementPowers)==null?void 0:dt.shadow)||0,modifiers:{}},holy:{base:((xt=e.elementPowers)==null?void 0:xt.holy)||0,modifiers:{}}},raceResistances:{humanoid:{base:((Te=e.raceResistances)==null?void 0:Te.humanoid)||0,modifiers:{}},beast:{base:((Ht=e.raceResistances)==null?void 0:Ht.beast)||0,modifiers:{}},angel:{base:((Ct=e.raceResistances)==null?void 0:Ct.angel)||0,modifiers:{}},demon:{base:((zt=e.raceResistances)==null?void 0:zt.demon)||0,modifiers:{}},dragon:{base:((ve=e.raceResistances)==null?void 0:ve.dragon)||0,modifiers:{}},fish:{base:((Vt=e.raceResistances)==null?void 0:Vt.fish)||0,modifiers:{}},insect:{base:((Xt=e.raceResistances)==null?void 0:Xt.insect)||0,modifiers:{}},plant:{base:((gt=e.raceResistances)==null?void 0:gt.plant)||0,modifiers:{}},undead:{base:((fs=e.raceResistances)==null?void 0:fs.undead)||0,modifiers:{}},construct:{base:((Ye=e.raceResistances)==null?void 0:Ye.construct)||0,modifiers:{}},formless:{base:((Je=e.raceResistances)==null?void 0:Je.formless)||0,modifiers:{}}},raceHatreds:{humanoid:{base:((ft=e.raceHatreds)==null?void 0:ft.humanoid)||0,modifiers:{}},beast:{base:((Xe=e.raceHatreds)==null?void 0:Xe.beast)||0,modifiers:{}},angel:{base:((En=e.raceHatreds)==null?void 0:En.angel)||0,modifiers:{}},demon:{base:((ms=e.raceHatreds)==null?void 0:ms.demon)||0,modifiers:{}},dragon:{base:((In=e.raceHatreds)==null?void 0:In.dragon)||0,modifiers:{}},fish:{base:((Zt=e.raceHatreds)==null?void 0:Zt.fish)||0,modifiers:{}},insect:{base:((Ro=e.raceHatreds)==null?void 0:Ro.insect)||0,modifiers:{}},plant:{base:((cr=e.raceHatreds)==null?void 0:cr.plant)||0,modifiers:{}},undead:{base:((ur=e.raceHatreds)==null?void 0:ur.undead)||0,modifiers:{}},construct:{base:((on=e.raceHatreds)==null?void 0:on.construct)||0,modifiers:{}},formless:{base:((ps=e.raceHatreds)==null?void 0:ps.formless)||0,modifiers:{}}},skillExpModifiers:(()=>{let qn={};return Object.keys(K).forEach(Hs=>{qn[Hs]={base:0,modifiers:{}}}),qn})(),craftingProficiencies:(()=>{let qn={};return Object.values(ut).forEach(Hs=>{qn[Hs]={base:0,modifiers:{}}}),qn})()}}}},A={levelUpModifierSlug:"levelUp",maxLevel:99,maxRank:Io.length-1,handleOriginalHp:!0,...Iu,getEntityState:function(){return c.get().player},handleDeath:function(){q.handlePlayerDeath()},gainExp:function(e){A.isMaxLevel()||(e=e*(1+A.getExpModifier()/100),ee.gainedExpMessage(e),A.getEntityState().exp+=e,A.handleLevelUp())},handleLevelUp:function(){let e=A.getEntityState(),t=A.getExpToNextLevel();e.exp<t||e.level>=A.maxLevel||(e.level++,ee.commonMessage("Level Up!","c-highlight"),A.setLevelUpStatModifiers(),e.exp=e.exp-t,A.handleLevelUp())},getExpToNextLevel:function(){return at((A.getEntityState().level*2)**(2.1+A.getEntityState().rank/25),0)},fullyRestoreMana:function(){const e=c.get();e.player.mp=A.getMaxMp()},fullyRestoreHealth:function(){const e=c.get();e.player.hp=A.getMaxHp()},fullyHeal:function(){A.fullyRestoreHealth(),A.fullyRestoreMana()},removeFiniteStatusEffects:function(){const e=c.get();je.getStatusEffects(e.player).forEach(t=>{pe[t.statusEffect.slug].doesNotExpire||je.removeStatusEffect(t.statusEffect.slug,e.player)})},setLevelUpStatModifiers:function(e){e=e===void 0?!0:e;let t=A.getEntityState(),n=t.rank+1,s=t.level-1,o=1*n,a=1*n,d=10*n,f=2*n;s!==0&&(t.stats.str.modifiers[A.levelUpModifierSlug]={sourceType:"level",value:o*s,valueType:"flat"},t.stats.int.modifiers[A.levelUpModifierSlug]={sourceType:"level",value:a*s,valueType:"flat"},t.stats.maxHp.modifiers[A.levelUpModifierSlug]={sourceType:"level",value:d*s,valueType:"flat"},t.stats.maxMp.modifiers[A.levelUpModifierSlug]={sourceType:"level",value:f*s,valueType:"flat"},e&&ee.commonMessage(`STR + ${o}, INT + ${a}, Max HP + ${d}, Max MP + ${f}!`,"c-highlight"))},getMoney:function(){return c.get().player.money},addMoney:function(e){c.get().player.money+=e,rt.moneyGained(e)},removeMoney:function(e){c.get().player.money=fn(c.get().player.money-e,0),rt.moneySpent(e)},isMaxLevel:function(){return A.getEntityState().level>=A.maxLevel},isMaxRank:function(){return A.getEntityState().rank>=A.maxRank},createPlayerState:function(){return A.createEntityState({type:"player",name:"Player",slug:"player",race:X.humanoid,maxHp:100,maxMp:10,elementResistances:{},elementHatreds:{},elementPowers:{},raceResistances:{},raceHatreds:{}})}},fn=(e,t)=>e<t?t:e,bn=(e,t)=>e>t?t:e,at=function(e,t){if(t=t===void 0?2:t,t===0)return Math.round(e);let n=Math.pow(10,t);return Math.round(e*n)/n},dc=function(e){return e[Math.floor(Math.random()*e.length)]},yv=function(e){return"&lt;"+e+"&gt;"},Nt=function(e,t,n){return t?vv(t,n)+" "+e:e},vv=function(e,t){let n=Io[e];return t&&(n="SS"),"["+n+"]"},Lr=function(e){e&&(w.props=e)},G=function(e){e&&(w.props=e,w.visible=!0)},O=function(){w.visible=!1},$s=function(e){let t=e.type==="player"?A:we;e.hp=at(fn(bn(e.hp,t.getMaxHp()),0)),e.mp=at(fn(bn(e.mp,t.getMaxMp()),0))},wv=function(e,t){let n=s=>{let o=s.split("_");return o.pop(),s=o.join("_"),s};switch(e=n(e),t){case"item":const s=S.getInventoryItemById(e),o=S.getItem(s);return s.isAwakened?o.awakenedName:o.getName();case"enchant":return u[n(n(e))].getName();case"statusEffect":return pe[e.split("|")[0]].name;case"skill":return K[e].name;case"perk":return K[n(e)].name+" (Perk)";case"level":return"Level";case"furniture":return He(e);case"achievement":return Mt[e].name;case"blessing":return Yt[e].name;case"rebirth":return"Rebirth"}},kv=function(e){return e.filter(t=>!t.item.isDiagram||!Ge.hasLearnedRecipe(t.item.getRecipe()))},bv=[{state:R(()=>c.get().player.stats.expModifier),value:R(()=>A.getExpModifier()),key:"expModifier",title:"Exp Rate",description:"Increases the experience you gain (only level experience, not skills and equipment). One point equals 1% increase."},{state:R(()=>c.get().player.stats.dropModifier),value:R(()=>A.getDropModifier()),key:"dropModifier",title:"Drop Rate",description:"Increases drop rate. One point equals 1% increase. Effect is applied on bestiary entries."},{state:R(()=>c.get().player.stats.maxHp),value:R(()=>A.getMaxHp()),key:"maxHp",title:"Max HP",description:"Determines your survivability. You get knocked out when this reached 0."},{state:R(()=>c.get().player.stats.maxMp),value:R(()=>A.getMaxMp()),key:"maxMp",title:"Max MP",description:"Determines your magical ability. Is consumed on spell usage."},{state:R(()=>c.get().player.stats.str),value:R(()=>A.getStr()),key:"str",title:"Strength",description:"Affects damage dealt by physical attacks."},{state:R(()=>c.get().player.stats.dex),value:R(()=>A.getDex()),key:"dex",title:"Dexterity",description:"Determines critical chance. 1 point equals 0.1% chance."},{state:R(()=>c.get().player.stats.int),value:R(()=>A.getInt()),key:"int",title:"Intelligence",description:"Affects damage dealt by spells."},{state:R(()=>c.get().player.stats.def),value:R(()=>A.getDef()),key:"def",title:"Defense",description:"Determines damage received from physical attacks. Each point of defense equals 1% damage reduction (up to 95%)."},{state:R(()=>c.get().player.stats.mdef),value:R(()=>A.getMdef()),key:"mdef",title:"Magical Defense",description:"Determines damage received from spells. Each point of magical defense equals 1% damage reduction (up to 95%)."},{state:R(()=>c.get().player.stats.dr),value:R(()=>A.getDr()),key:"dr",title:"Damage Reduction",description:"Final damage reduction, applied at the very end for both physical attacks and spells damage calculation."},{state:R(()=>c.get().player.stats.poisonResistance),value:R(()=>A.getPoisonResistance()),key:"poisonResistance",title:"Poison Resistance",description:"Determines damage received from poison. Each point equals 1% reduction (up to 100%)."},{state:R(()=>c.get().player.stats.bleedingResistance),value:R(()=>A.getBleedingResistance()),key:"bleedingResistance",title:"Bleeding Resistance",description:"Determines damage received from bleeding. Each point equals 1% reduction (up to 100%)."},{state:R(()=>c.get().player.stats.burningResistance),value:R(()=>A.getBurningResistance()),key:"burningResistance",title:"Burning Resistance",description:"Determines damage received from burning. Each point equals 1% reduction (up to 100%)."},{state:R(()=>c.get().player.stats.critPower),value:R(()=>A.getCritPower()),key:"critPower",title:"Crit Power",description:"Increases damage dealt by critical hits. Default damage of critical hits is 200%. This value further increases it by 1% per 1 point."},{state:R(()=>c.get().player.stats.hpRegen),value:R(()=>A.getHpRegen()),key:"hpRegen",title:"HP Regeneration",description:"Determines the amount you get healed each tick. Works in combat."},{state:R(()=>c.get().player.stats.hpRegenPercentage),value:R(()=>A.getHpRegenPercentage()),key:"hpRegenPercentage",title:"HP Regeneration (%)",description:"Determines the amount you get healed (in percentage of your maximum health) each tick. Works in combat."},{state:R(()=>c.get().player.stats.mpRegen),value:R(()=>A.getMpRegen()),key:"mpRegen",title:"MP Regeneration",description:"Determines the amount of mana you recover each tick. Works in combat."},{state:R(()=>c.get().player.stats.mpRegenPercentage),value:R(()=>A.getMpRegenPercentage()),key:"mpRegenPercentage",title:"MP Regeneration (%)",description:"Determines the amount of mana you recover (in percentage of your maximum mana) each tick. Works in combat."},{state:R(()=>c.get().player.stats.manaEfficiency),value:R(()=>A.getManaEfficiency()),key:"manaEfficiency",title:"Mana Efficiency",description:"Decreases mana required to cast spells (in percentage)."},{state:R(()=>c.get().player.stats.studyingSpeed),value:R(()=>A.getStudyingSpeed()),key:"studyingSpeed",title:"Studying Speed",description:"Increases the efficiency of reading (by percentage)."},{state:R(()=>c.get().player.stats.discount),value:R(()=>A.getDiscount()),key:"discount",title:"Discount",description:"Decreases shop prices (by percentage, capped at 75%)."},...Object.keys(k).map(e=>({state:R(()=>c.get().player.stats.elementResistances[e]),value:R(()=>A.getElementResistance(e)),key:e+"_resistance",title:He(e)+" Resistance",description:"Reduces the damage you receive from "+He(e)+" attacks. Each point equals 1% reduction (up to 100%)."})),...Object.keys(k).map(e=>({state:R(()=>c.get().player.stats.elementHatreds[e]),value:R(()=>A.getElementHatred(e)),key:e+"_hatred",title:He(e)+" Hatred",description:"Increases the damage you deal against enemies with "+He(e)+" element. Each point equals 1% damage increase."})),...Object.keys(k).map(e=>({state:R(()=>c.get().player.stats.elementPowers[e]),value:R(()=>A.getElementPower(e)),key:e+"_power",title:He(e)+" Power",description:"Increases the damage you deal with "+He(e)+" attacks. Each point equals 1% damage increase."})),...Object.keys(X).map(e=>({state:R(()=>c.get().player.stats.raceResistances[e]),value:R(()=>A.getRaceResistance(e)),key:e+"_resistance",title:He(e)+" Resistance",description:"Reduces the damage you receive from enemies of the "+He(e)+" race. Each point equals 1% reduction (up to 100%)."})),...Object.keys(X).map(e=>({state:R(()=>c.get().player.stats.raceHatreds[e]),value:R(()=>A.getRaceHatred(e)),key:e+"_hatred",title:He(e)+" Hatred",description:"Increases the damage you deal against enemies of the "+He(e)+" race. Each point equals 1% damage increase."})),...Object.keys(K).map(e=>{const t=K[e].name;return{state:R(()=>c.get().player.stats.skillExpModifiers[e]),value:R(()=>A.getSkillExpModifier(e)),key:e+"_exp_bonus",title:t+" Exp",description:"Increase exp gained for the "+t+" skill. Each point equals 1% experience increase."}}),...Object.values(ut).map(e=>{const t=He(e);return{state:R(()=>c.get().player.stats.craftingProficiencies[e]),value:R(()=>A.getCraftingProficiency(e)),key:e+"_proficiency",title:t+" Prof.",description:"Decreases the amount of materials required when crafting. Each point equals 1% decrease (minium of 1 material always required)."}})],Ca={getElementDamageModifier:function(e,t,n){let s=n.getArmorElementSlug(),o=Ca.getBaseModifier(e,k[s]),a=1-bn(n.getElementResistance(e.slug),100)/100,d=1+t.getElementPower(e.slug)/100,f=1+t.getElementHatred(s)/100;return o*a*d*f},getBaseModifier:function(e,t){return e===k.neutral&&t===k.neutral?1:e===k.holy&&t===k.shadow||e===k.shadow&&t===k.holy?1.5:t===e?.25:e.getWeaknesses().includes(t)?.5:t.getWeaknesses().includes(e)?1.5:1}},gc={getRaceDamageModifier:function(e,t){let n=e.getEntityState().race,s=t.getEntityState().race,o=1-bn(t.getRaceResistance(n),100)/100,a=1+e.getRaceHatred(s)/100;return o*a}},q={running:function(){return!!c.get().combat.enemyGroup},start:function(e){const t=c.get();t.combat.enemyGroup=e.createState(),t.combat.enemy=q.getEnemyGroup().nextEnemy(t.combat.enemyGroup.enemyNumber)},pause:function(){c.get().combat.paused=!0},unpause:function(){c.get().combat.paused=!1},paused:function(){return c.get().combat.paused},stop:function(){const e=c.get();q.running()&&(q.unpause(),e.combat.enemyGroup=null,e.combat.enemy=null,w.props.effectTarget==="enemy"&&(w.visible=!1))},handleCombat:function(){if(c.get().combat.paused)return;let e=!1;if(e=q.enemyHits(),e===!0){q.handlePlayerDeath();return}e=q.playerHits(),e===!0&&q.handleEnemyDeath()},enemyHits:function(){let e=!1;return we.isStunned()||(e=e||q.castEnemySpells(),e=e||q.dealPhysicalDamage(we,A)),e},castEnemySpells:function(){let e=!1;return we.isSilenced()||q.getEnemy().getSpells().forEach(t=>{if(t.chance<Math.random()*100||t.hpThreshold!==void 0&&we.getEntityState().hp/q.getEnemy().maxHp>t.hpThreshold||t.mpThreshold!==void 0&&we.getEntityState().mp/q.getEnemy().maxMp>t.mpThreshold||t.additionalCondition!==void 0&&!t.additionalCondition())return;let n=t.spell.use();t.onUse!==void 0&&t.onUse(),n==="target-died"&&(e=!0)}),e},handlePlayerDeath:function(){rt.playerDeath(),q.running()&&ie.gainExp(K.tenacity,1),q.stop(),ee.combatMessage("You have been knocked out.","damage-received"),Re(p.bed)},playerHits:function(){let e=!1;return A.isStunned()||(ue.getEquippedInventoryItems().forEach(t=>ue.applyEquipEffects(t,!0)),e=e||q.castPlayerSpells(),e=e||q.dealPhysicalDamage(A,we),ie.gainExp(K[we.getSkill()],1)),e},castPlayerSpells:function(){let e=!1;return A.isSilenced()||wo.getRunes().forEach(t=>{let n=S.getItem(t);if(n.getChance(t.rank)<Math.random()*100)return;let o=n.getSpell().use(n.getCost(t.rank),t.rank);o!=="no-mp"&&wo.gainExp(t,1),o==="target-died"&&(e=!0)}),e},dealPhysicalDamage:function(e,t){let n=q.getPhysicalDamageDone(e,t),s=t.getEntityState();s.hp-=n,$s(s);let o=s.hp<=0;return s.type==="player"&&n>0&&ie.gainExp(K.tenacity,1),rt.physicalDamageDealt(s.type,n,e.getWeaponElementSlug()),s.type==="enemy"?ee.damageDealtMessage(q.getEnemy(),n):q.getEnemy().dealsDamage&&ee.damageReceivedMessage(q.getEnemy(),n),o},getPhysicalDamageDone:function(e,t){let n=95,s=e.getStr(),o=1-bn(t.getDef(),n)/100,a=Ca.getElementDamageModifier(k[e.getWeaponElementSlug()],e,t),d=gc.getRaceDamageModifier(e,t),f=q.willCrit(e);f&&e.getEntityState().type==="player"&&ie.gainExp(K.mutilation,1);let _=f?2+e.getCritPower()/100:1;return fn(at(s*o*a*d*_-t.getDr()),0)},dealMagicalDamage:function(e,t,n){let s=e.getEntityState();s.hp-=t,$s(s);let o=s.hp<=0;return s.type==="player"&&t>0&&ie.gainExp(K.tenacity,1),rt.magicalDamageDealt(s.type,t,n),o},getMagicalDamageDone:function(e,t,n,s){let o=95,a=e.getInt()*(n/100),d=1-bn(t.getMdef(),o)/100,f=Ca.getElementDamageModifier(s,e,t),_=gc.getRaceDamageModifier(e,t),b=q.willCrit(e)?2+e.getCritPower()/100:1;return fn(at(a*d*f*_*b-t.getDr()),0)},willCrit:function(e){return e.getDex()/1e3>=Math.random()},handleEnemyDeath:function(){const e=c.get();let t=q.getEnemy();ee.combatMessage(t.name+" has been slain!","damage-dealt"),A.gainExp(we.getExp()),q.handleDrops(t),ue.gainExpAllEquip(we.getExp()),t.onKill(),rt.enemyKill(t);let n=++e.combat.enemyGroup.enemyNumber;e.combat.enemy=q.getEnemyGroup().nextEnemy(n),w.props.effectTarget==="enemy"&&(w.visible=!1),e.combat.enemy||(q.getEnemyGroup().groupFinished(),q.stop())},handleDrops:function(e){e.getDrops().forEach(t=>{we.getDropChance(t)>=Math.random()*100&&S.add(t.item,t.amount)})},getEnemy:function(){return ae[c.get().combat.enemy.slug]},getEnemyGroup:function(){return Ae[c.get().combat.enemyGroup.slug]}},we={...Iu,getEntityState:function(){return c.get().combat.enemy},handleDeath:function(){q.handleEnemyDeath()},getDropChance:function(e){return bn(at(e.chance*(1+A.getDropModifier()/100),3),100)},createEnemyState:function(e){return we.createEntityState({type:"enemy",name:e.name,slug:e.slug,rank:e.rank,level:e.level,exp:e.exp,maxHp:e.maxHp,maxMp:e.maxMp,str:e.str,dex:e.dex,int:e.int,def:e.def,mdef:e.mdef,dr:e.dr,hpRegen:e.hpRegen,hpRegenPercentage:e.hpRegenPercentage,elementResistances:e.elementResistances,elementHatreds:e.elementHatreds,elementPowers:e.elementPowers,race:e.race,armorElement:e.armorElement.slug,weaponElement:e.weaponElement.slug,bleedingResistance:e.bleedingResistance,burningResistance:e.burningResistance,poisonResistance:e.poisonResistance,skill:e.skill.slug})},getDefaultHp:function(e){return e?e.maxHp??e.level*(e.rank+1)*10:null},getDefaultMp:function(e){return e?e.maxMp??e.level*(e.rank+1)*1:null}},Ev=["innerHTML"],Iv={class:"descriptions"},Sv=["innerHTML"],xv=["innerHTML"],me={__name:"InfoTooltip",setup(e){return(t,n)=>(g(),m(B,null,[l("div",{class:"title",innerHTML:r(Nt)(r(w).props.title,r(w).props.rank)},null,8,Ev),l("div",Iv,[r(w).props.descriptions.description?(g(),m("div",{key:0,class:"description",innerHTML:r(w).props.descriptions.description},null,8,Sv)):T("",!0),r(w).props.descriptions.type?(g(),m("div",{key:1,class:"description",innerHTML:r(w).props.descriptions.type},null,8,xv)):T("",!0)])],64))}},ds=e=>(lt("data-v-40b8d3bc"),e=e(),ct(),e),Mv=ds(()=>l("span",{class:"c-str"},"STR",-1)),Rv=ds(()=>l("span",{class:"c-dex"},"DEX",-1)),Tv=ds(()=>l("span",{class:"c-int"},"INT",-1)),$v=ds(()=>l("span",{class:"c-def"},"DEF",-1)),Dv=ds(()=>l("span",{class:"c-mdef"},"MDEF",-1)),Cv=ds(()=>l("span",{class:"c-dr"},"DR",-1)),Hv=ds(()=>l("span",{class:"c-highlight"},"A",-1)),Pv=ds(()=>l("span",{class:"c-highlight"},"W",-1)),Av={__name:"BaseStats",props:["controller","style","enemy"],setup(e){var yt,Be,dt,xt,Te,Ht,Ct;const t=e,n=((yt=t.enemy)==null?void 0:yt.str)??R(()=>t.controller.getStr()),s=R(()=>{var zt;return((zt=t.enemy)==null?void 0:zt.dex)??t.controller.getDex()}),o=((Be=t.enemy)==null?void 0:Be.int)??R(()=>t.controller.getInt()),a=((dt=t.enemy)==null?void 0:dt.def)??R(()=>t.controller.getDef()),d=((xt=t.enemy)==null?void 0:xt.mdef)??R(()=>t.controller.getMdef()),f=((Te=t.enemy)==null?void 0:Te.dr)??R(()=>t.controller.getDr()),_=((Ht=t.enemy)==null?void 0:Ht.armorElement.slug)??R(()=>t.controller.getArmorElementSlug()),b=((Ct=t.enemy)==null?void 0:Ct.weaponElement.slug)??R(()=>t.controller.getWeaponElementSlug()),I={component:le(me),title:"<span class='c-str'>Strength</span>",descriptions:{description:"Increase physical damage dealt."}},$=R(()=>({component:le(me),title:"<span class='c-dex'>Dexterity</span>",descriptions:R(()=>({description:"Increases critical chance.<br><br> Critical chance: "+at(s.value/10)+"%."}))})),j={component:le(me),title:"<span class='c-int'>Intelligence</span>",descriptions:{description:"Increase magical damage dealt."}},re={component:le(me),title:"<span class='c-def'>Defense</span>",descriptions:{description:"Reduces physical damage received (percentage). "}},De={component:le(me),title:"<span class='c-mdef'>Magical Defense</span>",descriptions:{description:"Reduces magical damage received (percentage)."}},ge={component:le(me),title:"<span class='c-dr'>Damage Reduction</span>",descriptions:{description:"Reduces all damage received (flat&nbsp;amount)."}},st={component:le(me),title:"<span class='c-highlight'>Armor Element</span>",descriptions:{description:"The element of your armor. Affects damage received based on enemy weapon element."}},_t={component:le(me),title:"<span class='c-highlight'>Weapon Element</span>",descriptions:{description:"The element of your weapon. Affects damage dealt based on enemy armor element."}};return(zt,ve)=>{var Vt,Xt;return g(),m("div",{class:se(["stats",e.style])},[l("div",{class:"stat",onMouseenter:ve[0]||(ve[0]=gt=>r(G)(I)),onMouseleave:ve[1]||(ve[1]=gt=>r(O)())},[Mv,ne(": "+H(r(n)),1)],32),l("div",{class:"stat",onMouseenter:ve[2]||(ve[2]=gt=>r(G)($.value)),onMouseleave:ve[3]||(ve[3]=gt=>r(O)())},[Rv,ne(": "+H(s.value),1)],32),l("div",{class:"stat",onMouseenter:ve[4]||(ve[4]=gt=>r(G)(j)),onMouseleave:ve[5]||(ve[5]=gt=>r(O)())},[Tv,ne(": "+H(r(o)),1)],32),l("div",{class:"stat",onMouseenter:ve[6]||(ve[6]=gt=>r(G)(re)),onMouseleave:ve[7]||(ve[7]=gt=>r(O)())},[$v,ne(": "+H(r(a)),1)],32),l("div",{class:"stat",onMouseenter:ve[8]||(ve[8]=gt=>r(G)(De)),onMouseleave:ve[9]||(ve[9]=gt=>r(O)())},[Dv,ne(": "+H(r(d)),1)],32),l("div",{class:"stat",onMouseenter:ve[10]||(ve[10]=gt=>r(G)(ge)),onMouseleave:ve[11]||(ve[11]=gt=>r(O)())},[Cv,ne(": "+H(r(f)),1)],32),((Vt=e.controller.getEntityState())==null?void 0:Vt.type)==="player"?(g(),m("div",{key:0,class:"stat",onMouseenter:ve[12]||(ve[12]=gt=>r(G)(st)),onMouseleave:ve[13]||(ve[13]=gt=>r(O)())},[Hv,ne(": "),l("span",{class:se("c-"+r(_))},H(r(He)(r(_))),3)],32)):T("",!0),((Xt=e.controller.getEntityState())==null?void 0:Xt.type)==="player"?(g(),m("div",{key:1,class:"stat",onMouseenter:ve[14]||(ve[14]=gt=>r(G)(_t)),onMouseleave:ve[15]||(ve[15]=gt=>r(O)())},[Pv,ne(": "),l("span",{class:se("c-"+r(b))},H(r(He)(r(b))),3)],32)):T("",!0)],2)}}},Su=Q(Av,[["__scopeId","data-v-40b8d3bc"]]),Mo=e=>(lt("data-v-10ba20a8"),e=e(),ct(),e),Bv={class:"enemy"},qv={class:"name"},Fv={key:0},Uv={class:"level"},Lv={class:"stats-second-row"},Ov=Mo(()=>l("span",{class:"c-highlight"},"W: ",-1)),Wv=Mo(()=>l("span",{class:"c-highlight"},"A: ",-1)),Gv=Mo(()=>l("span",{class:"c-highlight"},"R: ",-1)),Kv=Mo(()=>l("span",{class:"c-red"},"BR: ",-1)),jv=Mo(()=>l("span",{class:"c-fire"},"BR: ",-1)),Nv=Mo(()=>l("span",{class:"c-green"},"PR: ",-1)),Vv={__name:"Enemy",props:["enemy"],setup(e){var xt,Te,Ht,Ct,zt,ve,Vt,Xt,gt;const t=e,n=((xt=t.enemy)==null?void 0:xt.name)??R(()=>q.getEnemy().name),s=((Te=t.enemy)==null?void 0:Te.level)??R(()=>we.getLevel()),o=((Ht=t.enemy)==null?void 0:Ht.rank)??R(()=>we.getRank()),a=we.getDefaultHp(t.enemy)??R(()=>we.getMaxHp()),d=we.getDefaultMp(t.enemy)??R(()=>we.getMaxMp()),f=((Ct=t.enemy)==null?void 0:Ct.armorElement.slug)??R(()=>we.getArmorElementSlug()),_=((zt=t.enemy)==null?void 0:zt.weaponElement.slug)??R(()=>we.getWeaponElementSlug()),b=((ve=t.enemy)==null?void 0:ve.race)??R(()=>we.getRace()),I=((Vt=t.enemy)==null?void 0:Vt.bleedingResistance)??R(()=>we.getBleedingResistance()),$=((Xt=t.enemy)==null?void 0:Xt.poisonResistance)??R(()=>we.getPoisonResistance()),j=((gt=t.enemy)==null?void 0:gt.burningResistance)??R(()=>we.getBurningResistance()),re=we.getDefaultHp(t.enemy)??R(()=>we.getHp()),De=we.getDefaultMp(t.enemy)??R(()=>we.getMp()),ge={component:le(me),title:"<span class='c-highlight'>Armor Element</span>",descriptions:{description:"The element of the enemy's armor. Affects damage dealt based on your weapon element or spell element."}},st={component:le(me),title:"<span class='c-highlight'>Weapon Element</span>",descriptions:{description:"The element of the enemy's weapon. Affects damage received based on your armor element."}},_t={component:le(me),title:"<span class='c-highlight'>Race</span>",descriptions:{description:"The race of the enemy. Affects damage dealt based on your hatred stat."}},yt={component:le(me),title:"<span class='c-red'>Bleeding Resistance</span>",descriptions:{description:"The bleeding resistance of the enemy. Reduced the amount you deal with bleeding (percentage)."}},Be={component:le(me),title:"<span class='c-fire'>Burning Resistance</span>",descriptions:{description:"The burning resistance of the enemy. Reduced the amount you deal with burning (percentage)."}},dt={component:le(me),title:"<span class='c-green'>Poison Resistance</span>",descriptions:{description:"The poison resistance of the enemy. Reduced the amount you deal with poison (percentage)."}};return(fs,Ye)=>(g(),m("div",Bv,[l("div",qv,[r(o)?(g(),m("span",Fv,H(r(Nt)("",r(o))),1)):T("",!0),ne(" "+H(r(n))+", ",1),l("span",Uv,"Level "+H(r(s)),1)]),J(nn,{label:"HP:",value:r(re),maxValue:r(a),color:"red",hideValues:!1},null,8,["value","maxValue"]),J(nn,{label:"MP:",value:r(De),maxValue:r(d),color:"blue",hideValues:!1},null,8,["value","maxValue"]),J(Su,{controller:r(we),enemy:e.enemy},null,8,["controller","enemy"]),l("div",Lv,[l("div",{class:"stat race",onMouseenter:Ye[0]||(Ye[0]=Je=>r(G)(st)),onMouseleave:Ye[1]||(Ye[1]=Je=>r(O)())},[Ov,l("span",{class:se("c-"+r(_))},H(r(He)(r(_))),3)],32),l("div",{class:"stat race",onMouseenter:Ye[2]||(Ye[2]=Je=>r(G)(ge)),onMouseleave:Ye[3]||(Ye[3]=Je=>r(O)())},[Wv,l("span",{class:se("c-"+r(f))},H(r(He)(r(f))),3)],32),l("div",{class:"stat race",onMouseenter:Ye[4]||(Ye[4]=Je=>r(G)(_t)),onMouseleave:Ye[5]||(Ye[5]=Je=>r(O)())},[Gv,l("span",{class:se("c-"+r(b))},H(r(He)(r(b))),3)],32),l("div",{class:"stat",onMouseenter:Ye[6]||(Ye[6]=Je=>r(G)(yt)),onMouseleave:Ye[7]||(Ye[7]=Je=>r(O)())},[Kv,l("span",null,H(r(I)),1)],32),l("div",{class:"stat",onMouseenter:Ye[8]||(Ye[8]=Je=>r(G)(Be)),onMouseleave:Ye[9]||(Ye[9]=Je=>r(O)())},[jv,l("span",null,H(r(j)),1)],32),l("div",{class:"stat",onMouseenter:Ye[10]||(Ye[10]=Je=>r(G)(dt)),onMouseleave:Ye[11]||(Ye[11]=Je=>r(O)())},[Nv,l("span",null,H(r($)),1)],32)])]))}},xu=Q(Vv,[["__scopeId","data-v-10ba20a8"]]),Qv={class:"status-effects"},Yv=["onMouseenter"],Jv=["src"],zv={__name:"StatusEffects",props:["effects","target"],setup(e){return(t,n)=>(g(),m("div",Qv,[(g(!0),m(B,null,oe(e.effects,s=>(g(),m("div",{class:"status-effect",onMouseenter:o=>r(G)(r(je).getTooltipProps(s,e.target)),onMouseleave:n[0]||(n[0]=o=>r(O)())},[l("img",{class:"icon",src:r(P)(s.statusEffect.slug),alt:""},null,8,Jv)],40,Yv))),256))]))}},Mu=Q(zv,[["__scopeId","data-v-2e3f1192"]]),Xv={class:"wrapper"},Zv={class:"bottom"},ew={class:"image-wrapper"},tw=["src"],nw={class:"meta"},sw={class:"enemyCounter"},iw={__name:"Combat",setup(e){const t=c.get(),n=R(()=>we.getStatusEffects());return(s,o)=>(g(),m("div",Xv,[J(xu),l("div",Zv,[J(Mu,{effects:n.value,target:"enemy"},null,8,["effects"]),l("div",ew,[l("img",{class:"image",src:r(q).getEnemy().image,alt:""},null,8,tw)]),l("div",nw,[l("div",sw,H(r(q).getEnemyGroup().name)+": "+H(r(t).combat.enemyGroup.enemyNumber)+" / "+H(r(q).getEnemyGroup().endless?"":r(q).getEnemyGroup().enemyAmount),1)])])]))}},ow=Q(iw,[["__scopeId","data-v-6be148ac"]]),rw={key:0,class:"wrapper"},aw=["src"],lw=["src"],cw={key:1,class:"wrapper"},uw=["src"],dw=["src"],gw={key:2,class:"wrapper"},fw=["src"],mw=["src"],pw={key:3,class:"wrapper"},_w=["src"],hw=["src"],yw=["src"],vw=["src"],ww={__name:"ItemIcon",props:["item","isHeirloom"],setup(e){return(t,n)=>(g(),m(B,null,[e.item.isCard===!0?(g(),m("div",rw,[l("img",{class:"image background dim",src:r(P)("card"),alt:""},null,8,aw),l("img",{class:"image foreground",src:r(P)(e.item.getSource().slug),alt:""},null,8,lw)])):e.item.isEnchant===!0?(g(),m("div",cw,[l("img",{class:"image background dim",src:r(P)("enchant"),alt:""},null,8,uw),l("img",{class:"image foreground",src:r(P)(e.item.getIcon()),alt:""},null,8,dw)])):e.item.isScroll===!0?(g(),m("div",gw,[l("img",{class:"image background",src:r(P)("scroll"),alt:""},null,8,fw),l("img",{class:"image foreground",src:r(P)(e.item.getIcon()),alt:""},null,8,mw)])):e.item.isRune===!0?(g(),m("div",pw,[l("img",{class:"image background",src:r(P)("rune"),alt:""},null,8,_w),l("img",{class:"image foreground",src:r(P)(e.item.getIcon()),alt:""},null,8,hw)])):(g(),m("img",{key:4,class:"image",src:r(P)(e.item.getIcon()),alt:""},null,8,yw)),e.isHeirloom?(g(),m("img",{key:5,class:"heirloom-underlay",src:r(P)("blessing"),alt:""},null,8,vw)):T("",!0)],64))}},Kn=Q(ww,[["__scopeId","data-v-54cc1dd7"]]),kw={class:"recipe"},bw={class:"title"},Ew={class:"counts"},Iw=["onClick"],Sw={class:"content"},xw={class:"items"},Mw=["onMouseenter"],Rw={class:"separator"},Tw=["src"],$w={class:"items"},Dw=["onMouseenter"],Cw={class:"image-wrapper"},Hw={class:"quantity result"},Pw=["disabled"],Aw={__name:"Recipe",props:["baseRecipe"],setup(e){const t=[1,5,10,25,100,"max"],n=nt(t[0]),s=nt(t[0]),o=e,a=R(()=>Ge.getRecipe(o.baseRecipe)),d=R(()=>Ge.canCraft(a.value,n.value)),f=R(()=>a.value.canCraft()),_=re=>n.value=re==="max"?I():re,b=re=>{s.value=re,_(re)},I=()=>fn(a.value.materials.reduce((re,De)=>{const ge=S.getInventoryItemQuantity(De.getItem()),st=Math.floor(ge/De.quantity);return re<st?re:st},Number.MAX_VALUE),1),$=re=>S.getInventoryItemQuantity(re.getItem())>=re.quantity*n.value,j=()=>{Ge.craft(a.value,n.value),_(s.value)};return(re,De)=>(g(),m("div",kw,[l("div",bw,H(a.value.name),1),l("div",Ew,[(g(),m(B,null,oe(t,ge=>l("div",{onClick:st=>b(ge),class:se(["count",{active:s.value===ge}])},H(ge==="max"?"MAX":ge+"x"),11,Iw)),64))]),l("div",Sw,[l("div",xw,[(g(!0),m(B,null,oe(a.value.materials,ge=>(g(),m("div",{class:"item",onMouseenter:st=>r(G)(ge.getItem().getTooltipProps()),onMouseleave:De[0]||(De[0]=st=>r(O)())},[J(Kn,{item:ge.getItem()},null,8,["item"]),l("div",{class:se(["quantity",{success:$(ge),danger:!$(ge)}])},[l("div",null,H(r(S).getInventoryItemQuantity(ge.getItem())),1),l("div",null,H(ge.quantity*n.value),1)],2)],40,Mw))),256))]),l("div",Rw,[l("img",{src:r(P)("separator"),alt:""},null,8,Tw)]),(g(!0),m(B,null,oe(a.value.results,ge=>(g(),m("div",$w,[l("div",{class:"item",onMouseenter:st=>r(G)(ge.getItem().getTooltipProps()),onMouseleave:De[1]||(De[1]=st=>r(O)())},[l("div",Cw,[J(Kn,{item:ge.getItem()},null,8,["item"])]),l("div",Hw,H(ge.quantity*n.value),1)],40,Dw)]))),256)),l("button",{disabled:!d.value,onClick:De[2]||(De[2]=ge=>j()),class:se(["btn","craft",{disabled:!d.value}])}," Craft ",10,Pw),l("div",{class:se(["additional-requirement",{success:f.value,danger:!f.value}])},H(a.value.additionalRequirementDescription),3)])]))}},Bw=Q(Aw,[["__scopeId","data-v-e1b57789"]]),qw={class:"list"},Fw={class:"crafting-nav"},Uw=["onClick","onMouseenter"],Lw={class:"nav-content"},Ow={__name:"RecipeList",props:["recipeGroup","recipes"],setup(e){const t=e,n=nt(null),s=o=>n.value=o;return yo(()=>t.recipeGroup,()=>n.value=null),(o,a)=>(g(),m("div",qw,[l("div",Fw,[(g(),m(B,null,oe(1,d=>(g(),m(B,null,[(g(!0),m(B,null,oe(e.recipes,f=>{var _;return g(),m("div",{class:se(["crafting-item",{active:((_=n.value)==null?void 0:_.name)==f.name,insufficient:!r(Ge).canCraft(f)}]),onClick:b=>s(f),onMouseenter:b=>r(G)(r(u)[f.slug].getTooltipProps()),onMouseleave:a[0]||(a[0]=b=>r(O)())},[J(Kn,{item:r(u)[f.slug]},null,8,["item"])],42,Uw)}),256))],64))),64))]),l("div",Lw,[n.value?(g(),xe(Bw,{key:0,baseRecipe:n.value},null,8,["baseRecipe"])):T("",!0)])]))}},Ww=Q(Ow,[["__scopeId","data-v-b01d19a5"]]),Gw={class:"wrapper"},Kw={__name:"Crafting",setup(e){const t=c.get(),n=R(()=>qt[t.activeCrafting]);return(s,o)=>(g(),m("div",Gw,[J(Ww,{recipeGroup:n.value,recipes:r(Ge).getLearnedRecipes(n.value)},null,8,["recipeGroup","recipes"])]))}},jw=Q(Kw,[["__scopeId","data-v-88e4f460"]]),Ru=e=>(lt("data-v-17ed83b9"),e=e(),ct(),e),Nw={class:"enchanting-content-wrapper"},Vw={class:"top"},Qw=Ru(()=>l("div",{class:"heading"},"Select slot",-1)),Yw={class:"slots"},Jw=["onClick","onMouseenter"],zw={key:0},Xw={key:1,class:"c-gray"},Zw={class:"bottom"},ek=Ru(()=>l("div",{class:"heading"},"Enchanting result",-1)),tk={class:"buttons"},nk=["disabled"],sk={__name:"ApplyEnchant",props:["enchantInventoryItem","inventoryItem"],setup(e){const t=e,n=nt(null),s=d=>n.value=d,o=d=>St.getSlottedEnchantItem(t.inventoryItem,d-1),a=R(()=>St.fakeEnchantedInventoryItem(Ke(t.inventoryItem),n.value-1));return yo(()=>[t.inventoryItem,t.enchantInventoryItem],()=>n.value=null),(d,f)=>(g(),m("div",Nw,[l("div",Vw,[Qw,l("div",Yw,[(g(!0),m(B,null,oe(r(St).getEnchantingSlotsCount(e.inventoryItem),_=>(g(),m("div",{class:se(["slot",{active:_===n.value}]),onClick:b=>s(_),onMouseenter:b=>{var I;return r(G)((I=o(_))==null?void 0:I.getTooltipProps())},onMouseleave:f[0]||(f[0]=b=>r(O)())},[o(_)?(g(),m("span",zw,[J(Tt,{arrows:!0,item:o(_)},null,8,["item"])])):(g(),m("span",Xw,"Empty enchant slot"))],42,Jw))),256))])]),l("div",Zw,[ek,n.value?(g(),m("div",{key:0,class:"result",onMouseenter:f[1]||(f[1]=_=>r(G)(r(ze).getTooltipProps(a.value))),onMouseleave:f[2]||(f[2]=_=>r(O)())},[J(Tt,{arrows:!0,inventoryItem:a.value},null,8,["inventoryItem"])],32)):(g(),m("div",{key:1,class:"result",onMouseenter:f[3]||(f[3]=_=>r(G)(r(ze).getTooltipProps(e.inventoryItem))),onMouseleave:f[4]||(f[4]=_=>r(O)())},[J(Tt,{arrows:!0,inventoryItem:e.inventoryItem},null,8,["inventoryItem"])],32)),l("div",tk,[l("button",{class:se(["btn","confirm",{disabled:!n.value}]),disabled:!n.value,onClick:f[5]||(f[5]=_=>r(St).applyEnchant(e.inventoryItem,n.value-1))}," Enchant ",10,nk),l("button",{class:"btn cancel",onClick:f[6]||(f[6]=_=>r(St).stop())}," Cancel ")])])]))}},ik=Q(sk,[["__scopeId","data-v-17ed83b9"]]),ok={class:"wrapper"},rk={class:"vertical-nav secondary"},ak=["onClick","onMouseenter"],lk={class:"nav-content"},ck={__name:"Enchanting",setup(e){const t=nt(null),n=R(()=>St.getActiveEnchantInventoryItem()),s=o=>t.value=o;return yo(()=>n.value,()=>t.value=null),(o,a)=>(g(),m(B,null,[l("div",{class:"top",onMouseenter:a[0]||(a[0]=d=>r(G)(r(ze).getTooltipProps(n.value))),onMouseleave:a[1]||(a[1]=d=>r(O)())},[J(Tt,{arrows:!0,item:r(S).getItem(n.value)},null,8,["item"])],32),l("div",ok,[l("div",rk,[(g(!0),m(B,null,oe(r(St).getEnchantingEligibleInventoryItems(),d=>{var f;return g(),m("div",{class:se(["nav-item",{active:((f=t.value)==null?void 0:f.id)===d.id}]),key:d.id,onClick:_=>s(d),onMouseenter:_=>r(G)(r(ze).getTooltipProps(d)),onMouseleave:a[2]||(a[2]=_=>r(O)())},[J(Tt,{arrows:!0,inventoryItem:d},null,8,["inventoryItem"]),ne(" "+H(d.isEquipped?"E":""),1)],42,ak)}),128))]),l("div",lk,[t.value?(g(),xe(ik,{key:0,inventoryItem:t.value,enchantInventoryItem:n.value},null,8,["inventoryItem","enchantInventoryItem"])):T("",!0)])])],64))}},uk=Q(ck,[["__scopeId","data-v-ba9dda92"]]),dk={class:"reading"},gk={class:"title"},fk={class:"left"},mk={__name:"Reading",setup(e){const t=R(()=>dn.getCurrentReadingInventoryItem());return(n,s)=>(g(),m("div",dk,[l("div",gk,[ne(" Currently reading "),J(Tt,{arrows:"true",inventoryItem:t.value,onMouseenter:s[0]||(s[0]=o=>r(G)(r(ze).getTooltipProps(t.value))),onMouseleave:s[1]||(s[1]=o=>r(O)())},null,8,["inventoryItem"])]),l("div",fk," Reading amount left: "+H(t.value.readingDuration),1),l("button",{class:"btn cancel",onClick:s[2]||(s[2]=o=>r(dn).stop()),onMouseenter:s[3]||(s[3]=o=>r(G)({component:le(me),title:"Stop Reading",descriptions:{description:"You can continue where you left off."}})),onMouseleave:s[4]||(s[4]=o=>r(O)())}," Stop reading ",32)]))}},pk=Q(mk,[["__scopeId","data-v-67a506a1"]]),_k={class:"filters"},hk=["onClick"],yk={__name:"ShoppingInventoryFilters",setup(e){let t=nt(An.getFilter());const n={none:"All",isEquip:"Equip",isConsumable:"Use",isEnchant:"Enchant",etc:"Etc"};return(s,o)=>(g(),m("div",_k,[(g(),m(B,null,oe(n,(a,d)=>l("div",{class:se(["filter","nav-item",{active:r(t)===d}]),onClick:f=>{r(An).setFilter(d),Dt(t)?t.value=d:t=d}},H(a),11,hk)),64))]))}},vk=Q(yk,[["__scopeId","data-v-b91f1291"]]),wk={key:0,class:"amount"},kk={class:"enchant-slots"},bk={class:se(["enchant-slot"])},Ek={__name:"ShoppingItem",props:["shopItem","selectedCount"],setup(e){const t=e,n=R(()=>{const o=t.selectedCount==="max"?Math.floor(A.getEntityState().money/t.shopItem.getPrice()):t.selectedCount;return o===0?1:o}),s=()=>{An.buyShopItem(t.shopItem.item,t.shopItem.getPrice(),n.value),G(t.shopItem.item.getTooltipProps({price:t.shopItem.getPrice()*n.value}))};return(o,a)=>(g(),m("div",{class:se(["item"]),onClick:a[0]||(a[0]=d=>s()),onMouseenter:a[1]||(a[1]=d=>r(G)(e.shopItem.item.getTooltipProps({price:e.shopItem.getPrice()*n.value}))),onMouseleave:a[2]||(a[2]=d=>r(O)())},[n.value>1?(g(),m("div",wk,H(n.value),1)):T("",!0),l("div",kk,[(g(!0),m(B,null,oe(e.shopItem.item.enchantSlotsCount,d=>(g(),m("div",bk))),256))]),J(Kn,{item:e.shopItem.item},null,8,["item"])],32))}},Ik=Q(Ek,[["__scopeId","data-v-cda4dbf5"]]),Sk={class:"wrapper"},xk={class:"inventory-list"},Mk={class:se(["item-wrapper"])},Rk={class:"counts"},Tk=["onClick"],$k={__name:"ShoppingInventoryList",setup(e){const t=R(()=>An.getShopItems()),n=[1,5,10,25,100,"max"],s=nt(n[0]),o=a=>{s.value=a};return(a,d)=>(g(),m("div",Sk,[l("div",xk,[(g(!0),m(B,null,oe(t.value,f=>(g(),m("div",Mk,[J(Ik,{shopItem:f,selectedCount:s.value},null,8,["shopItem","selectedCount"])]))),256))]),l("div",Rk,[(g(),m(B,null,oe(n,f=>l("div",{onClick:_=>o(f),class:se(["count",{active:s.value===f}])},H(f==="max"?"MAX":f+"x"),11,Tk)),64))])]))}},Dk=Q($k,[["__scopeId","data-v-1611bd97"]]),Ck={class:"inventory box"},Hk={class:"title"},Pk={__name:"ShoppingInventory",setup(e){const t=c.get(),n=R(()=>p[t.activeShopping].title);return(s,o)=>(g(),m("div",Ck,[l("div",Hk,H(n.value),1),J(vk),J(Dk)]))}},Ak=Q(Pk,[["__scopeId","data-v-98f5962b"]]),Bk={__name:"Shopping",setup(e){return(t,n)=>(g(),xe(Ak))}},qk={class:"filters"},Fk=["onClick","onMouseenter"],Uk={__name:"QuestSelectingFilters",setup(e){const t=nt(Gn.getFilter()),n=function(a){a!=="none"&&!Ve.rankUnlocked(a)||(Gn.setFilter(a),t.value=a)},s=R(()=>c.get().reputation),o={none:"All",G:"G",F:"F"};return(a,d)=>(g(),m("div",qk,[(g(),m(B,null,oe(o,(f,_)=>l("div",{class:se(["filter","nav-item",{active:t.value===_,locked:!r(Ve).rankUnlocked(_)}]),onClick:b=>n(_),onMouseenter:b=>_!=="none"&&!r(Ve).rankUnlocked(_)?r(G)({component:me,title:"Locked",descriptions:{description:`Quests of this rank are locked.<br><br>${s.value} / ${r(Ve).rankReputationMapping[_]} reputation required.`}}):()=>{},onMouseleave:d[0]||(d[0]=b=>r(O)())},[_==="none"||r(Ve).rankUnlocked(_)?(g(),m(B,{key:0},[ne(H(f),1)],64)):(g(),m(B,{key:1},[ne("  ")],64))],42,Fk)),64))]))}},Lk=Q(Uk,[["__scopeId","data-v-9c29979a"]]),Tu=e=>(lt("data-v-fd13512f"),e=e(),ct(),e),Ok={class:"title"},Wk={class:"list"},Gk=Tu(()=>l("div",{class:"subtitle"},"Requirements",-1)),Kk={class:"list-wrapper"},jk={class:"list-item"},Nk={class:"amount"},Vk=["src"],Qk={class:"list"},Yk=Tu(()=>l("div",{class:"subtitle"},"Rewards",-1)),Jk={class:"list-wrapper column"},zk={key:0,class:"money"},Xk={key:1,class:"reputation"},Zk={__name:"Quest",props:{quest:{},callback:{default:()=>()=>{}}},setup(e){return(t,n)=>(g(),m("div",{class:se(["quest",e.quest.rank]),onClick:n[0]||(n[0]=s=>e.callback(e.quest)),onMouseenter:n[1]||(n[1]=s=>r(G)(r(Ve).getTooltipProps(e.quest))),onMouseleave:n[2]||(n[2]=s=>r(O)())},[l("div",Ok,H(e.quest.getGiver().getName()),1),l("div",Wk,[Gk,l("div",Kk,[(g(!0),m(B,null,oe(e.quest.getRequirements(),s=>(g(),m("div",jk,[l("div",Nk,H(s.amount),1),l("img",{class:"image",src:r(P)(s.requirement.getIcon()),alt:""},null,8,Vk)]))),256))])]),l("div",Qk,[Yk,l("div",Jk,[(g(!0),m(B,null,oe(e.quest.getRewards(),s=>(g(),m("div",null,[s.type===r(ke).money?(g(),m("div",zk,[J(Vn,{money:s.amount},null,8,["money"])])):T("",!0),s.type===r(ke).reputation?(g(),m("div",Xk," +"+H(s.amount)+" Reputation ",1)):T("",!0)]))),256))])])],34))}},$u=Q(Zk,[["__scopeId","data-v-fd13512f"]]),eb={class:"wrapper"},tb={class:"list"},nb={__name:"QuestSelectingList",setup(e){const t=R(()=>Gn.getAvailableQuests());return(n,s)=>(g(),m("div",eb,[l("div",tb,[(g(!0),m(B,null,oe(t.value,o=>(g(),xe($u,{quest:o,callback:r(Ve).startGuildQuest},null,8,["quest","callback"]))),256))])]))}},sb=Q(nb,[["__scopeId","data-v-3f0460ad"]]),ib=e=>(lt("data-v-6cd4f609"),e=e(),ct(),e),ob={class:"inventory box"},rb=ib(()=>l("div",{class:"title"},"Job Board",-1)),ab={class:"top"},lb={__name:"QuestSelecting",setup(e){const t=R(()=>Ve.getNextQuestsAtString());return(n,s)=>(g(),m("div",ob,[rb,l("div",ab,[l("span",{onMouseenter:s[0]||(s[0]=o=>r(G)({component:le(me),title:"Reputation",descriptions:{description:"Reputation is gained by completing quests.<br><br> Higher reputation unlocks quests of higher ranks, requiring more difficult item to acquire and providing better rewards."}})),onMouseleave:s[1]||(s[1]=o=>r(O)())},"Reputation: "+H(r(c).get().reputation),33),l("span",{class:"reset",onMouseenter:s[2]||(s[2]=o=>r(G)({component:le(me),title:"Quest Reset",descriptions:{description:"Available quests reset every 3 in-game days."}})),onMouseleave:s[3]||(s[3]=o=>r(O)())},"Next contracts at: "+H(t.value),33)]),J(Lk),J(sb)]))}},cb=Q(lb,[["__scopeId","data-v-6cd4f609"]]),ub={class:"wrapper"},db={class:"list"},gb={__name:"AcceptedQuests",props:["quests","callback"],setup(e){const t=e,n=R(()=>t.quests||Ve.getAcceptedQuests());return(s,o)=>(g(),m("div",ub,[l("div",db,[(g(!0),m(B,null,oe(n.value,a=>(g(),xe($u,{quest:a,callback:e.callback},null,8,["quest","callback"]))),256))])]))}},Du=Q(gb,[["__scopeId","data-v-babff7e5"]]),fb=e=>(lt("data-v-5649d0c9"),e=e(),ct(),e),mb={class:"list box"},pb=fb(()=>l("div",{class:"title"},"Reception",-1)),_b={__name:"QuestFinishing",setup(e){const t=R(()=>ko.getAvailableQuests());return(n,s)=>(g(),m("div",mb,[pb,J(Du,{quests:t.value,callback:r(Ve).finishGuildQuest},null,8,["quests","callback"])]))}},hb=Q(_b,[["__scopeId","data-v-5649d0c9"]]),yb=["src"],vb={class:"enchant-slots"},wb={__name:"HeirloomInventoryItem",props:["inventoryItem"],setup(e){return(t,n)=>(g(),m("div",{class:se(["item",{equipped:e.inventoryItem.isEquipped}])},[e.inventoryItem.isFavorite?(g(),m("img",{key:0,class:"favorite-permanent",src:r(P)("favorite"),alt:""},null,8,yb)):T("",!0),l("div",vb,[(g(!0),m(B,null,oe(r(St).getEnchantingSlotsCount(e.inventoryItem),s=>(g(),m("div",{class:se(["enchant-slot",{active:e.inventoryItem.enchantSlots[s-1]}])},null,2))),256))]),J(Kn,{item:r(S).getItem(e.inventoryItem)},null,8,["item"])],2))}},kb=Q(wb,[["__scopeId","data-v-c0f76779"]]),Cu=e=>(lt("data-v-f85cf032"),e=e(),ct(),e),bb={class:"box"},Eb=Cu(()=>l("span",{class:"qmark"},"?",-1)),Ib={class:"blessings-wrapper"},Sb=["onClick","onMouseenter"],xb=["src"],Mb=["src"],Rb={key:0,class:"limit"},Tb={class:"heirloom-wrapper"},$b=Cu(()=>l("div",{class:"heirloom-title"},"Choose an Heirloom",-1)),Db={class:"heirlooms"},Cb={class:"buttons"},Hb={__name:"Rebirth",setup(e){const t=R(()=>Se.getBlessings()),n=nt(null),s=nt(null),o=f=>n.value=f,a=f=>s.value=f,d=()=>{var f;(f=n.value)==null||f.action(s==null?void 0:s.value),O()};return(f,_)=>{var b;return g(),m("div",bb,[l("div",{class:"title",onMouseenter:_[0]||(_[0]=I=>r(G)({component:le(me),title:"Blessing Choice",descriptions:{description:"You can choose other blessings next time you rebirth.<br><br> Each blessing can only be chosen limited amount of times, except for Heirloom Blessing, which has no limit."}})),onMouseleave:_[1]||(_[1]=I=>r(O)())},[ne(" Make your choice "),Eb],32),l("div",Ib,[(g(!0),m(B,null,oe(t.value,I=>{var $;return g(),m("div",{class:se(["blessing",{selected:(($=n.value)==null?void 0:$.slug)===I.slug}]),onClick:j=>o(I),onMouseenter:j=>r(G)(I.getTooltipProps()),onMouseleave:_[2]||(_[2]=j=>r(O)())},[l("img",{class:"blessing-underlay",src:r(P)("blessing"),alt:""},null,8,xb),l("img",{class:"blessing-icon",src:I.getIcon(),alt:""},null,8,Mb),I.limit?(g(),m("div",Rb,H(I.limit-r(Se).getTakenBonusCount(I.slug)),1)):T("",!0)],42,Sb)}),256))]),l("div",Tb,[((b=n.value)==null?void 0:b.type)==="blessing_heirloom"?(g(),m(B,{key:0},[$b,l("div",Db,[(g(!0),m(B,null,oe(r(Se).getHeirloomEligibleInventoryItems(n.value.powerLevelLimit),I=>{var $;return g(),xe(kb,{class:se(["heirloom-item",{selected:(($=s.value)==null?void 0:$.id)===I.id}]),onMouseenter:j=>r(G)(r(ze).getTooltipProps(I)),onMouseleave:_[3]||(_[3]=j=>r(O)()),onClick:j=>a(I),inventoryItem:I},null,8,["class","onMouseenter","onClick","inventoryItem"])}),256))])],64)):T("",!0)]),l("div",Cb,[l("button",{class:se(["btn","confirm",{disabled:!n.value||n.value.type==="blessing_heirloom"&&!s.value}]),onClick:_[4]||(_[4]=I=>d()),onMouseenter:_[5]||(_[5]=I=>r(G)({component:le(me),title:"Rebirth",descriptions:{description:"Start over and receive a blessing.<br><br>You will return to the beginning of the game.<br><br> <strong>You will keep:</strong> Permanent items (heirlooms, cards and ALL runes), rebirth blessings, achievements (progress included), bestiary, titles, learned recipes (diagrams), runecarving progress and tower progress.<br><br> <strong>You will lose:</strong> everything else."}})),onMouseleave:_[6]||(_[6]=I=>r(O)())}," Rebirth ",34),l("button",{class:"btn cancel",onClick:_[7]||(_[7]=I=>r(Se).stop())}," Cancel ")])])}}},Pb=Q(Hb,[["__scopeId","data-v-f85cf032"]]),Ab={class:"action-window box"},Bb={__name:"ActionWindow",setup(e){return(t,n)=>(g(),m("div",Ab,[r(q).running()?(g(),xe(ow,{key:0})):T("",!0),r(Ge).running()?(g(),xe(jw,{key:1})):T("",!0),r(St).running()?(g(),xe(uk,{key:2})):T("",!0),r(dn).running()?(g(),xe(pk,{key:3})):T("",!0),r(An).running()?(g(),xe(Bk,{key:4})):T("",!0),r(Gn).running()?(g(),xe(cb,{key:5})):T("",!0),r(ko).running()?(g(),xe(hb,{key:6})):T("",!0),r(Se).running()?(g(),xe(Pb,{key:7})):T("",!0)]))}},qb=Q(Bb,[["__scopeId","data-v-6eaa4ccb"]]),Fb={class:"filters"},Ub=["onClick"],Lb=["src"],Ob={__name:"InventoryFilters",setup(e){let t=nt(S.getFilter());const n={none:"All",isEquip:"Equip",isConsumable:"Use",isEnchant:"Enchant",etc:"Etc",isHidden:"Hidden",isHeirloom:"Heirloom"};return(s,o)=>(g(),m("div",Fb,[(g(),m(B,null,oe(n,(a,d)=>l("div",{class:se(["filter","nav-item",{active:r(t)===d}]),onClick:f=>{r(S).setFilter(d),Dt(t)?t.value=d:t=d}},H(a),11,Ub)),64)),l("div",{class:se(["nav-item","help",r(c).get().highlightInventoryGuide?"highlight":""]),onMouseenter:o[0]||(o[0]=a=>r(G)({component:le(me),title:"Inventory Guide",descriptions:{description:"<strong>Controls</strong>: Press shift to show controls overlay, this allows you to set item as favorite, hide it into the hidden tab, delete it and later in the game - feed it.<br><br><strong>Hotkeys</strong>: Pressing 0-9 while hovering over an item allows you to set a hotkey. Using the hotkey uses the item. You can also hold the hotkey for rapid usage.<br><br><strong>Clean items</strong>: Some actions will remove equipment from your inventory (completing quests, feeding). These actions only count and remove clean equipment. An equipment is clean when it has no experience, no rank, no socketed enchant (or card) and is not an heirloom, equipped, favorite or hidden. It's basically a new piece of equipment you have not interacted with.<br><br><strong>Click this icon to remove the golden highlight.</strong>"}})),onMouseleave:o[1]||(o[1]=a=>r(O)()),onClick:o[2]||(o[2]=a=>r(c).get().highlightInventoryGuide=!r(c).get().highlightInventoryGuide)},[l("img",{class:"icon",src:r(P)("question_mark"),alt:""},null,8,Lb)],34)]))}},Wb=Q(Ob,[["__scopeId","data-v-867249ea"]]),yn={running:function(){return c.get().activeDeleting!==null},startDeleting:function(e){e.isDeletable!==!1&&(c.get().activeDeleting=e.id)},stopDeleting:function(){c.get().activeDeleting=null},getDeletingInventoryItem:function(){return S.getInventoryItemById(c.get().activeDeleting)},delete:function(){const e=yn.getDeletingInventoryItem();e.isDeletable!==!1&&(S.remove(e,e.amount),yn.stopDeleting())},massDelete:function(){if(!confirm("Are you sure?"))return;const e=yn.getDeletingInventoryItem(),t=S.getItem(e);S.getCleanInventoryItems(t).forEach(n=>S.remove(n,n.amount)),yn.stopDeleting()}},Gb=["src"],Kb=["src"],jb=["src"],Nb=["src"],Vb=["src"],Qb={__name:"InventoryItemControls",props:["showControls","inventoryItem"],setup(e){const t={component:me,title:"Favorite",descriptions:{description:"Marking an item as favorite gives it sorting priority. It will also hide options to hide it and to delete it."}},n={component:me,title:"Hide / Show",descriptions:{description:"Hiding an item moves it to the 'Hidden' inventory tab. Items in this tab are not shown in any other tab."}},s={component:me,title:"Feed",descriptions:{description:"Feeding consumes all existing copies of the fed item. Copies must be 'clean'. Only items that are not changed in any way are considered 'clean'.<br><br> If an item has any experience, rank, enchants or is marked as favorite, hidden or is equipped, it is not considered 'clean'."}},o={component:me,title:"Destroy",descriptions:{description:"Destroying an item permanently removes it from your inventory. It cannot be undone. If an item is stackable, the whole stack is removed.<br><br>There is no limit to inventory space, this function exists mainly to remove unwanted equipment that is not 'clean', as 'clean' items do have a use."}};return(a,d)=>(g(),m("div",{class:se(["controls-overlay",{active:e.showControls}])},[l("div",{class:se(["icon-wrapper",{active:e.inventoryItem.isFavorite}]),onClick:d[0]||(d[0]=At(f=>r(S).toggleFavorite(e.inventoryItem),["stop"])),onMouseenter:d[1]||(d[1]=f=>r(G)(t)),onMouseleave:d[2]||(d[2]=f=>r(O)())},[l("img",{class:"icon",src:r(P)("favorite"),alt:""},null,8,Gb)],34),!e.inventoryItem.isFavorite&&!e.inventoryItem.isEquipped?(g(),m("div",{key:0,class:"icon-wrapper",onClick:d[3]||(d[3]=At(f=>r(S).toggleHidden(e.inventoryItem),["stop"])),onMouseenter:d[4]||(d[4]=f=>r(G)(n)),onMouseleave:d[5]||(d[5]=f=>r(O)())},[e.inventoryItem.isHidden?(g(),m("img",{key:0,class:"icon",src:r(P)("show"),alt:""},null,8,Kb)):(g(),m("img",{key:1,class:"icon",src:r(P)("hide"),alt:""},null,8,jb))],32)):T("",!0),e.inventoryItem.startedAwakening&&!e.inventoryItem.isAwakened?(g(),m("div",{key:1,class:"icon-wrapper",onClick:d[6]||(d[6]=At(f=>r(ue).startFeeding(e.inventoryItem),["stop"])),onMouseenter:d[7]||(d[7]=f=>r(G)(s)),onMouseleave:d[8]||(d[8]=f=>r(O)())},[l("img",{class:"icon",src:r(P)("feed"),alt:""},null,8,Nb)],32)):T("",!0),e.inventoryItem.isDeletable&&!e.inventoryItem.isFavorite&&!e.inventoryItem.isEquipped?(g(),m("div",{key:2,class:"icon-wrapper",onClick:d[9]||(d[9]=At(f=>r(yn).startDeleting(e.inventoryItem),["stop"])),onMouseenter:d[10]||(d[10]=f=>r(G)(o)),onMouseleave:d[11]||(d[11]=f=>r(O)())},[l("img",{class:"icon",src:r(P)("red-cross"),alt:""},null,8,Vb)],32)):T("",!0)],2))}},Yb=Q(Qb,[["__scopeId","data-v-d7a21e44"]]),Jb={key:0,class:"awaken-overlay"},zb=["src"],Xb={__name:"InventoryItemAwaken",props:["inventoryItem"],setup(e){return(t,n)=>e.inventoryItem.canAwaken&&!e.inventoryItem.isAwakened?(g(),m("div",Jb,[l("div",{class:"awaken",onClick:n[0]||(n[0]=At(s=>r(ue).awaken(e.inventoryItem),["stop"])),onMouseenter:n[1]||(n[1]=s=>r(G)({component:me,title:"Awakening",descriptions:{description:"This item is ready to evolve into its final form!"}})),onMouseleave:n[2]||(n[2]=s=>r(O)())},[l("img",{class:"icon",src:r(P)("awaken"),alt:""},null,8,zb)],32)])):T("",!0)}},Zb=Q(Xb,[["__scopeId","data-v-16cc5ccc"]]),e1={key:0,class:"cooldown-overlay"},t1=["src"],n1={key:2,class:"amount"},s1={key:3,class:"hotkey"},i1={class:"enchant-slots"},o1={__name:"InventoryItem",props:["inventoryItem","showAmount"],setup(e){return(t,n)=>(g(),m("div",{class:se(["item",{equipped:e.inventoryItem.isEquipped,heirloom:e.inventoryItem.isHeirloom}])},[e.inventoryItem.cooldown>0?(g(),m("div",e1,H(e.inventoryItem.cooldown),1)):T("",!0),e.inventoryItem.isFavorite?(g(),m("img",{key:1,class:"favorite-permanent",src:r(P)("favorite"),alt:""},null,8,t1)):T("",!0),e.showAmount&&!r(S).getItem(e.inventoryItem).isEquip?(g(),m("div",n1,H(e.inventoryItem.amount),1)):T("",!0),e.inventoryItem.hotkey?(g(),m("div",s1,H(e.inventoryItem.hotkey),1)):T("",!0),l("div",i1,[(g(!0),m(B,null,oe(r(St).getEnchantingSlotsCount(e.inventoryItem),s=>(g(),m("div",{class:se(["enchant-slot",{active:e.inventoryItem.enchantSlots[s-1]}])},null,2))),256))]),J(Kn,{item:r(S).getItem(e.inventoryItem),isHeirloom:e.inventoryItem.isHeirloom},null,8,["item","isHeirloom"])],2))}},r1=Q(o1,[["__scopeId","data-v-e54c35a7"]]),a1={class:"wrapper",id:"firefox-hack"},l1={class:"inventory-list"},c1={class:se(["item-wrapper"])},u1={__name:"InventoryList",props:["showControls"],setup(e){const t=R(()=>S.get());let n=null;const s=["1","2","3","4","5","6","7","8","9","0"],o=f=>{G(ze.getTooltipProps(f)),n=f},a=f=>{O(),n=null},d=f=>{if(s.includes(f.key)){if(n===null){ze.useHotkeyInventoryItem(f.key);return}if(n.hotkey===f.key){ze.clearHotkey(f.key);return}ze.clearHotkey(f.key),ze.setHotkey(n,f.key)}};return Nn(()=>{window.addEventListener("keydown",d)}),as(()=>{window.removeEventListener("keydown",d)}),(f,_)=>(g(),m("div",a1,[l("div",l1,[(g(!0),m(B,null,oe(t.value,b=>(g(),m("div",c1,[J(r1,{inventoryItem:b,showAmount:!0,onClick:I=>r(S).useInventoryItem(b),onMouseenter:I=>o(b),onMouseleave:a},null,8,["inventoryItem","onClick","onMouseenter"]),J(Yb,{showControls:e.showControls,inventoryItem:b},null,8,["showControls","inventoryItem"]),J(Zb,{inventoryItem:b},null,8,["inventoryItem"])]))),256))])]))}},d1=Q(u1,[["__scopeId","data-v-09bf9a3c"]]),g1={class:"sorts"},f1=["onClick"],m1={__name:"InventorySorts",setup(e){let t=nt("none");const n={default:"None",type:"Type",alpha:"ABC",quantity:"QTY"};return(s,o)=>(g(),m("div",g1,[(g(),m(B,null,oe(n,(a,d)=>l("div",{class:se(["sort","nav-item",{active:r(t)===d}]),onClick:f=>{r(S).setSort(d),Dt(t)?t.value=d:t=d}},H(a),11,f1)),64))]))}},p1=Q(m1,[["__scopeId","data-v-22eb2c71"]]),_1=e=>(lt("data-v-bc0e0b22"),e=e(),ct(),e),h1={key:0,class:"feeding"},y1=_1(()=>l("div",{class:"separator"}," is about to consume ",-1)),v1={class:"fuel"},w1={class:"buttons"},k1={__name:"Feeding",setup(e){const t=R(()=>ue.getFeedingInventoryItem()),n=R(()=>ue.getFeedingFuel(t.value));return(s,o)=>r(ue).feeding()?(g(),m("div",h1,[J(Tt,{class:"consumer",arrows:!0,inventoryItem:t.value,onMouseenter:o[0]||(o[0]=a=>r(G)(r(ze).getTooltipProps(t.value))),onMouseleave:o[1]||(o[1]=a=>r(O)())},null,8,["inventoryItem"]),y1,l("div",v1,[ne(H(n.value.length)+"x ",1),J(Tt,{arrows:!0,inventoryItem:n.value[0],onMouseenter:o[2]||(o[2]=a=>r(G)(r(ze).getTooltipProps(n.value[0]))),onMouseleave:o[3]||(o[3]=a=>r(O)())},null,8,["inventoryItem"])]),l("div",w1,[l("button",{class:"btn confirm",onClick:o[4]||(o[4]=a=>r(ue).feed())}," Feed "),l("button",{class:"btn cancel",onClick:o[5]||(o[5]=a=>r(ue).stopFeeding())}," Cancel ")])])):T("",!0)}},b1=Q(k1,[["__scopeId","data-v-bc0e0b22"]]),E1=e=>(lt("data-v-f1dc8efa"),e=e(),ct(),e),I1={key:0,class:"deleting"},S1=E1(()=>l("div",null,"You are about to destroy",-1)),x1={class:"item"},M1={class:"buttons"},R1={key:0,class:"mass-delete"},T1={__name:"Deleting",setup(e){const t=R(()=>yn.getDeletingInventoryItem());return(n,s)=>r(yn).running()?(g(),m("div",I1,[S1,l("div",x1,[ne(H(t.value.amount)+"x ",1),J(Tt,{class:"consumer",arrows:!0,inventoryItem:t.value,onMouseenter:s[0]||(s[0]=o=>r(G)(r(ze).getTooltipProps(t.value))),onMouseleave:s[1]||(s[1]=o=>r(O)())},null,8,["inventoryItem"])]),l("div",M1,[l("button",{class:"btn confirm",onClick:s[2]||(s[2]=o=>r(yn).delete())}," Destroy "),l("button",{class:"btn cancel",onClick:s[3]||(s[3]=o=>r(yn).stopDeleting())}," Cancel ")]),r(S).getItem(t.value).isEquip?(g(),m("div",R1,[l("button",{class:"btn confirm",onClick:s[4]||(s[4]=o=>r(yn).massDelete())}," Destroy ALL clean copies ")])):T("",!0)])):T("",!0)}},$1=Q(T1,[["__scopeId","data-v-f1dc8efa"]]),D1={class:"inventory box"},C1={class:"bottom"},H1={class:"left"},P1=["src"],A1={__name:"Inventory",setup(e){const t=R(()=>A.getMoney()),n=nt(!1),s=o=>{n.value=o.shiftKey};return Nn(()=>{window.addEventListener("keydown",s),window.addEventListener("keyup",s)}),as(()=>{window.removeEventListener("keydown",s),window.removeEventListener("keyup",s)}),(o,a)=>(g(),m("div",D1,[r(ue).feeding()?(g(),xe(b1,{key:0})):T("",!0),r(yn).running()?(g(),xe($1,{key:1})):T("",!0),J(Wb),J(d1,{showControls:n.value},null,8,["showControls"]),l("div",C1,[l("div",H1,[l("div",{class:"controls",onMouseenter:a[0]||(a[0]=d=>r(G)({component:le(me),title:"Controls",descriptions:{description:"Opens the inventory controls. Click again to close.<br><br>Alternatively, you can press and hold the shift key."}})),onMouseleave:a[1]||(a[1]=d=>r(O)()),onClick:a[2]||(a[2]=d=>n.value=!n.value)},[l("img",{src:r(P)("settings"),alt:""},null,8,P1)],32),J(p1)]),J(Vn,{money:t.value,onMouseenter:a[3]||(a[3]=d=>r(G)({component:le(me),title:"Money",descriptions:{description:"Used to buy things.<br><br>100 copper = 1 silver<br>100 silver = 1 gold<br>100 gold = filthy rich"}})),onMouseleave:a[4]||(a[4]=d=>r(O)())},null,8,["money"])])]))}},B1=Q(A1,[["__scopeId","data-v-02971989"]]),q1=["src"],F1=["src"],U1={class:"item"},L1={__name:"SceneOption",props:["option"],setup(e){return(t,n)=>(g(),m(B,null,[e.option.type==="normal"?(g(),m("div",{key:0,class:se(["option",e.option.class]),onClick:n[0]||(n[0]=s=>e.option.action())},[e.option.getIcon?(g(),m("img",{key:0,class:"icon",src:e.option.getIcon(),alt:""},null,8,q1)):T("",!0),ne(" "+H(e.option.getContent()),1)],2)):T("",!0),e.option.type==="quest_start"||e.option.type==="quest_finish"?(g(),m("div",{key:1,class:se(["option",e.option.class]),onClick:n[1]||(n[1]=s=>e.option.action()),onMouseenter:n[2]||(n[2]=s=>r(G)(r(Ve).getTooltipProps(e.option.quest))),onMouseleave:n[3]||(n[3]=s=>r(O)())},H(e.option.getContent()),35)):T("",!0),e.option.type==="separator"?(g(),m("div",{key:2,class:se(["option",e.option.class])},[e.option.getIcon?(g(),m("img",{key:0,class:"icon",src:e.option.getIcon(),alt:""},null,8,F1)):T("",!0),ne(" "+H(e.option.getContent()),1)],2)):T("",!0),e.option.type==="station"?(g(),m("div",{key:3,class:"option split station",onClick:n[4]||(n[4]=s=>e.option.action())},[ne(" Access to "+H(r(He)(e.option.station))+" Station ",1),J(Vn,{money:e.option.price},null,8,["money"])])):T("",!0),e.option.type==="heirloom"?(g(),m("div",{key:4,class:"option split",onClick:n[5]||(n[5]=s=>e.option.action()),onMouseenter:n[6]||(n[6]=s=>r(G)(r(ze).getTooltipProps(e.option.inventoryItem))),onMouseleave:n[7]||(n[7]=s=>r(O)())},[l("div",U1,[J(Tt,{inventoryItem:e.option.inventoryItem,arrows:!0},null,8,["inventoryItem"])])],32)):T("",!0)],64))}},O1=Q(L1,[["__scopeId","data-v-2e89223a"]]),W1={class:"scene box"},G1={key:0,class:"overlay"},K1={class:"top"},j1={class:"left"},N1={class:"name"},V1={key:0,class:"description"},Q1={class:"right"},Y1={class:"datetime"},J1=["src"],z1={class:"day"},X1=["innerHTML"],Z1={class:"messages"},eE=["innerHTML"],tE={class:"options"},nE={__name:"Scene",setup(e){const t=c.get(),n=R(()=>p[t.scene]),s=R(()=>n.value.getDescription()),o=R(()=>n.value.getMessages()),a=R(()=>n.value.messagesTitle),d=R(()=>Ce.getTimeIcon()),f=R(()=>n.value.options());let _=R(()=>St.running()||dn.running());return(b,I)=>(g(),m("div",W1,[r(_)?(g(),m("div",G1)):T("",!0),l("div",K1,[l("div",j1,[l("div",N1,H(n.value.title),1),s.value?(g(),m("div",V1,H(s.value),1)):T("",!0)]),l("div",Q1,[l("div",Y1,[l("img",{class:"time-icon",src:r(P)(d.value),alt:""},null,8,J1),ne(" "+H(r(Ce).getTimeString()),1)]),l("div",z1,H(r(Ce).getDayString()),1)])]),o.value?(g(),m(B,{key:1},[a.value?(g(),m("div",{key:0,class:"message-title",innerHTML:a.value},null,8,X1)):T("",!0),l("div",Z1,[(g(!0),m(B,null,oe(o.value,$=>(g(),m("div",{class:"message",innerHTML:$},null,8,eE))),256))])],64)):T("",!0),l("div",tE,[(g(!0),m(B,null,oe(f.value,$=>(g(),m(B,null,[$.isVisible()?(g(),xe(O1,{key:0,option:$},null,8,["option"])):T("",!0)],64))),256))])]))}},sE=Q(nE,[["__scopeId","data-v-919033ec"]]),iE={__name:"CommonMessage",props:["message"],setup(e){return(t,n)=>(g(),m("div",{class:se(["message",e.message.color])},H(e.message.message),3))}},oE=Q(iE,[["__scopeId","data-v-e5ebafd6"]]),rE=e=>(lt("data-v-c0a7582c"),e=e(),ct(),e),aE=rE(()=>l("span",{class:"c-success label"},"Item acquired:",-1)),lE={__name:"ItemMessage",props:["message"],setup(e){const t=e;let n=S.getItem({slug:t.message.item});return(s,o)=>(g(),m("div",{class:"message",onMouseenter:o[0]||(o[0]=a=>r(G)(r(n).getTooltipProps())),onMouseleave:o[1]||(o[1]=a=>r(O)())},[aE,J(Kn,{item:r(n)},null,8,["item"]),ne(" x"+H(e.message.amount),1)],32))}},cE=Q(lE,[["__scopeId","data-v-c0a7582c"]]),uE={class:"message"},dE={__name:"SkillMessage",props:["message"],setup(e){let n=K[e.message.skill];return(s,o)=>(g(),m("div",{class:"wrapper",onMouseenter:o[0]||(o[0]=a=>r(G)(r(ie).getTooltipProps(r(n)))),onMouseleave:o[1]||(o[1]=a=>r(O)())},[l("div",uE,H(r(n).name)+" has reached level "+H(e.message.level)+"! ",1)],32))}},gE=Q(dE,[["__scopeId","data-v-1088ce5d"]]),fE=e=>(lt("data-v-f94fe600"),e=e(),ct(),e),mE=fE(()=>l("span",{class:"c-highlight"},"Item rank up! ",-1)),pE={__name:"InventoryItemRankUpMessage",props:["message"],setup(e){return(t,n)=>(g(),m("div",{class:"message",onMouseenter:n[0]||(n[0]=s=>r(G)(r(ze).getTooltipProps(e.message.inventoryItem))),onMouseleave:n[1]||(n[1]=s=>r(O)())},[mE,J(Tt,{arrows:!0,inventoryItem:e.message.inventoryItem},null,8,["inventoryItem"])],32))}},_E=Q(pE,[["__scopeId","data-v-f94fe600"]]),hE={class:"message"},yE={__name:"AchievementMessage",props:["message"],setup(e){let n=Mt[e.message.achievement];return(s,o)=>(g(),m("div",{class:"wrapper",onMouseenter:o[0]||(o[0]=a=>r(G)(r(bt).getTooltipProps(r(n)))),onMouseleave:o[1]||(o[1]=a=>r(O)())},[l("div",hE," New achievement unlocked! <"+H(r(n).name)+"> ",1)],32))}},vE=Q(yE,[["__scopeId","data-v-f45c75f3"]]),wE={class:"message"},kE={__name:"TitleMessage",props:["message"],setup(e){let n=wn[e.message.title];return(s,o)=>(g(),m("div",{class:"wrapper",onMouseenter:o[0]||(o[0]=a=>r(G)(r(mo).getTooltipProps(r(n)))),onMouseleave:o[1]||(o[1]=a=>r(O)())},[l("div",wE," New title unlocked! <"+H(r(n).name)+"> ",1)],32))}},bE=Q(kE,[["__scopeId","data-v-f69ce431"]]),Hu=e=>(lt("data-v-c4a61835"),e=e(),ct(),e),EE={class:"message"},IE=Hu(()=>l("br",null,null,-1)),SE=Hu(()=>l("span",{class:"c-danger"},"has consumed",-1)),xE={__name:"FeedingMessage",props:["message"],setup(e){const t=e,n=S.getInventoryItemById(t.message.inventoryItem),s=u[t.message.item];return(o,a)=>(g(),m("div",EE,[J(Tt,{arrows:!0,inventoryItem:r(n),onMouseenter:a[0]||(a[0]=d=>r(G)(r(ze).getTooltipProps(r(n)))),onMouseleave:a[1]||(a[1]=d=>r(O)())},null,8,["inventoryItem"]),IE,SE,ne(" "+H(e.message.amount)+"x ",1),J(Tt,{arrows:!0,item:r(s),onMouseenter:a[2]||(a[2]=d=>r(G)(r(s).getTooltipProps())),onMouseleave:a[3]||(a[3]=d=>r(O)())},null,8,["item"])]))}},ME=Q(xE,[["__scopeId","data-v-c4a61835"]]),RE=e=>(lt("data-v-e1ddd978"),e=e(),ct(),e),TE={class:"message"},$E=RE(()=>l("span",{class:"c-danger"},"grows hungry...",-1)),DE={__name:"StartAwakeningMessage",props:["message"],setup(e){const t=e,n=S.getInventoryItemById(t.message.inventoryItem);return(s,o)=>(g(),m("div",TE,[J(Tt,{class:"mr",arrows:!0,inventoryItem:r(n),onMouseenter:o[0]||(o[0]=a=>r(G)(r(ze).getTooltipProps(r(n)))),onMouseleave:o[1]||(o[1]=a=>r(O)())},null,8,["inventoryItem"]),$E]))}},CE=Q(DE,[["__scopeId","data-v-e1ddd978"]]),Pu=e=>(lt("data-v-f1201b72"),e=e(),ct(),e),HE={class:"message"},PE=Pu(()=>l("span",{class:"c-highlight"},"has awakened and became",-1)),AE=Pu(()=>l("br",null,null,-1)),BE={__name:"AwakeningMessage",props:["message"],setup(e){const t=e,n=S.getInventoryItemById(t.message.inventoryItem),s=S.getItem(n);return(o,a)=>(g(),m("div",HE,[J(Tt,{item:r(s),class:"mr"},null,8,["item"]),PE,AE,J(Tt,{arrows:!0,inventoryItem:r(n),onMouseenter:a[0]||(a[0]=d=>r(G)(r(ze).getTooltipProps(r(n)))),onMouseleave:a[1]||(a[1]=d=>r(O)())},null,8,["inventoryItem"]),ne("! ")]))}},qE=Q(BE,[["__scopeId","data-v-f1201b72"]]),FE=e=>(lt("data-v-ddb8b88a"),e=e(),ct(),e),UE={class:"message"},LE=FE(()=>l("span",{class:"c-highlight"},"can be awakened!",-1)),OE={__name:"AwakeningAvailableMessage",props:["message"],setup(e){const t=e,n=S.getItemById(t.message.inventoryItem);return(s,o)=>(g(),m("div",UE,[J(Tt,{class:"mr",item:r(n)},null,8,["item"]),LE]))}},WE=Q(OE,[["__scopeId","data-v-ddb8b88a"]]),GE={class:"message"},KE={__name:"SeparatorMessage",props:["message"],setup(e){return(t,n)=>(g(),m("div",GE))}},jE=Q(KE,[["__scopeId","data-v-76e8bc57"]]),NE={class:"message"},VE={__name:"MoneyMessage",props:["message"],setup(e){return(t,n)=>(g(),m("div",NE,[ne(" + "),J(Vn,{money:e.message.money},null,8,["money"])]))}},QE=Q(VE,[["__scopeId","data-v-0dddfbf2"]]),YE={__name:"SpellMessage",props:["message"],setup(e){const t=e,n=ce[t.message.spell],s=t.message.message,o=t.message.caster,a=t.message.cost,d=t.message.rank;return(f,_)=>(g(),m("div",{class:"message",onMouseenter:_[0]||(_[0]=b=>r(G)(r(n).getTooltipProps(r(d),r(a)))),onMouseleave:_[1]||(_[1]=b=>r(O)())},[l("span",{class:se(r(o))},H(r(s)),3)],32))}},JE=Q(YE,[["__scopeId","data-v-7d612d54"]]),zE={class:"filters"},XE=["onClick"],ZE={__name:"LogFilters",setup(e){let t=nt(ee.getFilter());const n={none:"All",combat:"Combat",item:"Item",other:"Other"};return(s,o)=>(g(),m("div",zE,[(g(),m(B,null,oe(n,(a,d)=>l("div",{class:se(["filter","nav-item",{active:r(t)===d}]),onClick:f=>{r(ee).setFilter(d),Dt(t)?t.value=d:t=d}},H(a),11,XE)),64))]))}},eI=Q(ZE,[["__scopeId","data-v-0e533284"]]),tI={class:"log"},nI={__name:"Log",setup(e){const t={CommonMessage:oE,ItemMessage:cE,SpellMessage:JE,SkillMessage:gE,InventoryItemRankUpMessage:_E,AchievementMessage:vE,TitleMessage:bE,FeedingMessage:ME,AwakeningMessage:qE,StartAwakeningMessage:CE,AwakeningAvailableMessage:WE,SeparatorMessage:jE,MoneyMessage:QE},n=nt(null),s=R(()=>ee.getMessages());let o=!0;const a=()=>{o=Math.abs(n.value.scrollHeight-n.value.clientHeight-n.value.scrollTop)<=1};return Nn(()=>{n.value.scrollTop=n.value.scrollHeight,n.value.addEventListener("scroll",a)}),Va(()=>{o&&(n.value.scrollTop=n.value.scrollHeight)}),Yc(()=>n.value.removeEventListener("scroll",a)),(d,f)=>(g(),m("div",tI,[J(eI),l("div",{class:"messages",ref_key:"list",ref:n},[(g(!0),m(B,null,oe(s.value,_=>(g(),xe(Eo(t[_.type]),{key:_.id,message:_},null,8,["message"]))),128))],512)]))}},sI=Q(nI,[["__scopeId","data-v-b70cc469"]]),iI=function(){return[{isVisible:()=>c.get().tower_variables.kathryn_first_meeting_bar_completed,content:["A helpful guy providing information to rookie Travelers.","I can find him at the bar in the Adventurers' Guild."]}]},oI=function(){return[{isVisible:()=>c.get().tower_variables.kacadu_meditation_rune_gift_completed,content:["After accepting the last rune blessing, the tower shone with light and a voice appeared in my mind.","It felt similar to being in the presence of a Shadow, but less... ominous.","A rune materialized in front of me, already bonded to me like other heirlooms.","Supposedly a gift for my magical prowess.","The voice told me to keep climbing, to defy my mortal fate and become something greater.","I wonder what that means...","Despite not being a traveller, I will keep a note of this encounter here, under the Shadow's name.","I think the voice and shadow are linked somehow, so I'll name the entry after the Shadow - Kacadu."]}]},rI=function(){return[{isVisible:()=>c.get().tower_variables.kathryn_first_meeting_completed,content:["I met a woman called Kathryn, she seems to know what's going on when it comes to the tower and these blessings...","I should meet her in the Adventurers' Guild's Bar when I have some spare time."]},{isVisible:()=>c.get().tower_variables.kathryn_first_meeting_bar_completed,content:["Met her again, she was pretty surprised that I met the 'Shadow', as she calls it, on the very first floor. Apparently that's not normal. Wonder where and when we'll meet again.","I should talk to Jake in the Bar if I want more information."]},{isVisible:()=>c.get().tower_variables.kathryn_third_floor_secret_room_completed,content:["This time she was on the third floor, right in front of the boss gate.","We teamed up and explored a secret room, which contained powerful creature and some diagrams.","Wonder where we'll meet next..."]}]},aI=function(){return[{isVisible:()=>c.get().tower_variables.lomsi_bear_cave_meeting_completed,content:["A hunter I have met after beating a bear in the forest cave.","He gave me advice that my equipment might have an effect on the materials harvested from enemies.","As an example, he mentioned bear and hunting bow preserving its pelt perfectly.","I should talk to him in the Hunter's Cabin when I am free."]},{isVisible:()=>c.get().tower_variables.lomsi_hunting_cabin_meeting_completed,content:["He is selling books that teach everything there is to know about a monster.","Just like acquiring a card, but without having to hunt for days.","I can usually meet him in the Hunter's Cabin in the evening.","He also mentioned something about being a traveler."]}]},va={kathryn:rI(),jake:iI(),lomsi:aI(),kacadu:oI()},lI={class:"people"},cI={class:"vertical-nav secondary"},uI=["onClick"],dI={class:"nav-title"},gI={key:0,class:"nav-content"},fI={class:"person-title"},mI={class:"entries"},pI={key:0,class:"entry"},_I=["innerHTML"],hI={__name:"People",setup(e){const t=R(()=>Object.keys(va).filter(d=>va[d].some(f=>f.isVisible()))),n=c.get(),s=R(()=>n.journal.selectedPerson),o=function(d){n.journal.selectedPerson=d},a=R(()=>[...va[s.value]].reverse());return(d,f)=>(g(),m("div",lI,[l("div",cI,[(g(!0),m(B,null,oe(t.value,_=>(g(),m("div",{class:se(["nav-item",{active:s.value===_}]),onClick:b=>o(_)},[l("span",dI,H(r(he)[_].getName()),1)],10,uI))),256))]),s.value?(g(),m("div",gI,[l("div",fI,H(r(he)[s.value].getName()),1),(g(!0),m(B,null,oe(a.value,_=>(g(),m("div",mI,[_.isVisible()?(g(),m("div",pI,[(g(!0),m(B,null,oe(_.content,b=>(g(),m("div",{class:"entry-content",innerHTML:b},null,8,_I))),256))])):T("",!0)]))),256))])):T("",!0)]))}},yI=Q(hI,[["__scopeId","data-v-d7050961"]]),vI=e=>(lt("data-v-da6e8305"),e=e(),ct(),e),wI={class:"enemy"},kI={class:"image-wrapper"},bI=["src"],EI={key:0,class:"heading spells"},II={key:1,class:"description"},SI={class:"exp"},xI=vI(()=>l("span",{class:"c-exp-lighter"},"EXP",-1)),MI={key:2,class:"heading spells"},RI={class:"spells"},TI={key:0,class:"no-spells"},$I={key:1},DI={class:"spell header"},CI={class:"spell"},HI=["onMouseenter"],PI={class:"spell-cell"},AI={class:"spell-cell"},BI={class:"spell-cell"},qI={key:3,class:"heading heading-drops"},FI={class:"drops"},UI=["onMouseenter"],LI={class:"amount"},OI={class:"chance"},WI={__name:"BestiaryEntry",props:["enemy","clearSelected"],setup(e){return(t,n)=>(g(),m(B,null,[l("button",{class:"btn",onClick:n[0]||(n[0]=s=>e.clearSelected())}," Back to Bestiary"),l("div",wI,[J(xu,{enemy:e.enemy},null,8,["enemy"]),l("div",kI,[l("img",{class:"image",src:e.enemy.image,alt:""},null,8,bI)]),e.enemy.getSpells()?(g(),m("div",EI,"Basic information")):T("",!0),e.enemy.description?(g(),m("div",II,H(e.enemy.description),1)):T("",!0),l("div",SI,[ne(" Defeating this enemy will grant "+H(e.enemy.exp)+" ",1),xI,ne(" (base). ")]),e.enemy.getSpells()?(g(),m("div",MI,"Spells")):T("",!0),l("div",RI,[e.enemy.getSpells().length===0?(g(),m("div",TI," This creature does not cast any spells. ")):(g(),m("div",$I,[l("div",DI,[l("div",{class:"spell-cell",onMouseenter:n[1]||(n[1]=s=>r(G)({component:le(me),title:"<span class='c-highlight'>Spell</span>",descriptions:{description:"The enemy spell.<br><br> Enemies can both attack and cast spells in the same game tick."}})),onMouseleave:n[2]||(n[2]=s=>r(O)())}," Spell ",32),l("div",{class:"spell-cell",onMouseenter:n[3]||(n[3]=s=>r(G)({component:le(me),title:"<span class='c-highlight'>Chance</span>",descriptions:{description:"The chance to cast a spell in each tick.<br><br>  Provided the enemy has enough required resource, all spells can be casted within the same tick."}})),onMouseleave:n[4]||(n[4]=s=>r(O)())}," Chance ",32),l("div",{class:"spell-cell",onMouseenter:n[5]||(n[5]=s=>r(G)({component:le(me),title:"<span class='c-highlight'>Health Threshold</span>",descriptions:{description:"The health threshold an enemy has to reach to be able to cast this spell.<br><br> Additional constraints may be applicable (e.g. casting the spell only once per battle)."}})),onMouseleave:n[6]||(n[6]=s=>r(O)())}," HPT ",32),l("div",{class:"spell-cell",onMouseenter:n[7]||(n[7]=s=>r(G)({component:le(me),title:"<span class='c-highlight'>Mana Threshold</span>",descriptions:{description:"The mana threshold an enemy has to reach to be able to cast this spell.<br><br> Additional constraints may be applicable (e.g. casting the spell only once per battle)."}})),onMouseleave:n[8]||(n[8]=s=>r(O)())}," MPT ",32)])])),(g(!0),m(B,null,oe(e.enemy.getSpells(),s=>(g(),m("div",CI,[l("div",{class:"spell-cell",onMouseenter:o=>r(G)(s.spell.getTooltipProps()),onMouseleave:n[9]||(n[9]=o=>r(O)())}," <"+H(s.spell.name)+"> ",41,HI),l("div",PI,H(s.chance)+"%",1),l("div",AI,H(s.hpThreshold===void 0?100:s.hpThreshold*100)+"% ",1),l("div",BI,H(s.mpThreshold===void 0?100:s.mpThreshold*100)+"% ",1)]))),256))]),e.enemy.getDrops()?(g(),m("div",qI,"Drops")):T("",!0),l("div",FI,[(g(!0),m(B,null,oe(e.enemy.getDrops(),s=>(g(),m("div",{class:"drop",onMouseenter:o=>r(G)(s.item.getTooltipProps()),onMouseleave:n[10]||(n[10]=o=>r(O)())},[J(Kn,{item:s.item},null,8,["item"]),l("div",LI,"x"+H(s.amount),1),l("div",OI,H(r(we).getDropChance(s))+"%",1)],40,UI))),256))])])],64))}},GI=Q(WI,[["__scopeId","data-v-da6e8305"]]),KI={class:"bestiary"},jI={key:0,class:"cards"},NI=["onClick"],VI={class:"name"},QI={class:"image-wrapper"},YI=["src"],JI={__name:"Bestiary",setup(e){const t=c.get(),n=nt(null),s=a=>{t.bestiary[a]&&(n.value=a)},o=()=>n.value=null;return(a,d)=>(g(),m("div",KI,[n.value?T("",!0):(g(),m("div",jI,[(g(!0),m(B,null,oe(r(t).bestiary,(f,_)=>(g(),m("div",{class:se(["card",{disabled:!r(t).bestiary[_]}]),onClick:b=>s(_)},[r(t).bestiary[_]?(g(),m(B,{key:0},[l("div",VI,H(r(ae)[_].name),1),l("div",QI,[l("img",{class:"image",src:r(P)(_)},null,8,YI)])],64)):(g(),m("div",{key:1,class:"unknown",onMouseenter:d[0]||(d[0]=b=>r(G)({component:le(me),title:"Locked",descriptions:{description:"Acquire the enemy card in order to unlock this entry."}})),onMouseleave:d[1]||(d[1]=b=>r(O)())},"  ",32))],10,NI))),256))])),n.value?(g(),xe(GI,{key:1,enemy:r(ae)[n.value],clearSelected:o},null,8,["enemy"])):T("",!0)]))}},zI=Q(JI,[["__scopeId","data-v-cf6b750f"]]),XI={class:"wrapper"},ZI={class:"title"},eS={class:"achievements"},tS=["onMouseenter"],nS=["src"],sS={key:1,class:"achievement disabled"},iS=["src"],oS={__name:"Achievements",setup(e){let t=Object.values(Mt),n=R(()=>bt.getUnlockedAchievements());return(s,o)=>(g(),m("div",XI,[l("div",ZI," Unlocked: "+H(r(n).length)+" / "+H(r(t).length),1),l("div",eS,[(g(!0),m(B,null,oe(r(t),a=>(g(),m(B,null,[r(n).includes(a)?(g(),m("div",{key:0,class:"achievement",onMouseenter:d=>r(G)(r(bt).getTooltipProps(a)),onMouseleave:o[0]||(o[0]=d=>r(O)())},[l("img",{class:"icon",src:r(P)(a.getIcon())},null,8,nS)],40,tS)):(g(),m("div",sS,[l("img",{class:"icon",src:r(P)(a.getIcon())},null,8,iS)]))],64))),256))])]))}},rS=Q(oS,[["__scopeId","data-v-cf6f8141"]]),Wo=(e,t)=>(t=t===void 0?2:t,e>1e3?at(e/1e3,t)+"k":e>1e6?at(e/1e6,t)+"m":at(e)),Au=e=>(lt("data-v-42925493"),e=e(),ct(),e),aS={class:"detail"},lS={class:"heading"},cS={class:"description"},uS={class:"value"},dS={class:"sources"},gS=Au(()=>l("div",{class:"sources-heading"},"Sources:",-1)),fS={class:"base"},mS=Au(()=>l("span",null,"Base:",-1)),pS={class:"source"},_S={__name:"StatDetail",props:["stat"],setup(e){const t=e,n=R(()=>Object.fromEntries(Object.entries(t.stat.state.modifiers).sort(([,s],[,o])=>s.sourceType==="level"?-1:1)));return(s,o)=>(g(),m("div",aS,[l("div",lS,H(e.stat.title),1),l("div",cS,H(e.stat.description),1),l("div",uS,"Value: "+H(e.stat.value),1),l("div",dS,[gS,l("div",fS,[mS,ne(),l("span",null,H(e.stat.state.base),1)]),(g(!0),m(B,null,oe(n.value,(a,d)=>(g(),m("div",pS,[l("span",null,H(r(wv)(d,a.sourceType))+":",1),l("span",null,H(r(Wo)(a.value,2)+(a.valueType==="percentage"?"%":"")),1)]))),256))])]))}},hS=Q(_S,[["__scopeId","data-v-42925493"]]),yS={class:"stats"},vS={class:"vertical-nav secondary"},wS=["onClick"],kS={class:"stat"},bS={class:"stat-value"},ES={class:"nav-content"},IS={__name:"Stats",setup(e){let t=bv;const n=c.get(),s=R(()=>n.journal.selectedStat),o=function(a){n.journal.selectedStat=a};return(a,d)=>(g(),m("div",yS,[l("div",vS,[(g(!0),m(B,null,oe(r(t),f=>{var _;return g(),m("div",{class:se(["nav-item",{active:((_=s.value)==null?void 0:_.key)==f.key}]),onClick:b=>o(f)},[l("span",kS,H(f.title),1),l("span",bS,H(f.value),1)],10,wS)}),256))]),l("div",ES,[s.value?(g(),xe(hS,{key:0,stat:s.value},null,8,["stat"])):T("",!0)])]))}},SS=Q(IS,[["__scopeId","data-v-5bb4f4e5"]]),mn=e=>(lt("data-v-6b9f3af7"),e=e(),ct(),e),xS={class:"guidebook"},MS={class:"vertical-nav secondary"},RS=["onClick"],TS={class:"category"},$S={class:"nav-content"},DS={key:0,class:"content-item"},CS=mn(()=>l("br",null,null,-1)),HS=mn(()=>l("br",null,null,-1)),PS=mn(()=>l("br",null,null,-1)),AS=mn(()=>l("br",null,null,-1)),BS=mn(()=>l("br",null,null,-1)),qS=mn(()=>l("br",null,null,-1)),FS={key:1,class:"content-item"},US=mn(()=>l("br",null,null,-1)),LS=mn(()=>l("br",null,null,-1)),OS=mn(()=>l("br",null,null,-1)),WS=mn(()=>l("br",null,null,-1)),GS=mn(()=>l("br",null,null,-1)),KS=mn(()=>l("br",null,null,-1)),jS={__name:"Guidebook",setup(e){const t=c.get(),n=R(()=>t.journal.selectedGuidebookEntry),s=function(a){t.journal.selectedGuidebookEntry=a},o={titles:"Titles",cards:"Cards"};return(a,d)=>(g(),m("div",xS,[l("div",MS,[(g(),m(B,null,oe(o,f=>{var _;return l("div",{class:se(["nav-item",{active:((_=n.value)==null?void 0:_.key)==f.key}]),onClick:b=>s(f)},[l("span",TS,H(f),1)],10,RS)}),64))]),l("div",$S,[n.value===o.titles?(g(),m("div",DS,[ne(" Certain feats in the game will unlock titles."),CS,HS,ne(" When a title has certain bonuses specified to it, these bonuses are received automatically with the title and are permanent."),PS,AS,ne(" The bonuses do not require you to actively use the title."),BS,qS,ne(" Therefore, choosing which title to use is simply a matter of preference ")])):T("",!0),n.value===o.cards?(g(),m("div",FS,[ne(" Every enemy in the world has a chance to drop a card."),US,LS,ne(" Getting a card will unlock bestiary entry for that enemy."),OS,WS,ne(" Cards can also be used to apply an enchant to equipment with enchanting slot."),GS,KS,ne(" The card is used up in this process (the bestiary pages stay). ")])):T("",!0)])]))}},NS=Q(jS,[["__scopeId","data-v-6b9f3af7"]]),VS={class:"journal"},QS={class:"nav"},YS={class:"content"},JS={__name:"Journal",setup(e){const t=c.get(),n=R(()=>t.journal.selectedTab),s=function(a){t.journal.selectedTab=a};let o={People:yI,AcceptedQuests:Du,Bestiary:zI,Achievements:rS,Stats:SS,Guidebook:NS};return(a,d)=>(g(),m("div",VS,[l("div",QS,[l("div",{class:se(["nav-item",{active:n.value=="AcceptedQuests"}]),onClick:d[0]||(d[0]=f=>s("AcceptedQuests"))}," Quests ",2),l("div",{class:se(["nav-item",{active:n.value=="People"}]),onClick:d[1]||(d[1]=f=>s("People"))}," Travelers ",2),l("div",{class:se(["nav-item",{active:n.value=="Bestiary"}]),onClick:d[2]||(d[2]=f=>s("Bestiary"))}," Bestiary ",2),l("div",{class:se(["nav-item",{active:n.value=="Achievements"}]),onClick:d[3]||(d[3]=f=>s("Achievements"))}," Achievements ",2),l("div",{class:se(["nav-item",{active:n.value=="Stats"}]),onClick:d[4]||(d[4]=f=>s("Stats"))}," Stats ",2)]),l("div",YS,[(g(),xe(Eo(r(o)[n.value])))])]))}},zS=Q(JS,[["__scopeId","data-v-38b0a611"]]),Cr=e=>{const t=c.get();if(t.activeOverlay===e){t.activeOverlay=null;return}c.get().activeOverlay=e},Hr={blessings:"blessings",updates:"updates",about:"about",settings:"settings"},XS={class:"menu"},ZS={class:"left"},ex=["src"],tx=["src"],nx=["src"],sx=["src"],ix=["src"],ox=["src"],rx={class:"right"},ax=["src"],lx=["src"],cx=["src"],ux=["src"],dx=["src"],gx=["src"],fx=["src"],mx={__name:"Menu",setup(e){return(t,n)=>(g(),m("div",XS,[l("div",ZS,[l("div",{class:"icon-wrapper-small",onMouseenter:n[0]||(n[0]=s=>r(G)({component:le(me),title:"Pause",descriptions:{description:"Pauses the game."}})),onMouseleave:n[1]||(n[1]=s=>r(O)()),onClick:n[2]||(n[2]=At(s=>r(Ce).pauseGame(),["stop"]))},[l("img",{class:"icon",src:r(P)("speed0"),alt:""},null,8,ex)],32),l("div",{class:"icon-wrapper-small",onMouseenter:n[3]||(n[3]=s=>r(G)({component:le(me),title:"Normal Speed",descriptions:{description:"Runs the game at normal speed."}})),onMouseleave:n[4]||(n[4]=s=>r(O)()),onClick:n[5]||(n[5]=At(s=>r(Ce).setSpeed(1),["stop"]))},[l("img",{class:"icon",src:r(P)("speed1"),alt:""},null,8,tx)],32),r(c).debug?(g(),m("div",{key:0,class:"icon-wrapper-small",onMouseenter:n[6]||(n[6]=s=>r(G)({component:le(me),title:"Double Speed",descriptions:{description:"Runs the game at double speed."}})),onMouseleave:n[7]||(n[7]=s=>r(O)()),onClick:n[8]||(n[8]=At(s=>r(Ce).setSpeed(2),["stop"]))},[l("img",{class:"icon",src:r(P)("speed2"),alt:""},null,8,nx)],32)):T("",!0),r(c).debug?(g(),m("div",{key:1,class:"icon-wrapper-small",onMouseenter:n[9]||(n[9]=s=>r(G)({component:le(me),title:"Super Speed",descriptions:{description:"Runs the game at 10 times the normal speed."}})),onMouseleave:n[10]||(n[10]=s=>r(O)()),onClick:n[11]||(n[11]=At(s=>r(Ce).setSpeed(10),["stop"]))},[l("img",{class:"icon",src:r(P)("speed3"),alt:""},null,8,sx)],32)):T("",!0),r(c).debug?(g(),m("div",{key:2,class:"icon-wrapper-small",onMouseenter:n[12]||(n[12]=s=>r(G)({component:le(me),title:"Super Speed",descriptions:{description:"Runs the game at 50 times the normal speed."}})),onMouseleave:n[13]||(n[13]=s=>r(O)()),onClick:n[14]||(n[14]=At(s=>r(Ce).setSpeed(50),["stop"]))},[l("img",{class:"icon",src:r(P)("speed3"),alt:""},null,8,ix)],32)):T("",!0),r(c).debug?(g(),m("div",{key:3,class:"icon-wrapper-small",onMouseenter:n[15]||(n[15]=s=>r(G)({component:le(me),title:"Super Speed",descriptions:{description:"Runs the game at 100 times the normal speed."}})),onMouseleave:n[16]||(n[16]=s=>r(O)()),onClick:n[17]||(n[17]=At(s=>r(Ce).setSpeed(100),["stop"]))},[l("img",{class:"icon",src:r(P)("speed3"),alt:""},null,8,ox)],32)):T("",!0)]),l("div",rx,[l("div",{class:"icon-wrapper",onMouseenter:n[18]||(n[18]=s=>r(G)({component:le(me),title:"Dark Mode",descriptions:{description:"Dims the background.<br><br>Click to toggle."}})),onMouseleave:n[19]||(n[19]=s=>r(O)()),onClick:n[20]||(n[20]=At(s=>r(c).get().darkMode=!r(c).get().darkMode,["stop"]))},[l("img",{class:"icon",src:r(P)("night"),alt:""},null,8,ax)],32),l("div",{class:"icon-wrapper",onMouseenter:n[21]||(n[21]=s=>r(G)({component:le(me),title:"Updates",descriptions:{description:"Check out what's new!<br><br>Opens the updates overlay."}})),onMouseleave:n[22]||(n[22]=s=>r(O)()),onClick:n[23]||(n[23]=At(s=>r(Cr)(r(Hr).updates),["stop"]))},[l("img",{class:"icon",src:r(P)("updates"),alt:""},null,8,lx)],32),r(c).isSaved()?(g(),m("div",{key:0,class:"icon-wrapper",onMouseenter:n[24]||(n[24]=s=>r(G)({component:le(me),title:"Save",descriptions:{description:"Your progress is saved."}})),onMouseleave:n[25]||(n[25]=s=>r(O)())},[l("img",{class:"icon",src:r(P)("save-good"),alt:""},null,8,cx)],32)):(g(),m("div",{key:1,class:"icon-wrapper",onMouseenter:n[26]||(n[26]=s=>r(G)({component:le(me),title:"Old Save",descriptions:{description:"Your save is older than it should be.<br> Click this icon to save manually"}})),onMouseleave:n[27]||(n[27]=s=>r(O)()),onClick:n[28]||(n[28]=At(s=>r(c).save(),["stop"]))},[l("img",{class:"icon",src:r(P)("save-bad"),alt:""},null,8,ux)],32)),l("div",{class:"icon-wrapper",onMouseenter:n[29]||(n[29]=s=>r(G)({component:le(me),title:"Save Export",descriptions:{description:"Click this to export your save into a text file."}})),onMouseleave:n[30]||(n[30]=s=>r(O)()),onClick:n[31]||(n[31]=At(s=>r(c).exportSave(),["stop"]))},[l("img",{class:"icon",src:r(P)(r(Ne).export_save),alt:""},null,8,dx)],32),l("div",{class:"icon-wrapper",onMouseenter:n[32]||(n[32]=s=>r(G)({component:le(me),title:"About",descriptions:{description:"Opens the about overlay."}})),onMouseleave:n[33]||(n[33]=s=>r(O)()),onClick:n[34]||(n[34]=At(s=>r(Cr)(r(Hr).about),["stop"]))},[l("img",{class:"icon",src:r(P)("question_mark"),alt:""},null,8,gx)],32),l("div",{class:"icon-wrapper",onMouseenter:n[35]||(n[35]=s=>r(G)({component:le(me),title:"Settings",descriptions:{description:"Opens the settings overlay."}})),onMouseleave:n[36]||(n[36]=s=>r(O)()),onClick:n[37]||(n[37]=At(s=>r(Cr)(r(Hr).settings),["stop"]))},[l("img",{class:"icon",src:r(P)("settings"),alt:""},null,8,fx)],32)])]))}},px=Q(mx,[["__scopeId","data-v-22cd47ed"]]),_x={class:"information-window box"},hx={class:"nav"},yx={class:"content"},vx={__name:"InfoWIndow",setup(e){const t=c.get(),n=R(()=>t.selectedInfoTab),s=function(a){t.selectedInfoTab=a};let o={Log:sI,Journal:zS};return(a,d)=>(g(),m("div",_x,[l("div",hx,[l("div",{class:se(["nav-item",{active:n.value=="Log"}]),onClick:d[0]||(d[0]=f=>s("Log"))}," Log ",2),l("div",{class:se(["nav-item",{active:n.value=="Journal"}]),onClick:d[1]||(d[1]=f=>s("Journal"))}," Journal ",2)]),l("div",yx,[(g(),xe(Eo(r(o)[n.value])))]),J(px)]))}},wx=Q(vx,[["__scopeId","data-v-67b01a47"]]),kx={__name:"Tooltip",setup(e){const t=function(n,s,o){let a=o.getBoundingClientRect(),d=30,f=6,_=n.clientX,b=n.clientY,I=b+d,$=_+d,j=b+s.offsetHeight+d+f,re=_+s.offsetWidth+d+f;a.bottom<j&&(I=I-(j-a.bottom)),a.right<re&&($=_-s.offsetWidth-d/2),s.style.top=I+"px",s.style.left=$+"px"};return Nn(()=>{const n=document.getElementById("tooltipElement"),s=document.getElementById("container");window.addEventListener("mousemove",o=>t(o,n,s))}),as(()=>{window.removeEventListener("mousemove",t)}),(n,s)=>(g(),m("div",{id:"tooltipElement",class:se(["tooltip",{active:r(w).visible,split:r(w).props.split}])},[(g(),xe(Eo(r(w).props.component)))],2))}},bx=Q(kx,[["__scopeId","data-v-3ddd1579"]]),Ex={class:"wrapper"},Ix={__name:"Overlay",props:["hideCallback"],setup(e){const t=e,n=nt(null),s=a=>{if(n.value.contains(a.target)){a.stopPropagation();return}t.hideCallback()},o=a=>{a.key==="Escape"&&t.hideCallback()};return Nn(()=>{window.addEventListener("click",s),window.addEventListener("keydown",o)}),as(()=>{window.removeEventListener("click",s),window.removeEventListener("keydown",o)}),(a,d)=>(g(),m("div",Ex,[l("div",{class:"overlay",ref_key:"self",ref:n},[l("div",{class:"close",onClick:d[0]||(d[0]=(...f)=>e.hideCallback&&e.hideCallback(...f))},""),Vd(a.$slots,"default",{},void 0)],512)]))}},ta=Q(Ix,[["__scopeId","data-v-949a5ccc"]]),lr=e=>(lt("data-v-002c9cc8"),e=e(),ct(),e),Sx=lr(()=>l("div",{class:"title"},"Thank you for playing!",-1)),xx=lr(()=>l("div",{class:"author"},"Brought to you by Motas.",-1)),Mx=lr(()=>l("a",{href:"https://discord.gg/smhg6YjffY",class:"link",target:"_blank"},"Join us on discord!",-1)),Rx=lr(()=>l("div",{class:"credits-title"},"Credits:",-1)),Tx=lr(()=>l("div",{class:"credits"},[l("div",{class:"credits-item"}," Wife  (Playtesting, graphical edits and overall support) "),l("div",{class:"credits-item"},[l("a",{target:"_blank",href:"http://www.akashics.moe/"},"Aekashics"),ne(" (Battlers) ")]),l("div",{class:"credits-item"},[l("a",{target:"_blank",href:"https://pipoya.itch.io/free-rpg-monster-pack"},"Pipoya"),ne(" (Battlers) ")]),l("div",{class:"credits-item"},[l("a",{target:"_blank",href:"https://clockworkraven.itch.io/"},"Clockwork Raven"),ne(" (Icons) ")]),l("div",{class:"credits-item"},[l("a",{target:"_blank",href:"https://finalbossblues.itch.io/"},"finalbossblues"),ne(" (Icons) ")])],-1)),$x={__name:"AboutOverlay",props:["hideCallback"],setup(e){return(t,n)=>(g(),xe(ta,{hideCallback:e.hideCallback},{default:sr(()=>[Sx,xx,Mx,Rx,Tx]),_:1},8,["hideCallback"]))}},Dx=Q($x,[["__scopeId","data-v-002c9cc8"]]),gs=e=>(lt("data-v-b8c5d62b"),e=e(),ct(),e),Cx=gs(()=>l("div",{class:"title"},"Updates",-1)),Hx=gs(()=>l("div",{class:"update"},[l("div",{class:"date"},"29. 01. 2025"),l("ul",{class:"item"},[l("li",null,'Added "dark mode"'),l("li",null,"Runes are now permanent, even inscribed"),l("li",null,"Runecarving progress is now permanent"),l("li",null," When sleeping until morning, the player is healed to full and all finite status effects are removed regardless of time left to morning "),l("li",null,"Increased the HP of Shadow Hound 2k -> 3k"),l("li",null," Reduced the amount of items needed for enchantments: rat tails 100 -> 30; feathers 100 -> 25; rabbit fur 100 -> 25 "),l("li",null,"Lowered the price of current enchants from 5s to 1s"),l("li",null,"Lowered the price of current enchant diagrams from 10s to 5s"),l("li",null," Lowered the reading time of current enchant diagrams from 600s to 180s "),l("li",null,"Added Twig to the game, drops from training dummy (10%)"),l("li",null," Added quest for Twig (20) from Splinta, this quest is the easiest to complete and provides bread, water and a potion as a reward. It is also always generated on quest reset. "),l("li",null,"Added minor experience enchantment using Twig"),l("li",null,"Added boar tusk and goat horn to the game"),l("li",null,"Added 2 new F rank quests for goat horn and boar tusk"),l("li",null," Added DR and MDEF enchantments using goat horn and boar tusk as materials "),l("li",null," Added DR and MDEF enchantments to enchanter shop, along with respective diagrams "),l("li",null," Changed skill exp rounding from 0 decimals to 2 decimals, fractional gains are now possible "),l("li",null," Changed the bestiary books reading time from 1 second to 60 seconds "),l("li",null," Added a failsafe so equipped items cannot be deleted (despite Ui not allowing it) "),l("li",null,"Lowered the font size for race and element stats of an enemy"),l("li",null,"Fixed some typos"),l("li",null," Fixed an issue where enchanting an item into out-of-order slot would throw an error on game load "),l("li",null," Fixed cooldowns not ticking down when the item was not in the currently selected inventory tab ")])],-1)),Px=gs(()=>l("div",{class:"update"},[l("div",{class:"date"},"27. 01. 2025"),l("ul",{class:"item"},[l("li",null,"Halved the reading duration of all diagrams"),l("li",null," Lowered the reading duration on enchantment diagrams to 10 minutes "),l("li",null," Lowered the reading duration of arcane bolt diagram to 30 seconds "),l("li",null,"Added the option to sleep until morning at night"),l("li",null," Added Martial Arts blessing on floor 5 to demonstrate the skill rank system "),l("li",null," Lowered second floor boss HP from 5k to 1k (10 fire scrolls should be sufficient to kill him with 40 int) "),l("li",null,"Added support for bleed / burn / poison resist for enemies"),l("li",null," Added 80 bleed resist to second floor boss (due to lowering its HP) "),l("li",null,"Changed the second row of stats for enemies"),l("li",null,"Fixed rune getting unequipped from second slot on rebirth"),l("li",null,"Fixed UI overlapping issues"),l("li",null,"Fixed some more rounding issues")])],-1)),Ax=gs(()=>l("div",{class:"update"},[l("div",{class:"date"},"26. 01. 2025"),l("ul",{class:"item"},[l("li",null,"Sleeping in bed now clears status effects faster"),l("li",null,"Added list of materials on Diagrams"),l("li",null,"Added reputation to the job board"),l("li",null,"Added next quest reset time to the job board"),l("li",null,"Added log message whenever new quests are generated"),l("li",null,"Added blinking animation to the inventory guide button"),l("li",null,' Added a small question mark to make it a bit more obvious that "Make your choice" while rebirthing is hoverable '),l("li",null," Changed reception so you can finish quests directly form the guild (one less click) "),l("li",null,"Added current hp regen to health tooltip"),l("li",null,"Added current mp regen to mana tooltip"),l("li",null," Added current exp / exp required to the exp tooltip, the exp here is formatted to 2 decimal places "),l("li",null,"Added a log notification when bestiary entry is unlocked"),l("li",null,"Added a firefox hack to remove the inventory issues"),l("li",null," Added inventory controls button, to allow the game to at least be playable somewhat on mobile "),l("li",null,"Changed spider silk icon"),l("li",null,"Changed enchanted water icon"),l("li",null,"Changed woodcutting icon"),l("li",null,"Fixed critical chance not updating on dex tooltip"),l("li",null," Fixed issue with status effect identifier throwing errors in console "),l("li",null," Fixed enchant slots being overlapped by item icon in equipment slots "),l("li",null,"Fixed some typos"),l("li",null," Fixed console errors when clicking rebirth without selecting blessing / equip to heirloom "),l("li",null," Fixed an issue where a weapon consumed all clean copies regardless of exp left to awakening "),l("li",null," Fixed an issue where rune would get experience despite not having enough mana to cast the spell "),l("li",null,"Fixed some minor UI bugs")])],-1)),Bx=gs(()=>l("div",{class:"update"},[l("div",{class:"date"},"24. 01. 2025"),l("ul",{class:"item"},[l("li",null," Fixed an issue with ever-growing logs killing localStorage limits. ")])],-1)),qx=gs(()=>l("div",{class:"update"},[l("div",{class:"date"},"23. 01. 2025"),l("ul",{class:"item"},[l("li",null,"Added a close button to overlays"),l("li",null," Increased the drop rate of Bear Card from 0.01% to 1%. 1% was the intended amount. "),l("li",null," Decreased the amount of materials required by every quest by approximately 20%. "),l("li",null,"Increased the time limit for wolf fang quest from 3 to 5 days."),l("li",null," Lowered the maximum amount of messages per category in log from 500 to 250 due to reported lag issues. "),l("li",null," Changed Lomsi entry in journal to include the tip about some monsters having variable loot table based on equipment. "),l("li",null,' Added a note to inventory tutorial explaining that equipment removal happens by "completing quests", instead of just "quests" to avoid people thinking quests will delete items out of nowhere '),l("li",null,"Added a line-through on inactive perks for more recognizability"),l("li",null," Added a highlight background to the inventory guide. It can be disabled by clicking on it. "),l("li",null,"Added exp info to bestiary"),l("li",null,"Getting Felling Axe is now unmissable, even within single life"),l("li",null," Added sorting inventory by type, the priorities (can be inverted by clicking again) are as follows: equip, consumable, readable, material, junk, enchant, card. "),l("li",null," Fixed issue where damage over time effects from floor bosses made it impossible to check hp regeneration stat "),l("li",null,"Fixed player name resetting on Rebirth"),l("li",null,"Fixed inventory sort and filter resetting on Rebirth"),l("li",null,"Fixed log filter resetting on rebirth"),l("li",null,"Fixed some console warnings"),l("li",null,"Fixed an issue where any spell worked for staff resonance")])],-1)),Fx=gs(()=>l("div",{class:"update"},[l("div",{class:"date"},"22. 01. 2025"),l("ul",{class:"item"},[l("li",null,"Raised exp gained from trees and iron veins"),l("li",null,"Fixed exp rounding issues"),l("li",null,"Better message when trying to enchant during other actions"),l("li",null,"Added string as purchaseable option in Tailor's shop"),l("li",null,"Added Heirloom inventory filter"),l("li",null,"Added money hover info"),l("li",null," Added hint on Heirloom Blessing to pick armor if efficiency is the goal ")])],-1)),Ux=gs(()=>l("div",{class:"update"},[l("div",{class:"date"},"21. 01. 2025"),l("ul",{class:"item"},[l("li",null,[ne(" Added "),l("a",{href:"https://discord.gg/smhg6YjffY",target:"_blank",class:"link"},"discord link"),ne(" to the About overlay. ")]),l("li",null," Added felling axe, its awakening, awakening achievement and resonance achievement. It can be received from Splinta when asking about free equipment (have to exhaust the full dialogue - ask where to get wood). If you already finished this dialogue, it will be available to you after you accept a tower's blessing (prestige, after defeating floor 1 boss). ")])],-1)),Lx={__name:"UpdatesOverlay",props:["hideCallback"],setup(e){return(t,n)=>(g(),xe(ta,{hideCallback:e.hideCallback},{default:sr(()=>[Cx,Hx,Px,Ax,Bx,qx,Fx,Ux]),_:1},8,["hideCallback"]))}},Ox=Q(Lx,[["__scopeId","data-v-b8c5d62b"]]),Wx=e=>(lt("data-v-8f817492"),e=e(),ct(),e),Gx=Wx(()=>l("div",{class:"title"},"Settings",-1)),Kx={class:"save-controls"},jx={class:"button-group"},Nx={class:"button-group"},Vx={__name:"SettingsOverlay",props:["hideCallback"],setup(e){const t=nt(null),n=nt(null),s=()=>{n.value.value===""||!confirm("Are you sure?")||(c.loadFromString(n.value.value),c.get().activeOverlay=null,O())},o=()=>{!confirm("Are you sure?")||!confirm("Really?")||!confirm("Last chance!")||!confirm("As you wish...")||(c.init(),O())};return(a,d)=>(g(),xe(ta,{hideCallback:e.hideCallback},{default:sr(()=>[Gx,l("div",Kx,[l("div",jx,[l("button",{class:"btn cancel",onMouseenter:d[0]||(d[0]=f=>r(G)({component:le(me),title:"Generate save",descriptions:{description:"Clicking this button will generate a save text into the text input next to it.<br><br> This save text can be imported below to return to this game state later, or it can be saved into a file as a backup."}})),onMouseleave:d[1]||(d[1]=f=>r(O)()),onClick:d[2]||(d[2]=f=>t.value.value=r(c).getStateString())}," Generate Save ",32),l("input",{class:"input",type:"text",ref_key:"saveInput",ref:t},null,512)]),l("div",Nx,[l("button",{class:"btn cancel",onMouseenter:d[3]||(d[3]=f=>r(G)({component:le(me),title:"Import save",descriptions:{description:"Inputting a valid save text into the input next to this button and then pressing this button will set the game state to the state preserved in the save text.<br><br> This action cannot be undone, and it is recommended to create a backup first."}})),onMouseleave:d[4]||(d[4]=f=>r(O)()),onClick:d[5]||(d[5]=f=>s())}," Import Save ",32),l("input",{class:"input",type:"text",ref_key:"loadInput",ref:n},null,512)])]),l("button",{class:"btn cancel reset",onMouseenter:d[6]||(d[6]=f=>r(G)({component:le(me),title:"Reset game",descriptions:{description:"This will completely reset the game. Everything will be removed, including permanent progression.<br><br> This cannot be undone."}})),onMouseleave:d[7]||(d[7]=f=>r(O)()),onClick:d[8]||(d[8]=f=>o())}," Reset Game ",32)]),_:1},8,["hideCallback"]))}},Qx=Q(Vx,[["__scopeId","data-v-8f817492"]]),Yx=e=>(lt("data-v-e0615d74"),e=e(),ct(),e),Jx=Yx(()=>l("div",{class:"title"},"Acquired Blessings",-1)),zx={class:"floor-wrapper"},Xx={class:"floor-title"},Zx={class:"blessings-wrapper"},eM=["onMouseenter"],tM=["src"],nM=["src"],sM={key:0,class:"limit"},iM={__name:"BlessingsOverlay",props:["hideCallback"],setup(e){const t=Se.getTakenBonusesCount(),n={},s=[];let o;for(const[a,d]of Object.entries(t)){let f=a.split("_");const _=f[f.length-1];n[_]===void 0&&(n[_]=[],s.push(_)),o=Yt[a],o.takenCount=d,n[_].push(o)}return s.sort((a,d)=>a-d),(a,d)=>(g(),xe(ta,{hideCallback:e.hideCallback},{default:sr(()=>[Jx,(g(),m(B,null,oe(s,f=>l("div",zx,[l("div",Xx,"Floor "+H(f),1),l("div",Zx,[(g(!0),m(B,null,oe(n[f],_=>(g(),m("div",{class:"blessing",onMouseenter:b=>r(G)(_.getTooltipProps()),onMouseleave:d[0]||(d[0]=b=>r(O)())},[l("img",{class:"blessing-underlay",src:r(P)("blessing"),alt:""},null,8,tM),l("img",{class:"blessing-icon",src:_.getIcon(),alt:""},null,8,nM),_.limit?(g(),m("div",sM,H(_.takenCount),1)):T("",!0)],40,eM))),256))])])),64))]),_:1},8,["hideCallback"]))}},oM=Q(iM,[["__scopeId","data-v-e0615d74"]]),rM={class:"top"},aM=["src"],lM={class:"label"},cM={key:0,class:"rank"},uM={class:"bottom"},dM={key:1,class:"maxed"},gM={__name:"Skill",props:["skill"],setup(e){return(t,n)=>(g(),m("div",{class:"skill",onMouseenter:n[0]||(n[0]=s=>r(G)(r(ie).getTooltipProps(e.skill))),onMouseleave:n[1]||(n[1]=s=>r(O)())},[l("div",rM,[l("img",{class:"icon",src:r(P)(e.skill.getIcon())},null,8,aM),l("span",lM,[r(ie).getRank(e.skill)?(g(),m("span",cM,H(r(Nt)("",r(ie).getRank(e.skill))),1)):T("",!0),ne(" "+H(r(ie).getLevel(e.skill))+" / "+H(r(ie).getMaxLevel(e.skill)),1)])]),l("div",uM,[r(ie).isMaxLevel(e.skill)?(g(),m("div",dM,"MAX")):(g(),xe(nn,{key:0,value:r(ie).getExp(e.skill),maxValue:r(ie).getExpToNextLevel(e.skill),color:"item-rank",hideValues:!0},null,8,["value","maxValue"]))])],32))}},fM=Q(gM,[["__scopeId","data-v-0ffeacfb"]]),mM={class:"wrapper"},pM={class:"skills"},_M={__name:"Skills",setup(e){return(t,n)=>(g(),m("div",mM,[l("div",pM,[(g(!0),m(B,null,oe(r(ie).getLearnedSkills(),s=>(g(),xe(fM,{skill:s},null,8,["skill"]))),256))])]))}},hM=Q(_M,[["__scopeId","data-v-112e1603"]]),yM={key:0,class:"enchant-slots"},vM=["src"],wM=["src"],kM={__name:"EquipmentSlot",props:["type","slot","slots","locked"],setup(e){function t(d){d&&S.useInventoryItem(d)}const n=e,s=R(()=>n.slots[n.slot]),o=R(()=>S.getInventoryItemById(n.slots[n.slot])),a=R(()=>s.value?S.getItemById(n.slots[n.slot]):null);return(d,f)=>(g(),m("div",{class:se([e.type,"slot",{filled:s.value}]),onClick:f[0]||(f[0]=_=>t(o.value)),onMouseenter:f[1]||(f[1]=_=>r(G)(r(ze).getTooltipProps(o.value))),onMouseleave:f[2]||(f[2]=_=>r(O)())},[s.value?(g(),m("div",yM,[(g(!0),m(B,null,oe(r(St).getEnchantingSlotsCount(o.value),_=>(g(),m("div",{class:se(["enchant-slot",{active:o.value.enchantSlots[_-1]}])},null,2))),256))])):T("",!0),e.locked?(g(),m("img",{key:2,src:r(P)("equipment_locked"),alt:""},null,8,wM)):(g(),m(B,{key:1},[s.value?(g(),xe(Kn,{key:0,item:a.value,isHeirloom:o.value.isHeirloom},null,8,["item","isHeirloom"])):(g(),m("img",{key:1,src:r(P)("equipment_"+e.type),alt:""},null,8,vM))],64))],34))}},fc=Q(kM,[["__scopeId","data-v-2cd8ed81"]]),bM={class:"equipment"},EM={class:"equip"},IM={class:"runes"},SM={__name:"Equipment",setup(e){const t=s=>s>=n.runes.availableSlots,n=c.get();return(s,o)=>(g(),m("div",bM,[l("div",EM,[(g(!0),m(B,null,oe(r(ue).getEquipmentSlots(),a=>(g(),xe(fc,{type:a,slot:a,slots:r(n).equipment},null,8,["type","slot","slots"]))),256))]),l("div",IM,[(g(!0),m(B,null,oe(r(n).runes.maxSlots,(a,d)=>(g(),xe(fc,{type:"rune",slot:d,slots:r(n).runes.slots,locked:t(d)},null,8,["slot","slots","locked"]))),256))])]))}},xM=Q(SM,[["__scopeId","data-v-e5b6c103"]]),MM=["onClick","onMouseenter"],RM={__name:"Title",setup(e){const t=R(()=>mo.getCurrentTitle()),n=nt(""),s=R(()=>mo.getUnlockedTitles(n.value)),o=nt(!1),a=nt(null),d=nt(null),f=nt(null),_=b=>{let I=a.value.contains(b.target)||d.value.contains(b.target);I&&b.stopPropagation(),I||(o.value=!1)};return Nn(()=>{window.addEventListener("click",_)}),as(()=>{window.removeEventListener("click",_)}),(b,I)=>(g(),m(B,null,[l("div",{class:"title",ref_key:"dropdownTrigger",ref:d,onClick:I[0]||(I[0]=$=>{o.value=!o.value,ja(()=>f.value.focus())})},H(t.value.name),513),l("div",{class:se(["titles vertical-nav",o.value?"active":""]),ref_key:"dropdown",ref:a},[Nc(l("input",{type:"text",class:"title-search","onUpdate:modelValue":I[1]||(I[1]=$=>n.value=$),ref_key:"search",ref:f},null,512),[[mu,n.value]]),(g(!0),m(B,null,oe(s.value,$=>(g(),m("div",{class:"nav-item",onClick:j=>{r(mo).setCurrentTitle($),o.value=!1},onMouseenter:j=>r(G)(r(mo).getTooltipProps($)),onMouseleave:I[2]||(I[2]=j=>r(O)())},H($.name),41,MM))),256))],2)],64))}},TM=Q(RM,[["__scopeId","data-v-e111f0e5"]]),$M={__name:"Name",setup(e){const t=c.get(),n=nt(!1),s=nt(null),o=nt(null),a=nt(null),d=_=>{let b=s.value.contains(_.target)||o.value.contains(_.target);b&&_.stopPropagation(),b||(n.value=!1)},f=_=>{(_.key==="Escape"||_.key==="Enter")&&(n.value=!1)};return Nn(()=>{window.addEventListener("click",d),window.addEventListener("keydown",f)}),as(()=>{window.removeEventListener("click",d),window.addEventListener("keydown",f)}),(_,b)=>(g(),m(B,null,[l("div",{class:"name",ref_key:"dropdownTrigger",ref:o,onClick:b[2]||(b[2]=I=>{n.value=!n.value,ja(()=>a.value.focus())})},[r(t).player.rank?(g(),m("span",{key:0,onMouseenter:b[0]||(b[0]=I=>r(G)({component:le(me),title:"Rank",descriptions:{description:"Your rank.<br> Doubles the amount of stats you gain each time you level up (additively)."}})),onMouseleave:b[1]||(b[1]=I=>r(O)())},H(r(Nt)("",r(t).player.rank)),33)):T("",!0),ne(" "+H(r(t).player.name)+", ",1)],512),l("div",{class:se(["dropdown vertical-nav",n.value?"active":""]),ref_key:"dropdown",ref:s},[Nc(l("input",{type:"text",class:"input","onUpdate:modelValue":b[3]||(b[3]=I=>r(t).player.name=I),ref_key:"input",ref:a,maxlength:"20"},null,512),[[mu,r(t).player.name]])],2)],64))}},DM=Q($M,[["__scopeId","data-v-1b400e40"]]),Bu=e=>(lt("data-v-898a82bc"),e=e(),ct(),e),CM={class:"status"},HM={class:"top"},PM=["src"],AM={class:"bottom"},BM={class:"left"},qM=Bu(()=>l("div",{class:"subtitle"},"Vitals",-1)),FM={class:"right"},UM=Bu(()=>l("div",{class:"subtitle"},"Equipment",-1)),LM={__name:"Status",setup(e){const t=R(()=>c.get()),n=R(()=>A.getStatusEffects()),s=R(()=>A.getHp()),o=R(()=>A.getMaxHp()),a=R(()=>A.getMp()),d=R(()=>A.getMaxMp()),f=R(()=>({component:le(me),title:"<span class='c-hp'>Health</span>",descriptions:R(()=>({description:`If this reaches zero, you wil get knocked out and saved by some random stranger that will drag you to your bed.<br><br><strong>Your current regeneration per tick:</strong><br><span class='c-hp'>${A.getHpRegen()} health + ${A.getHpRegenPercentage()}% maximum health</span>`}))})),_=R(()=>({component:le(me),title:"<span class='c-mp'>Mana</span>",descriptions:R(()=>({description:`Required to cast magical spells.<br><br><strong>Your current regeneration per tick:</strong><br><span class='c-mp'>${A.getMpRegen()} mana + ${A.getMpRegenPercentage()}% maximum mana</span>`}))})),b=R(()=>({component:le(me),title:"<span class='c-exp-lighter'>Experience</span>",descriptions:R(()=>({description:`Earned mainly by fighting enemies. After reaching the required amount, you will level up, granting you bonus stats.<br><br><strong>Current experience:</strong><br><span class='c-exp-lighter'>${Wo(A.getExp(),2)} / ${Wo(A.getExpToNextLevel(),2)}</span>`}))}));return(I,$)=>(g(),m("div",CM,[l("div",HM,[J(DM),J(TM),Object.keys(r(Se).getTakenBonusesCount()).length>0?(g(),m("div",{key:0,class:"blessing-toggle",onMouseenter:$[0]||($[0]=j=>r(G)({component:le(me),title:"Blessings",descriptions:{description:"Shows acquired blessings."}})),onMouseleave:$[1]||($[1]=j=>r(O)()),onClick:$[2]||($[2]=At(j=>r(Cr)(r(Hr).blessings),["stop"]))},[l("img",{class:"icon",src:r(P)("blessing_charisma"),alt:""},null,8,PM)],32)):T("",!0)]),l("div",AM,[l("div",BM,[qM,J(nn,{label:"HP:",value:s.value,maxValue:o.value,color:"red",onMouseenter:$[3]||($[3]=j=>r(G)(f.value)),onMouseleave:$[4]||($[4]=j=>r(O)())},null,8,["value","maxValue"]),J(nn,{label:"MP:",value:a.value,maxValue:d.value,color:"blue",onMouseenter:$[5]||($[5]=j=>r(G)(_.value)),onMouseleave:$[6]||($[6]=j=>r(O)())},null,8,["value","maxValue"]),J(nn,{label:r(A).isMaxLevel()?"Level: "+r(A).maxLevel:"Level: "+t.value.player.level+" | Exp: "+r(Wo)(t.value.player.exp,0)+"/"+r(Wo)(r(A).getExpToNextLevel(),0),value:t.value.player.exp,maxValue:r(A).getExpToNextLevel(),color:"exp",hideValues:!0,onMouseenter:$[7]||($[7]=j=>r(G)(b.value)),onMouseleave:$[8]||($[8]=j=>r(O)())},null,8,["label","value","maxValue"]),J(Su,{controller:r(A),style:"column"},null,8,["controller"]),J(Mu,{effects:n.value,target:"player"},null,8,["effects"])]),l("div",FM,[UM,J(xM)])])]))}},OM=Q(LM,[["__scopeId","data-v-898a82bc"]]),WM={class:"tabs box"},GM={class:"nav"},KM={class:"content"},jM={__name:"Tabs",setup(e){let t=nt("Status"),n={Skills:hM,Status:OM};return(s,o)=>(g(),m("div",WM,[l("div",GM,[l("div",{class:se(["nav-item",{active:r(t)=="Status"}]),onClick:o[0]||(o[0]=a=>Dt(t)?t.value="Status":t="Status")},"Status",2),l("div",{class:se(["nav-item",{active:r(t)=="Skills"}]),onClick:o[1]||(o[1]=a=>Dt(t)?t.value="Skills":t="Skills")},"Skills",2)]),l("div",KM,[(g(),xe(Eo(r(n)[r(t)])))])]))}},NM=Q(jM,[["__scopeId","data-v-2bf88ed4"]]),VM=()=>{let e=0,t=0,n=0;for(let s=1;s<=99;s++)t=(s*2)**(2.1+n/25),e+=t,console.log(`${s}: ${t}`);console.log(`sum: ${e}`)},QM={class:"container",id:"container"},YM={__name:"App",setup(e){const t={blessings:oM,updates:Ox,about:Dx,settings:Qx},n=c.get(),s=()=>n.activeOverlay=null;et.run();const o=R(()=>c.get().darkMode),a=navigator.userAgent.toLowerCase().includes("firefox"),d=()=>{a&&(document.getElementById("firefox-hack").style.scrollbarGutter="auto",document.getElementById("firefox-hack").style.scrollbarWidth="thin")};return Nn(()=>d()),Va(()=>d()),(f,_)=>(g(),m("div",{class:se(["page-wrapper",o.value?"dark":""])},[l("div",QM,[r(n).activeOverlay?(g(),xe(Eo(t[r(n).activeOverlay]),{key:0,hideCallback:s})):T("",!0),r(c).debug?(g(),m(B,{key:1},[l("button",{onClick:_[0]||(_[0]=b=>r(c).init())},"reset"),l("button",{onClick:_[1]||(_[1]=b=>r(c).save())},"save"),l("button",{onClick:_[2]||(_[2]=b=>r(c).load())},"load"),l("button",{onClick:_[3]||(_[3]=b=>r(n).elapsedTime+=60)},"addHour"),l("button",{onClick:_[4]||(_[4]=b=>r(n).elapsedTime+=24*60)},"addDay"),l("button",{onClick:_[5]||(_[5]=b=>r(ie).gainExp(r(K).runecarving,1))}," add runecarving exp "),l("button",{onClick:_[6]||(_[6]=b=>r(VM)())},"printExpTable"),l("button",{onClick:_[7]||(_[7]=b=>r(A).addMoney(1e4))},"Give money"),l("button",{onClick:_[8]||(_[8]=b=>r(A).gainExp(1e4))},"Give exp"),l("button",{onClick:_[9]||(_[9]=b=>r(Re)(r(p).bed))},"To bed"),l("button",{onClick:_[10]||(_[10]=b=>r(Re)(r(p).floor5_cleared))}," To rebirth "),l("button",{onClick:_[11]||(_[11]=b=>r(A).getEntityState().hp=-1e5)}," Die "),l("button",{onClick:_[12]||(_[12]=b=>r(A).getEntityState().hp=10)}," Take damage "),l("button",{onClick:_[13]||(_[13]=b=>r(Ce).setMorning())},"Set morning")],64)):T("",!0),J(NM),J(qb),J(B1),J(sE),J(wx),J(bx)])],2))}};Zg(YM).mount("#app");
